<?xml version="1.0" encoding="ISO-8859-1"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
                      "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html  xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
<meta http-equiv="Content-Style-Type" content="text/css" />
<meta http-equiv="Content-type" content="text/html; charset=ISO-8859-1" />
<link rel="stylesheet" href="./robodoc.css" type="text/css" />
<title>./src/json_module.f90</title>
<!-- Source: ./src/json_module.f90 -->
<!-- Generated with ROBODoc Version 4.99.41 (May  3 2011) -->
</head>
<body>
<div id="logo">
<a name="robo_top_of_doc">jsonfortran master</a>
</div> <!-- logo -->
<div id="navigation">
<a class="menuitem" href="./toc_index.html#top">Table of Contents</a>
<a class="menuitem" href="./robo_sourcefiles.html#top">Sourcefiles</a>
<a class="menuitem" href="./masterindex.html#top">Index</a>
<a class="menuitem" href="./robo_interfaces.html#top">Interfaces</a>
<a class="menuitem" href="./robo_classes.html#top">Classes</a>
<a class="menuitem" href="./robo_definitions.html#top">Parameters</a>
<a class="menuitem" href="./robo_functions.html#top">Functions</a>
<a class="menuitem" href="./robo_modules.html#top">Modules</a>
<a class="menuitem" href="./robo_unittests.html#top">Unittest</a>
</div> <!-- navigation -->
<div id="content">
<hr />
<a name="JSON2fjson5fmodule"></a>
<a name="robo0"></a><h2>JSON/json_module [ Modules ]</h2>

<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="./robo_modules.html#robo_top_of_doc">Modules</a> ]</p>
<p class="item_name">NAME</p>
<p>    <strong>json_module</strong>
</p>
<p class="item_name">DESCRIPTION</p>
<p>    JSON-FORTRAN: A Fortran 2008 JSON (JavaScript Object Notation) API.
</p>
<p class="item_name">NOTES</p>
<ul><li>    Based on fson by Joseph A. Levin (see License below).
      The original F95 code was split into four files:
      fson_path_m.f95, fson_string_m.f95, fson_value_m.f95, and fson.f95.
      The code has been extensively modified and combined into this
      one module (<a href="#robo_top_of_doc">json_module.f90</a>).
      Some Fortran 2003/2008 features are now used
      (e.g., allocatable strings, newunit, generic, class, abstract interface)
</li>
<li>    The headers in this file follow the ROBODoc conventions. The API
      documentation can be generated by, for example:
</li>
</ul>
<p>
</p>
<pre>        robodoc --rc ./robodoc.rc --src ./ --doc ./doc
</pre>
<p></p>
<p class="item_name">HISTORY</p>
<ul><li>    Joseph A. Levin : March 2012
</li>
<li>    Jacob Williams : 2/8/2013 : Extensive modifications to the original code.
</li>
</ul>
<p></p>
<p class="item_name">SEE ALSO</p>
<ul><li>    <a href="http://github.com/jacobwilliams/json-fortran">http://github.com/jacobwilliams/json-fortran</a> [json-fortran development site]
</li>
<li>    <a href="http://jacobwilliams.github.io/json-fortran">http://jacobwilliams.github.io/json-fortran</a> [json-fortran online documentation]
</li>
<li>    <a href="http://www.json.org/">http://www.json.org/</a> [JSON website]
</li>
<li>    <a href="http://jsonlint.com/">http://jsonlint.com/</a> [JSON validator]
</li>
</ul>
<p></p>
<p class="item_name">LICENSE</p>
<p>    json-fortran License:
</p>

<pre>      JSON-FORTRAN: A Fortran 2008 JSON API
      <a href="http://github.com/jacobwilliams/json-fortran">http://github.com/jacobwilliams/json-fortran</a>
</pre>
<p>
</p>
<pre>      Copyright (c) 2014, Jacob Williams
      All rights reserved.
</pre>
<p>
</p>
<pre>      Redistribution and use in source and binary forms, with or without modification,
      are permitted provided that the following conditions are met:
</pre>
<p>
</p>
<pre>      * Redistributions of source code must retain the above copyright notice, this
        list of conditions and the following disclaimer.
</pre>
<p>
</p>
<pre>      * Redistributions in binary form must reproduce the above copyright notice, this
        list of conditions and the following disclaimer in the documentation and/or
        other materials provided with the distribution.
</pre>
<p>
</p>
<pre>      * The names of its contributors may not be used to endorse or promote products
        derived from this software without specific prior written permission.
</pre>
<p>
</p>
<pre>      THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND
      ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED
      WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
      DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR
      ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES
      (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;
      LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON
      ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
      (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
      SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
</pre>
<p>
    Original FSON License:
</p>

<pre>      <a href="http://github.com/josephalevin/fson">http://github.com/josephalevin/fson</a> [FSON code retrieved on 12/2/2013]
</pre>
<p>
</p>
<pre>      Copyright (c) 2012 Joseph A. Levin
</pre>
<p>
</p>
<pre>      Permission is hereby granted, free of charge, to any person obtaining a copy of this
      software and associated documentation files (the "Software"), to deal in the Software
      without restriction, including without limitation the rights to use, copy, modify, merge,
      publish, distribute, sublicense, and/or sell copies of the Software, and to permit
      persons to whom the Software is furnished to do so, subject to the following conditions:
</pre>
<p>
</p>
<pre>      The above copyright notice and this permission notice shall be included in all copies or
      substantial portions of the Software.
</pre>
<p>
</p>
<pre>      THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED,
      INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR
      PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
      LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT
      OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER
      DEALINGS IN THE SOFTWARE.
</pre>
<p></p>

<hr />
<a name="json5fmodule2fkinds"></a>
<a name="robo1"></a><h2>json_module/kinds [ Parameters ]</h2>

<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo0">json_module</a> ] [ <a href="./robo_definitions.html#robo_top_of_doc">Parameters</a> ]</p>
<p class="item_name">NAME</p>
<p>    <strong>kinds</strong>
</p>
<p class="item_name">DESCRIPTION</p>
<p>   Kind definitions for real, integer, character, and logical variables.
</p>

<p>   The sizes given here are valid for the Intel and Gfortran compilers
   (and perhaps others)
</p>
<p class="item_name">SOURCE</p>
<pre class="source"><span class="line_number">113 </span>    <span class="comment">!default real kind [8 bytes]</span>
<span class="line_number">114 </span>    <span class="keyword">integer</span><span class="sign">,</span><span class="keyword">parameter</span> <span class="sign">:</span><span class="sign">:</span> RK <span class="sign">=</span> real64
<span class="line_number">115 </span>
<span class="line_number">116 </span>    <span class="comment">!default integer kind [4 bytes]</span>
<span class="line_number">117 </span>    <span class="keyword">integer</span><span class="sign">,</span><span class="keyword">parameter</span> <span class="sign">:</span><span class="sign">:</span> IK <span class="sign">=</span> int32
<span class="line_number">118 </span>
<span class="line_number">119 </span>    <span class="comment">!default character kind [1 byte]</span>
<span class="line_number">120 </span>    <span class="keyword">integer</span><span class="sign">,</span><span class="keyword">parameter</span> <span class="sign">:</span><span class="sign">:</span> CK <span class="sign">=</span> character_kinds<span class="sign">(</span>1<span class="sign">)</span>
<span class="line_number">121 </span>
<span class="line_number">122 </span>    <span class="comment">!default logical kind [4 bytes]</span>
<span class="line_number">123 </span>    <span class="comment">!The statement here is to ensure a valid kind</span>
<span class="line_number">124 </span>    <span class="comment">! if the compiler doesn't have a logical_kinds(3)</span>
<span class="line_number">125 </span>    <span class="keyword">integer</span><span class="sign">,</span><span class="keyword">parameter</span> <span class="sign">:</span><span class="sign">:</span> LK <span class="sign">=</span> logical_kinds<span class="sign">(</span><span class="keyword">min</span><span class="sign">(</span>3<span class="sign">,</span><span class="keyword">size</span><span class="sign">(</span>logical_kinds<span class="sign">)</span><span class="sign">)</span><span class="sign">)</span>
</pre>

<hr />
<a name="json5fmodule2fvar5ftype"></a>
<a name="robo2"></a><h2>json_module/var_type [ Parameters ]</h2>

<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo0">json_module</a> ] [ <a href="./robo_definitions.html#robo_top_of_doc">Parameters</a> ]</p>
<p class="item_name">NAME</p>
<p>    <strong>var_type</strong>
</p>
<p class="item_name">DESCRIPTION</p>
<p>   The types of JSON data.
</p>

<p>   These are the values returned by the <strong>var_type</strong> arguments
   of the routines <a href="#robo54">json_file_variable_info</a> and <a href="#robo65">json_info</a>.
</p>
<p class="item_name">SOURCE</p>
<pre class="source"><span class="line_number">181 </span>    <span class="keyword">integer</span><span class="sign">(</span>IK<span class="sign">)</span><span class="sign">,</span><span class="keyword">parameter</span><span class="sign">,</span><span class="keyword">public</span> <span class="sign">:</span><span class="sign">:</span> json_unknown   <span class="sign">=</span> 0
<span class="line_number">182 </span>    <span class="keyword">integer</span><span class="sign">(</span>IK<span class="sign">)</span><span class="sign">,</span><span class="keyword">parameter</span><span class="sign">,</span><span class="keyword">public</span> <span class="sign">:</span><span class="sign">:</span> json_null      <span class="sign">=</span> 1
<span class="line_number">183 </span>    <span class="keyword">integer</span><span class="sign">(</span>IK<span class="sign">)</span><span class="sign">,</span><span class="keyword">parameter</span><span class="sign">,</span><span class="keyword">public</span> <span class="sign">:</span><span class="sign">:</span> json_object    <span class="sign">=</span> 2
<span class="line_number">184 </span>    <span class="keyword">integer</span><span class="sign">(</span>IK<span class="sign">)</span><span class="sign">,</span><span class="keyword">parameter</span><span class="sign">,</span><span class="keyword">public</span> <span class="sign">:</span><span class="sign">:</span> json_array     <span class="sign">=</span> 3
<span class="line_number">185 </span>    <span class="keyword">integer</span><span class="sign">(</span>IK<span class="sign">)</span><span class="sign">,</span><span class="keyword">parameter</span><span class="sign">,</span><span class="keyword">public</span> <span class="sign">:</span><span class="sign">:</span> json_logical   <span class="sign">=</span> 4
<span class="line_number">186 </span>    <span class="keyword">integer</span><span class="sign">(</span>IK<span class="sign">)</span><span class="sign">,</span><span class="keyword">parameter</span><span class="sign">,</span><span class="keyword">public</span> <span class="sign">:</span><span class="sign">:</span> json_integer   <span class="sign">=</span> 5
<span class="line_number">187 </span>    <span class="keyword">integer</span><span class="sign">(</span>IK<span class="sign">)</span><span class="sign">,</span><span class="keyword">parameter</span><span class="sign">,</span><span class="keyword">public</span> <span class="sign">:</span><span class="sign">:</span> json_double    <span class="sign">=</span> 6
<span class="line_number">188 </span>    <span class="keyword">integer</span><span class="sign">(</span>IK<span class="sign">)</span><span class="sign">,</span><span class="keyword">parameter</span><span class="sign">,</span><span class="keyword">public</span> <span class="sign">:</span><span class="sign">:</span> json_string    <span class="sign">=</span> 7
</pre>

<hr />
<a name="json5fmodule2fjson5ffile"></a>
<a name="robo3"></a><h2>json_module/json_file [ Classes ]</h2>

<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo0">json_module</a> ] [ <a href="./robo_classes.html#robo_top_of_doc">Classes</a> ]</p>
<p class="item_name">NAME</p>
<p>    <strong>json_file</strong>
</p>
<p class="item_name">DESCRIPTION</p>
<p>    The <strong>json_file</strong> is the main public class that is
    used to open a file and get data from it.
</p>
<p class="item_name">EXAMPLE</p>
<p>    Consider the following example:
</p>
<pre>     type(<strong>json_file</strong>) :: json
     integer :: ival
     real(real64) :: rval
     character(len=:),allocatable :: cval
     logical :: found
     call json%load_file(filename='myfile.json')
     call json%print_file() !print to the console
     call json%get('var.i',ival,found)
     call json%get('var.r(3)',rval,found)
     call json%get('var.c',cval,found)
     call json%destroy()
</pre>
<p></p>
<p class="item_name">AUTHOR</p>
<p>    Jacob Williams : 12/9/2013
</p>
<p class="item_name">SOURCE</p>
<pre class="source"><span class="line_number">272 </span>        <span class="keyword">private</span>
<span class="line_number">273 </span>
<span class="line_number">274 </span>        <span class="comment">!the JSON structure read from the file:</span>
<span class="line_number">275 </span>        <span class="keyword">type</span><span class="sign">(</span><a href="#robo4">json_value</a><span class="sign">)</span><span class="sign">,</span><span class="keyword">pointer</span> <span class="sign">:</span><span class="sign">:</span> p <span class="sign">=</span><span class="sign">&gt;</span> <span class="keyword">null</span><span class="sign">(</span><span class="sign">)</span>
<span class="line_number">276 </span>
<span class="line_number">277 </span>        <span class="keyword">contains</span>
<span class="line_number">278 </span>
<span class="line_number">279 </span>        <span class="keyword">procedure</span><span class="sign">,</span><span class="keyword">public</span> <span class="sign">:</span><span class="sign">:</span> load_file        <span class="sign">=</span><span class="sign">&gt;</span> <a href="#robo43">json_file_load</a>
<span class="line_number">280 </span>        <span class="keyword">procedure</span><span class="sign">,</span><span class="keyword">public</span> <span class="sign">:</span><span class="sign">:</span> load_from_string <span class="sign">=</span><span class="sign">&gt;</span> <a href="#robo44">json_file_load_from_string</a>
<span class="line_number">281 </span>
<span class="line_number">282 </span>        <span class="keyword">procedure</span><span class="sign">,</span><span class="keyword">public</span> <span class="sign">:</span><span class="sign">:</span> destroy     <span class="sign">=</span><span class="sign">&gt;</span> <a href="#robo33">json_file_destroy</a>
<span class="line_number">283 </span>        <span class="keyword">procedure</span><span class="sign">,</span><span class="keyword">public</span> <span class="sign">:</span><span class="sign">:</span> move        <span class="sign">=</span><span class="sign">&gt;</span> <a href="#robo45">json_file_move_pointer</a>
<span class="line_number">284 </span>        <span class="keyword">procedure</span><span class="sign">,</span><span class="keyword">public</span> <span class="sign">:</span><span class="sign">:</span> info        <span class="sign">=</span><span class="sign">&gt;</span> <a href="#robo54">json_file_variable_info</a>
<span class="line_number">285 </span>
<span class="line_number">286 </span>        <span class="keyword">procedure</span><span class="sign">,</span><span class="keyword">public</span> <span class="sign">:</span><span class="sign">:</span> print_to_string <span class="sign">=</span><span class="sign">&gt;</span> <a href="#robo49">json_file_print_to_string</a>
<span class="line_number">287 </span>
<span class="line_number">288 </span>        <span class="keyword">generic</span><span class="sign">,</span><span class="keyword">public</span> <span class="sign">:</span><span class="sign">:</span> print_file <span class="sign">=</span><span class="sign">&gt;</span> <a href="#robo48">json_file_print_to_console</a><span class="sign">,</span> <span class="sign">&amp;</span>
<span class="line_number">289 </span>                                        <a href="#robo46">json_file_print_1</a><span class="sign">,</span> <span class="sign">&amp;</span>
<span class="line_number">290 </span>                                        <a href="#robo47">json_file_print_2</a>
<span class="line_number">291 </span>
<span class="line_number">292 </span>        <span class="keyword">generic</span><span class="sign">,</span><span class="keyword">public</span> <span class="sign">:</span><span class="sign">:</span> get <span class="sign">=</span><span class="sign">&gt;</span> <a href="#robo40">json_file_get_object</a><span class="sign">,</span>      <span class="sign">&amp;</span>
<span class="line_number">293 </span>                                 <a href="#robo36">json_file_get_integer</a><span class="sign">,</span>     <span class="sign">&amp;</span>
<span class="line_number">294 </span>                                 <a href="#robo34">json_file_get_double</a><span class="sign">,</span>      <span class="sign">&amp;</span>
<span class="line_number">295 </span>                                 <a href="#robo38">json_file_get_logical</a><span class="sign">,</span>     <span class="sign">&amp;</span>
<span class="line_number">296 </span>                                 <a href="#robo41">json_file_get_string</a><span class="sign">,</span>      <span class="sign">&amp;</span>
<span class="line_number">297 </span>                                 <a href="#robo37">json_file_get_integer_vec</a><span class="sign">,</span> <span class="sign">&amp;</span>
<span class="line_number">298 </span>                                 <a href="#robo35">json_file_get_double_vec</a><span class="sign">,</span>  <span class="sign">&amp;</span>
<span class="line_number">299 </span>                                 <a href="#robo39">json_file_get_logical_vec</a><span class="sign">,</span> <span class="sign">&amp;</span>
<span class="line_number">300 </span>                                 <a href="#robo42">json_file_get_string_vec</a>
<span class="line_number">301 </span>
<span class="line_number">302 </span>        <span class="keyword">generic</span><span class="sign">,</span><span class="keyword">public</span> <span class="sign">:</span><span class="sign">:</span> update <span class="sign">=</span><span class="sign">&gt;</span>  <a href="#robo50">json_file_update_integer</a><span class="sign">,</span>  <span class="sign">&amp;</span>
<span class="line_number">303 </span>                                     <a href="#robo51">json_file_update_logical</a><span class="sign">,</span>  <span class="sign">&amp;</span>
<span class="line_number">304 </span>                                     <a href="#robo52">json_file_update_real</a><span class="sign">,</span>     <span class="sign">&amp;</span>
<span class="line_number">305 </span>                                     <a href="#robo53">json_file_update_string</a>
<span class="line_number">306 </span>
<span class="line_number">307 </span>        <span class="comment">!get:</span>
<span class="line_number">308 </span>        <span class="keyword">procedure</span> <span class="sign">:</span><span class="sign">:</span> <a href="#robo40">json_file_get_object</a>
<span class="line_number">309 </span>        <span class="keyword">procedure</span> <span class="sign">:</span><span class="sign">:</span> <a href="#robo36">json_file_get_integer</a>
<span class="line_number">310 </span>        <span class="keyword">procedure</span> <span class="sign">:</span><span class="sign">:</span> <a href="#robo34">json_file_get_double</a>
<span class="line_number">311 </span>        <span class="keyword">procedure</span> <span class="sign">:</span><span class="sign">:</span> <a href="#robo38">json_file_get_logical</a>
<span class="line_number">312 </span>        <span class="keyword">procedure</span> <span class="sign">:</span><span class="sign">:</span> <a href="#robo41">json_file_get_string</a>
<span class="line_number">313 </span>        <span class="keyword">procedure</span> <span class="sign">:</span><span class="sign">:</span> <a href="#robo37">json_file_get_integer_vec</a>
<span class="line_number">314 </span>        <span class="keyword">procedure</span> <span class="sign">:</span><span class="sign">:</span> <a href="#robo35">json_file_get_double_vec</a>
<span class="line_number">315 </span>        <span class="keyword">procedure</span> <span class="sign">:</span><span class="sign">:</span> <a href="#robo39">json_file_get_logical_vec</a>
<span class="line_number">316 </span>        <span class="keyword">procedure</span> <span class="sign">:</span><span class="sign">:</span> <a href="#robo42">json_file_get_string_vec</a>
<span class="line_number">317 </span>
<span class="line_number">318 </span>        <span class="comment">!update:</span>
<span class="line_number">319 </span>        <span class="keyword">procedure</span> <span class="sign">:</span><span class="sign">:</span> <a href="#robo50">json_file_update_integer</a>
<span class="line_number">320 </span>        <span class="keyword">procedure</span> <span class="sign">:</span><span class="sign">:</span> <a href="#robo51">json_file_update_logical</a>
<span class="line_number">321 </span>        <span class="keyword">procedure</span> <span class="sign">:</span><span class="sign">:</span> <a href="#robo52">json_file_update_real</a>
<span class="line_number">322 </span>        <span class="keyword">procedure</span> <span class="sign">:</span><span class="sign">:</span> <a href="#robo53">json_file_update_string</a>
<span class="line_number">323 </span>
<span class="line_number">324 </span>        <span class="comment">!print_file:</span>
<span class="line_number">325 </span>        <span class="keyword">procedure</span> <span class="sign">:</span><span class="sign">:</span> <a href="#robo48">json_file_print_to_console</a>
<span class="line_number">326 </span>        <span class="keyword">procedure</span> <span class="sign">:</span><span class="sign">:</span> <a href="#robo46">json_file_print_1</a>
<span class="line_number">327 </span>        <span class="keyword">procedure</span> <span class="sign">:</span><span class="sign">:</span> <a href="#robo47">json_file_print_2</a>
</pre>

<hr />
<a name="json5fmodule2fjson5fvalue"></a>
<a name="robo4"></a><h2>json_module/json_value [ Classes ]</h2>

<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo0">json_module</a> ] [ <a href="./robo_classes.html#robo_top_of_doc">Classes</a> ]</p>
<p class="item_name">NAME</p>
<p>    <strong>json_value</strong>
</p>
<p class="item_name">DESCRIPTION</p>
<p>    Type used to construct the linked-list json structure
</p>
<p class="item_name">EXAMPLE</p>
<p>    Consider the following example:
</p>
<pre>     type(<strong>json_value</strong>),pointer :: p
     call <a href="#robo30">json_create_object</a>(p)
     call <a href="#robo5">json_add</a>(p,'year',1805)
     call <a href="#robo5">json_add</a>(p,'value',1.0d0)
     call <a href="#robo9">json_print</a>(p,'test.json')
     call <a href="#robo6">json_destroy</a>(p)
</pre>
<p></p>
<p class="item_name">SOURCE</p>
<pre class="source"><span class="line_number">211 </span>        <span class="keyword">type</span><span class="sign">,</span><span class="keyword">public</span> <span class="sign">:</span><span class="sign">:</span> <strong>json_value</strong>
<span class="line_number">212 </span>
<span class="line_number">213 </span>        <span class="comment">!force the constituents to be stored contiguously</span>
<span class="line_number">214 </span>        <span class="comment">![note: on Intel, the order of the variables below</span>
<span class="line_number">215 </span>        <span class="comment">! is significant to avoid the misaligned field warnings]</span>
<span class="line_number">216 </span>        <span class="keyword">sequence</span>
<span class="line_number">217 </span>
<span class="line_number">218 </span>        <span class="comment">!for the linked list:</span>
<span class="line_number">219 </span>        <span class="keyword">type</span><span class="sign">(</span><strong>json_value</strong><span class="sign">)</span><span class="sign">,</span><span class="keyword">pointer</span> <span class="sign">:</span><span class="sign">:</span> previous <span class="sign">=</span><span class="sign">&gt;</span> <span class="keyword">null</span><span class="sign">(</span><span class="sign">)</span>
<span class="line_number">220 </span>        <span class="keyword">type</span><span class="sign">(</span><strong>json_value</strong><span class="sign">)</span><span class="sign">,</span><span class="keyword">pointer</span> <span class="sign">:</span><span class="sign">:</span> next     <span class="sign">=</span><span class="sign">&gt;</span> <span class="keyword">null</span><span class="sign">(</span><span class="sign">)</span>
<span class="line_number">221 </span>        <span class="keyword">type</span><span class="sign">(</span><strong>json_value</strong><span class="sign">)</span><span class="sign">,</span><span class="keyword">pointer</span> <span class="sign">:</span><span class="sign">:</span> parent   <span class="sign">=</span><span class="sign">&gt;</span> <span class="keyword">null</span><span class="sign">(</span><span class="sign">)</span>
<span class="line_number">222 </span>        <span class="keyword">type</span><span class="sign">(</span><strong>json_value</strong><span class="sign">)</span><span class="sign">,</span><span class="keyword">pointer</span> <span class="sign">:</span><span class="sign">:</span> children <span class="sign">=</span><span class="sign">&gt;</span> <span class="keyword">null</span><span class="sign">(</span><span class="sign">)</span>
<span class="line_number">223 </span>        <span class="keyword">type</span><span class="sign">(</span><strong>json_value</strong><span class="sign">)</span><span class="sign">,</span><span class="keyword">pointer</span> <span class="sign">:</span><span class="sign">:</span> tail     <span class="sign">=</span><span class="sign">&gt;</span> <span class="keyword">null</span><span class="sign">(</span><span class="sign">)</span>
<span class="line_number">224 </span>
<span class="line_number">225 </span>        <span class="comment">!variable name:</span>
<span class="line_number">226 </span>        <span class="keyword">character</span><span class="sign">(</span><span class="keyword">kind</span><span class="sign">=</span>CK<span class="sign">,</span><span class="keyword">len</span><span class="sign">=</span><span class="sign">:</span><span class="sign">)</span><span class="sign">,</span><span class="keyword">allocatable</span> <span class="sign">:</span><span class="sign">:</span> name
<span class="line_number">227 </span>
<span class="line_number">228 </span>        <span class="comment">!the data for this variable:</span>
<span class="line_number">229 </span>        <span class="keyword">real</span><span class="sign">(</span>RK<span class="sign">)</span><span class="sign">,</span><span class="keyword">allocatable</span>                 <span class="sign">:</span><span class="sign">:</span> dbl_value
<span class="line_number">230 </span>        <span class="keyword">logical</span><span class="sign">(</span>LK<span class="sign">)</span><span class="sign">,</span><span class="keyword">allocatable</span>              <span class="sign">:</span><span class="sign">:</span> log_value
<span class="line_number">231 </span>        <span class="keyword">character</span><span class="sign">(</span><span class="keyword">kind</span><span class="sign">=</span>CK<span class="sign">,</span><span class="keyword">len</span><span class="sign">=</span><span class="sign">:</span><span class="sign">)</span><span class="sign">,</span><span class="keyword">allocatable</span> <span class="sign">:</span><span class="sign">:</span> str_value
<span class="line_number">232 </span>        <span class="keyword">integer</span><span class="sign">(</span>IK<span class="sign">)</span><span class="sign">,</span><span class="keyword">allocatable</span>              <span class="sign">:</span><span class="sign">:</span> int_value
<span class="line_number">233 </span>
<span class="line_number">234 </span>        <span class="keyword">integer</span><span class="sign">(</span>IK<span class="sign">)</span> <span class="sign">:</span><span class="sign">:</span> <a href="#robo2">var_type</a> <span class="sign">=</span> json_unknown  <span class="comment">!variable type</span>
<span class="line_number">235 </span>
<span class="line_number">236 </span>        <span class="keyword">integer</span><span class="sign">(</span>IK<span class="sign">)</span><span class="sign">,</span><span class="keyword">private</span> <span class="sign">:</span><span class="sign">:</span> n_children <span class="sign">=</span> 0   <span class="comment">!number of children</span>
<span class="line_number">237 </span>
<span class="line_number">238 </span>        <span class="keyword">end</span> <span class="keyword">type</span> <strong>json_value</strong>
</pre>

<hr />
<a name="json5fmodule2fjson5fadd"></a>
<a name="robo5"></a><h2>json_module/json_add [ Interfaces ]</h2>

<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo0">json_module</a> ] [ <a href="./robo_interfaces.html#robo_top_of_doc">Interfaces</a> ]</p>
<p class="item_name">NAME</p>
<p>    <strong>json_add</strong>
</p>
<p class="item_name">DESCRIPTION</p>
<p>    Add objects to a linked list of json_values.
</p>
<p class="item_name">NOTES</p>
<p>    Formerly, this was called json_value_add
</p>
<p class="item_name">SOURCE</p>
<pre class="source"><span class="line_number">377 </span>    <span class="keyword">interface</span> <strong>json_add</strong>
<span class="line_number">378 </span>        <span class="keyword">module</span> <span class="keyword">procedure</span> <span class="sign">:</span><span class="sign">:</span> <a href="#robo80">json_value_add_member</a>
<span class="line_number">379 </span>        <span class="keyword">module</span> <span class="keyword">procedure</span> <span class="sign">:</span><span class="sign">:</span> <a href="#robo76">json_value_add_integer</a><span class="sign">,</span> <a href="#robo77">json_value_add_integer_vec</a>
<span class="line_number">380 </span>        <span class="keyword">module</span> <span class="keyword">procedure</span> <span class="sign">:</span><span class="sign">:</span> <a href="#robo74">json_value_add_double</a><span class="sign">,</span>  <a href="#robo75">json_value_add_double_vec</a>
<span class="line_number">381 </span>        <span class="keyword">module</span> <span class="keyword">procedure</span> <span class="sign">:</span><span class="sign">:</span> <a href="#robo78">json_value_add_logical</a><span class="sign">,</span> <a href="#robo79">json_value_add_logical_vec</a>
<span class="line_number">382 </span>        <span class="keyword">module</span> <span class="keyword">procedure</span> <span class="sign">:</span><span class="sign">:</span> <a href="#robo81">json_value_add_string</a><span class="sign">,</span>  <a href="#robo82">json_value_add_string_vec</a>
<span class="line_number">383 </span>    <span class="keyword">end</span> <span class="keyword">interface</span> <strong>json_add</strong>
</pre>

<hr />
<a name="json5fmodule2fjson5fdestroy"></a>
<a name="robo6"></a><h2>json_module/json_destroy [ Interfaces ]</h2>

<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo0">json_module</a> ] [ <a href="./robo_interfaces.html#robo_top_of_doc">Interfaces</a> ]</p>
<p class="item_name">NAME</p>
<p>    <strong>json_destroy</strong>
</p>
<p class="item_name">DESCRIPTION</p>
<p>    Destructor routine for a <a href="#robo4">json_value</a> pointer.
    This must be called explicitly if it is no longer needed,
    before it goes out of scope.  Otherwise, a memory leak will result.
</p>
<p class="item_name">EXAMPLE</p>
<p>    Destroy the <a href="#robo4">json_value</a> pointer before the variable goes out of scope:
</p>
<pre>     subroutine example1()
     type(<a href="#robo4">json_value</a>),pointer :: p
     call <a href="#robo30">json_create_object</a>(p,'')
     call <a href="#robo5">json_add</a>(p,'year',2015)
     call <a href="#robo9">json_print</a>(p)
     call <strong>json_destroy</strong>(p)
     end subroutine example1
</pre>
<p>
    Note: it should NOT be called for a <a href="#robo4">json_value</a> pointer than has already been
    added to another <a href="#robo4">json_value</a> structure, since doing so may render the
    other structure invalid.  Consider the following example:
</p>
<pre>     subroutine example2(p)
     type(<a href="#robo4">json_value</a>),pointer,intent(out) :: p
     type(<a href="#robo4">json_value</a>),pointer :: q
     call <a href="#robo30">json_create_object</a>(p,'')
     call <a href="#robo5">json_add</a>(p,'year',2015)
     call <a href="#robo30">json_create_object</a>(q,'q')
     call <a href="#robo5">json_add</a>(q,'val',1)
     call <a href="#robo5">json_add</a>(p, q)  !add q to p structure
     ! do NOT call <strong>json_destroy</strong>(q) here, because q is
     ! now part of the output structure p.  p should be destroyed
     ! somewhere upstream by the caller of this routine.
     nullify(q) !OK, but not strictly necessary
     end subroutine example2
</pre>
<p></p>
<p class="item_name">SOURCE</p>
<pre class="source"><span class="line_number">508 </span>    <span class="keyword">interface</span> <strong>json_destroy</strong>
<span class="line_number">509 </span>        <span class="keyword">module</span> <span class="keyword">procedure</span> <span class="sign">:</span><span class="sign">:</span> <a href="#robo83">json_value_destroy</a>
<span class="line_number">510 </span>    <span class="keyword">end</span> <span class="keyword">interface</span>
</pre>

<hr />
<a name="json5fmodule2fjson5fget"></a>
<a name="robo7"></a><h2>json_module/json_get [ Interfaces ]</h2>

<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo0">json_module</a> ] [ <a href="./robo_interfaces.html#robo_top_of_doc">Interfaces</a> ]</p>
<p class="item_name">NAME</p>
<p>    <strong>json_get</strong>
</p>
<p class="item_name">DESCRIPTION</p>
<p>    Get data from a <a href="#robo4">json_value</a> linked list.
</p>
<p class="item_name">SOURCE</p>
<pre class="source"><span class="line_number">422 </span>    <span class="keyword">interface</span> <strong>json_get</strong>
<span class="line_number">423 </span>        <span class="keyword">module</span> <span class="keyword">procedure</span> <span class="sign">:</span><span class="sign">:</span> <a href="#robo56">json_get_by_path</a>
<span class="line_number">424 </span>        <span class="keyword">module</span> <span class="keyword">procedure</span> <span class="sign">:</span><span class="sign">:</span> <a href="#robo59">json_get_integer</a><span class="sign">,</span> <a href="#robo60">json_get_integer_vec</a>
<span class="line_number">425 </span>        <span class="keyword">module</span> <span class="keyword">procedure</span> <span class="sign">:</span><span class="sign">:</span> <a href="#robo57">json_get_double</a><span class="sign">,</span>  <a href="#robo58">json_get_double_vec</a>
<span class="line_number">426 </span>        <span class="keyword">module</span> <span class="keyword">procedure</span> <span class="sign">:</span><span class="sign">:</span> <a href="#robo61">json_get_logical</a><span class="sign">,</span> <a href="#robo62">json_get_logical_vec</a>
<span class="line_number">427 </span>        <span class="keyword">module</span> <span class="keyword">procedure</span> <span class="sign">:</span><span class="sign">:</span> <a href="#robo63">json_get_string</a><span class="sign">,</span>  <a href="#robo64">json_get_string_vec</a>
<span class="line_number">428 </span>        <span class="keyword">module</span> <span class="keyword">procedure</span> <span class="sign">:</span><span class="sign">:</span> <a href="#robo55">json_get_array</a>
<span class="line_number">429 </span>    <span class="keyword">end</span> <span class="keyword">interface</span> <strong>json_get</strong>
</pre>

<hr />
<a name="json5fmodule2fjson5fget5fchild"></a>
<a name="robo8"></a><h2>json_module/json_get_child [ Interfaces ]</h2>

<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo0">json_module</a> ] [ <a href="./robo_interfaces.html#robo_top_of_doc">Interfaces</a> ]</p>
<p class="item_name">NAME</p>
<p>    <strong>json_get_child</strong>
</p>
<p class="item_name">DESCRIPTION</p>
<p>    Get a child, either by index or name string.
    Both of these return a <a href="#robo4">json_value</a> pointer.
</p>
<p class="item_name">NOTES</p>
<p>    Formerly, this was called json_value_get_child
</p>
<p class="item_name">SOURCE</p>
<pre class="source"><span class="line_number">358 </span>    <span class="keyword">interface</span> <strong>json_get_child</strong>
<span class="line_number">359 </span>        <span class="keyword">module</span> <span class="keyword">procedure</span> <a href="#robo84">json_value_get_by_index</a>
<span class="line_number">360 </span>        <span class="keyword">module</span> <span class="keyword">procedure</span> <a href="#robo85">json_value_get_by_name_chars</a>
<span class="line_number">361 </span>    <span class="keyword">end</span> <span class="keyword">interface</span> <strong>json_get_child</strong>
</pre>

<hr />
<a name="json5fmodule2fjson5fprint"></a>
<a name="robo9"></a><h2>json_module/json_print [ Interfaces ]</h2>

<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo0">json_module</a> ] [ <a href="./robo_interfaces.html#robo_top_of_doc">Interfaces</a> ]</p>
<p class="item_name">NAME</p>
<p>    <strong>json_print</strong>
</p>
<p class="item_name">DESCRIPTION</p>
<p>    Print the <a href="#robo4">json_value</a> to a file.
</p>
<p class="item_name">EXAMPLE</p>
<p>    Consider the following example:
</p>
<pre>     type(<a href="#robo4">json_value</a>) :: p
     ...
     call <strong>json_print</strong>(p,'test.json')  !this is <a href="#robo69">json_print_2</a>
</pre>
<p></p>
<p class="item_name">SOURCE</p>
<pre class="source"><span class="line_number">463 </span>    <span class="keyword">interface</span> <strong>json_print</strong>
<span class="line_number">464 </span>        <span class="keyword">module</span> <span class="keyword">procedure</span> <span class="sign">:</span><span class="sign">:</span> <a href="#robo68">json_print_1</a>    <span class="comment">!input is unit number</span>
<span class="line_number">465 </span>        <span class="keyword">module</span> <span class="keyword">procedure</span> <span class="sign">:</span><span class="sign">:</span> <a href="#robo69">json_print_2</a>    <span class="comment">!input is file name</span>
<span class="line_number">466 </span>    <span class="keyword">end</span> <span class="keyword">interface</span>
</pre>

<hr />
<a name="json5fmodule2fjson5fprint5fto5fstring"></a>
<a name="robo10"></a><h2>json_module/json_print_to_string [ Interfaces ]</h2>

<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo0">json_module</a> ] [ <a href="./robo_interfaces.html#robo_top_of_doc">Interfaces</a> ]</p>
<p class="item_name">NAME</p>
<p>    <strong>json_print_to_string</strong>
</p>
<p class="item_name">DESCRIPTION</p>
<p>    Print the <a href="#robo4">json_value</a> structure to an allocatable string.
</p>
<p class="item_name">SOURCE</p>
<pre class="source"><span class="line_number">442 </span>    <span class="keyword">interface</span> <strong>json_print_to_string</strong>
<span class="line_number">443 </span>        <span class="keyword">module</span> <span class="keyword">procedure</span> <span class="sign">:</span><span class="sign">:</span> <a href="#robo88">json_value_to_string</a>
<span class="line_number">444 </span>    <span class="keyword">end</span> <span class="keyword">interface</span>
</pre>

<hr />
<a name="json5fmodule2fjson5fremove"></a>
<a name="robo11"></a><h2>json_module/json_remove [ Interfaces ]</h2>

<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo0">json_module</a> ] [ <a href="./robo_interfaces.html#robo_top_of_doc">Interfaces</a> ]</p>
<p class="item_name">NAME</p>
<p>    <strong>json_remove</strong>
</p>
<p class="item_name">DESCRIPTION</p>
<p>    Remove a <a href="#robo4">json_value</a> from a linked-list structure.
</p>
<p class="item_name">SOURCE</p>
<pre class="source"><span class="line_number">523 </span>    <span class="keyword">interface</span> <strong>json_remove</strong>
<span class="line_number">524 </span>        <span class="keyword">module</span> <span class="keyword">procedure</span> <span class="sign">:</span><span class="sign">:</span> <a href="#robo86">json_value_remove</a>
<span class="line_number">525 </span>    <span class="keyword">end</span> <span class="keyword">interface</span>
</pre>

<hr />
<a name="json5fmodule2fjson5fremove5fif5fpresent"></a>
<a name="robo12"></a><h2>json_module/json_remove_if_present [ Interfaces ]</h2>

<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo0">json_module</a> ] [ <a href="./robo_interfaces.html#robo_top_of_doc">Interfaces</a> ]</p>
<p class="item_name">NAME</p>
<p>    <strong>json_remove_if_present</strong>
</p>
<p class="item_name">DESCRIPTION</p>
<p>    If the child variable is present, then remove it.
</p>
<p class="item_name">SOURCE</p>
<pre class="source"><span class="line_number">538 </span>    <span class="keyword">interface</span> <strong>json_remove_if_present</strong>
<span class="line_number">539 </span>        <span class="keyword">module</span> <span class="keyword">procedure</span> <span class="sign">:</span><span class="sign">:</span> <a href="#robo87">json_value_remove_if_present</a>
<span class="line_number">540 </span>    <span class="keyword">end</span> <span class="keyword">interface</span>
</pre>

<hr />
<a name="json5fmodule2fjson5fupdate"></a>
<a name="robo13"></a><h2>json_module/json_update [ Interfaces ]</h2>

<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo0">json_module</a> ] [ <a href="./robo_interfaces.html#robo_top_of_doc">Interfaces</a> ]</p>
<p class="item_name">NAME</p>
<p>    <strong>json_update</strong>
</p>
<p class="item_name">DESCRIPTION</p>
<p>    These are like <a href="#robo5">json_add</a>, except if a child with the same name is
    already present, then its value is simply updated.
    Note that currently, these only work for scalar variables.
    These routines can also change the variable's type (but an error will be
    thrown if the existing variable is not a scalar).
</p>
<p class="item_name">NOTES</p>
<p>    It should not be used to change the type of a variable in an array,
    or it may result in an invalid JSON file.
</p>
<p class="item_name">SOURCE</p>
<pre class="source"><span class="line_number">404 </span>    <span class="keyword">interface</span> <strong>json_update</strong>
<span class="line_number">405 </span>        <span class="keyword">module</span> <span class="keyword">procedure</span> <span class="sign">:</span><span class="sign">:</span> <a href="#robo72">json_update_logical</a><span class="sign">,</span><span class="sign">&amp;</span>
<span class="line_number">406 </span>                            <a href="#robo70">json_update_double</a><span class="sign">,</span><span class="sign">&amp;</span>
<span class="line_number">407 </span>                            <a href="#robo71">json_update_integer</a><span class="sign">,</span><span class="sign">&amp;</span>
<span class="line_number">408 </span>                            <a href="#robo73">json_update_string</a>
<span class="line_number">409 </span>    <span class="keyword">end</span> <span class="keyword">interface</span> <strong>json_update</strong>
</pre>

<hr />
<a name="json5fmodule2fjson5fcheck5ffor5ferrors"></a>
<a name="robo22"></a><h2>json_module/json_check_for_errors [ Functions ]</h2>

<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo0">json_module</a> ] [ <a href="./robo_functions.html#robo_top_of_doc">Functions</a> ]</p>
<p class="item_name">NAME</p>
<p>    <strong>json_check_for_errors</strong>
</p>
<p class="item_name">DESCRIPTION</p>
<p>    Retrieve error code from the module.
    This should be called after <a href="#robo67">json_parse</a> to check for errors.
    If an error is thrown, before using the module again, <a href="#robo66">json_initialize</a>
    should be called to clean up before it is used again.
</p>
<p class="item_name">EXAMPLE</p>
<p>    Consider the following example:
</p>
<pre>     type(<a href="#robo3">json_file</a>) :: json
     logical :: status_ok
     character(len=:),allocatable :: error_msg
     call json%load_file(filename='myfile.json')
     call <strong>json_check_for_errors</strong>(status_ok, error_msg)
     if (.not. status_ok) then
         write(*,*) 'Error: '//error_msg
         call <a href="#robo23">json_clear_exceptions</a>()
         call json%destroy()
     end if
</pre>
<p></p>
<p class="item_name">SEE ALSO</p>
<p>    <a href="#robo32">json_failed</a>
</p>
<p class="item_name">AUTHOR</p>
<p>    Jacob Williams : 12/4/2013
</p>
<p class="item_name">SOURCE</p>
<pre class="source"><span class="line_number">1424 </span>    <span class="keyword">subroutine</span> <strong>json_check_for_errors</strong><span class="sign">(</span>status_ok<span class="sign">,</span> error_msg<span class="sign">)</span>
<span class="line_number">1425 </span>
<span class="line_number">1426 </span>    <span class="keyword">implicit</span> <span class="keyword">none</span>
<span class="line_number">1427 </span>
<span class="line_number">1428 </span>    <span class="keyword">logical</span><span class="sign">(</span>LK<span class="sign">)</span><span class="sign">,</span><span class="keyword">intent</span><span class="sign">(</span>out<span class="sign">)</span> <span class="sign">:</span><span class="sign">:</span> status_ok
<span class="line_number">1429 </span>    <span class="keyword">character</span><span class="sign">(</span><span class="keyword">kind</span><span class="sign">=</span>CK<span class="sign">,</span><span class="keyword">len</span><span class="sign">=</span><span class="sign">:</span><span class="sign">)</span><span class="sign">,</span><span class="keyword">allocatable</span><span class="sign">,</span><span class="keyword">intent</span><span class="sign">(</span>out<span class="sign">)</span> <span class="sign">:</span><span class="sign">:</span> error_msg
<span class="line_number">1430 </span>
<span class="line_number">1431 </span>    status_ok <span class="sign">=</span> <span class="sign">.</span><span class="keyword">not</span><span class="sign">.</span> exception_thrown
<span class="line_number">1432 </span>
<span class="line_number">1433 </span>    <span class="keyword">if</span> <span class="sign">(</span><span class="sign">.</span><span class="keyword">not</span><span class="sign">.</span> status_ok<span class="sign">)</span> <span class="keyword">then</span>
<span class="line_number">1434 </span>        <span class="keyword">if</span> <span class="sign">(</span><span class="keyword">allocated</span><span class="sign">(</span>err_message<span class="sign">)</span><span class="sign">)</span> <span class="keyword">then</span>
<span class="line_number">1435 </span>            error_msg <span class="sign">=</span> err_message
<span class="line_number">1436 </span>        <span class="keyword">else</span>
<span class="line_number">1437 </span>            error_msg <span class="sign">=</span> <span class="squote">'Unknown Error'</span>
<span class="line_number">1438 </span>        <span class="keyword">end</span> <span class="keyword">if</span>
<span class="line_number">1439 </span>    <span class="keyword">else</span>
<span class="line_number">1440 </span>        error_msg <span class="sign">=</span> <span class="squote">''</span>
<span class="line_number">1441 </span>    <span class="keyword">end</span> <span class="keyword">if</span>
<span class="line_number">1442 </span>
<span class="line_number">1443 </span>    <span class="keyword">end</span> <span class="keyword">subroutine</span> <strong>json_check_for_errors</strong>
</pre>

<hr />
<a name="json5fmodule2fjson5fclear5fexceptions"></a>
<a name="robo23"></a><h2>json_module/json_clear_exceptions [ Functions ]</h2>

<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo0">json_module</a> ] [ <a href="./robo_functions.html#robo_top_of_doc">Functions</a> ]</p>
<p class="item_name">NAME</p>
<p>    <strong>json_clear_exceptions</strong>
</p>
<p class="item_name">DESCRIPTION</p>
<p>    Clear exceptions in the JSON module.
</p>
<p class="item_name">AUTHOR</p>
<p>    Jacob Williams : 12/4/2013
</p>
<p class="item_name">SOURCE</p>
<pre class="source"><span class="line_number">1344 </span>    <span class="keyword">subroutine</span> <strong>json_clear_exceptions</strong><span class="sign">(</span><span class="sign">)</span>
<span class="line_number">1345 </span>
<span class="line_number">1346 </span>    <span class="keyword">implicit</span> <span class="keyword">none</span>
<span class="line_number">1347 </span>
<span class="line_number">1348 </span>    <span class="comment">!clear the flag and message:</span>
<span class="line_number">1349 </span>    exception_thrown <span class="sign">=</span> <span class="sign">.</span>false<span class="sign">.</span>
<span class="line_number">1350 </span>    err_message <span class="sign">=</span> <span class="squote">''</span>
<span class="line_number">1351 </span>
<span class="line_number">1352 </span>    <span class="keyword">end</span> <span class="keyword">subroutine</span> <strong>json_clear_exceptions</strong>
</pre>

<hr />
<a name="json5fmodule2fjson5fcount"></a>
<a name="robo24"></a><h2>json_module/json_count [ Functions ]</h2>

<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo0">json_module</a> ] [ <a href="./robo_functions.html#robo_top_of_doc">Functions</a> ]</p>
<p class="item_name">NAME</p>
<p>    <strong>json_count</strong>
</p>
<p class="item_name">DESCRIPTION</p>
<p>    Count the number of children.
</p>
<p class="item_name">HISTORY</p>
<p>    JW : 1/4/2014 : Original routine removed.
    Now using n_children variable.
    Renamed from json_value_count.
</p>
<p class="item_name">SOURCE</p>
<pre class="source"><span class="line_number">2525 </span>    <span class="keyword">function</span> <strong>json_count</strong><span class="sign">(</span>me<span class="sign">)</span> <span class="keyword">result</span><span class="sign">(</span><span class="keyword">count</span><span class="sign">)</span>
<span class="line_number">2526 </span>
<span class="line_number">2527 </span>    <span class="keyword">implicit</span> <span class="keyword">none</span>
<span class="line_number">2528 </span>
<span class="line_number">2529 </span>    <span class="keyword">integer</span><span class="sign">(</span>IK<span class="sign">)</span>                         <span class="sign">:</span><span class="sign">:</span> <span class="keyword">count</span>
<span class="line_number">2530 </span>    <span class="keyword">type</span><span class="sign">(</span><a href="#robo4">json_value</a><span class="sign">)</span><span class="sign">,</span><span class="keyword">pointer</span><span class="sign">,</span><span class="keyword">intent</span><span class="sign">(</span>in<span class="sign">)</span> <span class="sign">:</span><span class="sign">:</span> me
<span class="line_number">2531 </span>
<span class="line_number">2532 </span>    <span class="keyword">count</span> <span class="sign">=</span> me<span class="sign">%</span>n_children
<span class="line_number">2533 </span>
<span class="line_number">2534 </span>    <span class="keyword">end</span> <span class="keyword">function</span> <strong>json_count</strong>
</pre>

<hr />
<a name="json5fmodule2fjson5fcreate5farray"></a>
<a name="robo25"></a><h2>json_module/json_create_array [ Functions ]</h2>

<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo0">json_module</a> ] [ <a href="./robo_functions.html#robo_top_of_doc">Functions</a> ]</p>
<p class="item_name">NAME</p>
<p>    <strong>json_create_array</strong>
</p>
<p class="item_name">DESCRIPTION</p>
<p>    Allocate a <a href="#robo4">json_value</a> pointer and make it an array variable.
    The pointer should not already be allocated.
</p>
<p class="item_name">EXAMPLE</p>
<p>    Example usage:
</p>
<pre>     type(<a href="#robo4">json_value</a>),pointer :: p
     call json_create(p,'arrayname')
</pre>
<p></p>
<p class="item_name">AUTHOR</p>
<p>    Jacob Williams
</p>
<p class="item_name">SOURCE</p>
<pre class="source"><span class="line_number">4583 </span>    <span class="keyword">subroutine</span> <strong>json_create_array</strong><span class="sign">(</span>me<span class="sign">,</span>name<span class="sign">)</span>
<span class="line_number">4584 </span>
<span class="line_number">4585 </span>    <span class="keyword">implicit</span> <span class="keyword">none</span>
<span class="line_number">4586 </span>
<span class="line_number">4587 </span>    <span class="keyword">type</span><span class="sign">(</span><a href="#robo4">json_value</a><span class="sign">)</span><span class="sign">,</span><span class="keyword">pointer</span>            <span class="sign">:</span><span class="sign">:</span> me
<span class="line_number">4588 </span>    <span class="keyword">character</span><span class="sign">(</span><span class="keyword">kind</span><span class="sign">=</span>CK<span class="sign">,</span><span class="keyword">len</span><span class="sign">=</span><span class="sign">*</span><span class="sign">)</span><span class="sign">,</span><span class="keyword">intent</span><span class="sign">(</span>in<span class="sign">)</span> <span class="sign">:</span><span class="sign">:</span> name
<span class="line_number">4589 </span>
<span class="line_number">4590 </span>    <span class="keyword">call</span> json_value_create<span class="sign">(</span>me<span class="sign">)</span>
<span class="line_number">4591 </span>    <span class="keyword">call</span> to_array<span class="sign">(</span>me<span class="sign">,</span>name<span class="sign">)</span>
<span class="line_number">4592 </span>
<span class="line_number">4593 </span>    <span class="keyword">end</span> <span class="keyword">subroutine</span> <strong>json_create_array</strong>
</pre>

<hr />
<a name="json5fmodule2fjson5fcreate5fdouble"></a>
<a name="robo26"></a><h2>json_module/json_create_double [ Functions ]</h2>

<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo0">json_module</a> ] [ <a href="./robo_functions.html#robo_top_of_doc">Functions</a> ]</p>
<p class="item_name">NAME</p>
<p>    <strong>json_create_double</strong>
</p>
<p class="item_name">DESCRIPTION</p>
<p>    Allocate a <a href="#robo4">json_value</a> pointer and make it a double variable.
    The pointer should not already be allocated.
</p>
<p class="item_name">EXAMPLE</p>
<p>    Example usage:
</p>
<pre>     type(<a href="#robo4">json_value</a>),pointer :: p
     call json_create(p,'value',1.0d0)
</pre>
<p></p>
<p class="item_name">AUTHOR</p>
<p>    Jacob Williams
</p>
<p class="item_name">SOURCE</p>
<pre class="source"><span class="line_number">4445 </span>    <span class="keyword">subroutine</span> <strong>json_create_double</strong><span class="sign">(</span>me<span class="sign">,</span>val<span class="sign">,</span>name<span class="sign">)</span>
<span class="line_number">4446 </span>
<span class="line_number">4447 </span>    <span class="keyword">implicit</span> <span class="keyword">none</span>
<span class="line_number">4448 </span>
<span class="line_number">4449 </span>    <span class="keyword">type</span><span class="sign">(</span><a href="#robo4">json_value</a><span class="sign">)</span><span class="sign">,</span><span class="keyword">pointer</span>            <span class="sign">:</span><span class="sign">:</span> me
<span class="line_number">4450 </span>    <span class="keyword">character</span><span class="sign">(</span><span class="keyword">kind</span><span class="sign">=</span>CK<span class="sign">,</span><span class="keyword">len</span><span class="sign">=</span><span class="sign">*</span><span class="sign">)</span><span class="sign">,</span><span class="keyword">intent</span><span class="sign">(</span>in<span class="sign">)</span> <span class="sign">:</span><span class="sign">:</span> name
<span class="line_number">4451 </span>    <span class="keyword">real</span><span class="sign">(</span>RK<span class="sign">)</span><span class="sign">,</span><span class="keyword">intent</span><span class="sign">(</span>in<span class="sign">)</span>                 <span class="sign">:</span><span class="sign">:</span> val
<span class="line_number">4452 </span>
<span class="line_number">4453 </span>    <span class="keyword">call</span> json_value_create<span class="sign">(</span>me<span class="sign">)</span>
<span class="line_number">4454 </span>    <span class="keyword">call</span> to_double<span class="sign">(</span>me<span class="sign">,</span>val<span class="sign">,</span>name<span class="sign">)</span>
<span class="line_number">4455 </span>
<span class="line_number">4456 </span>    <span class="keyword">end</span> <span class="keyword">subroutine</span> <strong>json_create_double</strong>
</pre>

<hr />
<a name="json5fmodule2fjson5fcreate5finteger"></a>
<a name="robo27"></a><h2>json_module/json_create_integer [ Functions ]</h2>

<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo0">json_module</a> ] [ <a href="./robo_functions.html#robo_top_of_doc">Functions</a> ]</p>
<p class="item_name">NAME</p>
<p>    <strong>json_create_integer</strong>
</p>
<p class="item_name">DESCRIPTION</p>
<p>    Allocate a <a href="#robo4">json_value</a> pointer and make it an integer variable.
    The pointer should not already be allocated.
</p>
<p class="item_name">EXAMPLE</p>
<p>    Example usage:
</p>
<pre>     type(<a href="#robo4">json_value</a>),pointer :: p
     call json_create(p,'value',1)
</pre>
<p></p>
<p class="item_name">AUTHOR</p>
<p>    Jacob Williams
</p>
<p class="item_name">SOURCE</p>
<pre class="source"><span class="line_number">4411 </span>    <span class="keyword">subroutine</span> <strong>json_create_integer</strong><span class="sign">(</span>me<span class="sign">,</span>val<span class="sign">,</span>name<span class="sign">)</span>
<span class="line_number">4412 </span>
<span class="line_number">4413 </span>    <span class="keyword">implicit</span> <span class="keyword">none</span>
<span class="line_number">4414 </span>
<span class="line_number">4415 </span>    <span class="keyword">type</span><span class="sign">(</span><a href="#robo4">json_value</a><span class="sign">)</span><span class="sign">,</span><span class="keyword">pointer</span>            <span class="sign">:</span><span class="sign">:</span> me
<span class="line_number">4416 </span>    <span class="keyword">character</span><span class="sign">(</span><span class="keyword">kind</span><span class="sign">=</span>CK<span class="sign">,</span><span class="keyword">len</span><span class="sign">=</span><span class="sign">*</span><span class="sign">)</span><span class="sign">,</span><span class="keyword">intent</span><span class="sign">(</span>in<span class="sign">)</span> <span class="sign">:</span><span class="sign">:</span> name
<span class="line_number">4417 </span>    <span class="keyword">integer</span><span class="sign">(</span>IK<span class="sign">)</span><span class="sign">,</span><span class="keyword">intent</span><span class="sign">(</span>in<span class="sign">)</span>              <span class="sign">:</span><span class="sign">:</span> val
<span class="line_number">4418 </span>
<span class="line_number">4419 </span>    <span class="keyword">call</span> json_value_create<span class="sign">(</span>me<span class="sign">)</span>
<span class="line_number">4420 </span>    <span class="keyword">call</span> to_integer<span class="sign">(</span>me<span class="sign">,</span>val<span class="sign">,</span>name<span class="sign">)</span>
<span class="line_number">4421 </span>
<span class="line_number">4422 </span>    <span class="keyword">end</span> <span class="keyword">subroutine</span> <strong>json_create_integer</strong>
</pre>

<hr />
<a name="json5fmodule2fjson5fcreate5flogical"></a>
<a name="robo28"></a><h2>json_module/json_create_logical [ Functions ]</h2>

<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo0">json_module</a> ] [ <a href="./robo_functions.html#robo_top_of_doc">Functions</a> ]</p>
<p class="item_name">NAME</p>
<p>    <strong>json_create_logical</strong>
</p>
<p class="item_name">DESCRIPTION</p>
<p>    Allocate a <a href="#robo4">json_value</a> pointer and make it a logical variable.
    The pointer should not already be allocated.
</p>
<p class="item_name">EXAMPLE</p>
<p>    Example usage:
</p>
<pre>     type(<a href="#robo4">json_value</a>),pointer :: p
     call json_create(p,'value',.true.)
</pre>
<p></p>
<p class="item_name">AUTHOR</p>
<p>    Jacob Williams
</p>
<p class="item_name">SOURCE</p>
<pre class="source"><span class="line_number">4377 </span>    <span class="keyword">subroutine</span> <strong>json_create_logical</strong><span class="sign">(</span>me<span class="sign">,</span>val<span class="sign">,</span>name<span class="sign">)</span>
<span class="line_number">4378 </span>
<span class="line_number">4379 </span>    <span class="keyword">implicit</span> <span class="keyword">none</span>
<span class="line_number">4380 </span>
<span class="line_number">4381 </span>    <span class="keyword">type</span><span class="sign">(</span><a href="#robo4">json_value</a><span class="sign">)</span><span class="sign">,</span><span class="keyword">pointer</span>            <span class="sign">:</span><span class="sign">:</span> me
<span class="line_number">4382 </span>    <span class="keyword">character</span><span class="sign">(</span><span class="keyword">kind</span><span class="sign">=</span>CK<span class="sign">,</span><span class="keyword">len</span><span class="sign">=</span><span class="sign">*</span><span class="sign">)</span><span class="sign">,</span><span class="keyword">intent</span><span class="sign">(</span>in<span class="sign">)</span> <span class="sign">:</span><span class="sign">:</span> name
<span class="line_number">4383 </span>    <span class="keyword">logical</span><span class="sign">(</span>LK<span class="sign">)</span><span class="sign">,</span><span class="keyword">intent</span><span class="sign">(</span>in<span class="sign">)</span>              <span class="sign">:</span><span class="sign">:</span> val
<span class="line_number">4384 </span>
<span class="line_number">4385 </span>    <span class="keyword">call</span> json_value_create<span class="sign">(</span>me<span class="sign">)</span>
<span class="line_number">4386 </span>    <span class="keyword">call</span> to_logical<span class="sign">(</span>me<span class="sign">,</span>val<span class="sign">,</span>name<span class="sign">)</span>
<span class="line_number">4387 </span>
<span class="line_number">4388 </span>    <span class="keyword">end</span> <span class="keyword">subroutine</span> <strong>json_create_logical</strong>
</pre>

<hr />
<a name="json5fmodule2fjson5fcreate5fnull"></a>
<a name="robo29"></a><h2>json_module/json_create_null [ Functions ]</h2>

<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo0">json_module</a> ] [ <a href="./robo_functions.html#robo_top_of_doc">Functions</a> ]</p>
<p class="item_name">NAME</p>
<p>    <strong>json_create_null</strong>
</p>
<p class="item_name">DESCRIPTION</p>
<p>    Allocate a <a href="#robo4">json_value</a> pointer and make it a null variable.
    The pointer should not already be allocated.
</p>
<p class="item_name">EXAMPLE</p>
<p>    Example usage:
</p>
<pre>     type(<a href="#robo4">json_value</a>),pointer :: p
     call json_create(p,'value')
</pre>
<p></p>
<p class="item_name">AUTHOR</p>
<p>    Jacob Williams
</p>
<p class="item_name">SOURCE</p>
<pre class="source"><span class="line_number">4513 </span>    <span class="keyword">subroutine</span> <strong>json_create_null</strong><span class="sign">(</span>me<span class="sign">,</span>name<span class="sign">)</span>
<span class="line_number">4514 </span>
<span class="line_number">4515 </span>    <span class="keyword">implicit</span> <span class="keyword">none</span>
<span class="line_number">4516 </span>
<span class="line_number">4517 </span>    <span class="keyword">type</span><span class="sign">(</span><a href="#robo4">json_value</a><span class="sign">)</span><span class="sign">,</span><span class="keyword">pointer</span>            <span class="sign">:</span><span class="sign">:</span> me
<span class="line_number">4518 </span>    <span class="keyword">character</span><span class="sign">(</span><span class="keyword">kind</span><span class="sign">=</span>CK<span class="sign">,</span><span class="keyword">len</span><span class="sign">=</span><span class="sign">*</span><span class="sign">)</span><span class="sign">,</span><span class="keyword">intent</span><span class="sign">(</span>in<span class="sign">)</span> <span class="sign">:</span><span class="sign">:</span> name
<span class="line_number">4519 </span>
<span class="line_number">4520 </span>    <span class="keyword">call</span> json_value_create<span class="sign">(</span>me<span class="sign">)</span>
<span class="line_number">4521 </span>    <span class="keyword">call</span> to_null<span class="sign">(</span>me<span class="sign">,</span>name<span class="sign">)</span>
<span class="line_number">4522 </span>
<span class="line_number">4523 </span>    <span class="keyword">end</span> <span class="keyword">subroutine</span> <strong>json_create_null</strong>
</pre>

<hr />
<a name="json5fmodule2fjson5fcreate5fobject"></a>
<a name="robo30"></a><h2>json_module/json_create_object [ Functions ]</h2>

<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo0">json_module</a> ] [ <a href="./robo_functions.html#robo_top_of_doc">Functions</a> ]</p>
<p class="item_name">NAME</p>
<p>    <strong>json_create_object</strong>
</p>
<p class="item_name">DESCRIPTION</p>
<p>    Allocate a <a href="#robo4">json_value</a> pointer and make it an object variable.
    The pointer should not already be allocated.
</p>
<p class="item_name">EXAMPLE</p>
<p>    Example usage:
</p>
<pre>     type(<a href="#robo4">json_value</a>),pointer :: p
     call json_create(p,'objectname')
</pre>
<p></p>
<p class="item_name">NOTES</p>
<p>    The name is not significant for the root structure or an array element.
    In those cases, an empty string can be used.
</p>
<p class="item_name">AUTHOR</p>
<p>    Jacob Williams
</p>
<p class="item_name">SOURCE</p>
<pre class="source"><span class="line_number">4550 </span>    <span class="keyword">subroutine</span> <strong>json_create_object</strong><span class="sign">(</span>me<span class="sign">,</span>name<span class="sign">)</span>
<span class="line_number">4551 </span>
<span class="line_number">4552 </span>    <span class="keyword">implicit</span> <span class="keyword">none</span>
<span class="line_number">4553 </span>
<span class="line_number">4554 </span>    <span class="keyword">type</span><span class="sign">(</span><a href="#robo4">json_value</a><span class="sign">)</span><span class="sign">,</span><span class="keyword">pointer</span>            <span class="sign">:</span><span class="sign">:</span> me
<span class="line_number">4555 </span>    <span class="keyword">character</span><span class="sign">(</span><span class="keyword">kind</span><span class="sign">=</span>CK<span class="sign">,</span><span class="keyword">len</span><span class="sign">=</span><span class="sign">*</span><span class="sign">)</span><span class="sign">,</span><span class="keyword">intent</span><span class="sign">(</span>in<span class="sign">)</span> <span class="sign">:</span><span class="sign">:</span> name
<span class="line_number">4556 </span>
<span class="line_number">4557 </span>    <span class="keyword">call</span> json_value_create<span class="sign">(</span>me<span class="sign">)</span>
<span class="line_number">4558 </span>    <span class="keyword">call</span> to_object<span class="sign">(</span>me<span class="sign">,</span>name<span class="sign">)</span>
<span class="line_number">4559 </span>
<span class="line_number">4560 </span>    <span class="keyword">end</span> <span class="keyword">subroutine</span> <strong>json_create_object</strong>
</pre>

<hr />
<a name="json5fmodule2fjson5fcreate5fstring"></a>
<a name="robo31"></a><h2>json_module/json_create_string [ Functions ]</h2>

<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo0">json_module</a> ] [ <a href="./robo_functions.html#robo_top_of_doc">Functions</a> ]</p>
<p class="item_name">NAME</p>
<p>    <strong>json_create_string</strong>
</p>
<p class="item_name">DESCRIPTION</p>
<p>    Allocate a <a href="#robo4">json_value</a> pointer and make it a string variable.
    The pointer should not already be allocated.
</p>
<p class="item_name">EXAMPLE</p>
<p>    Example usage:
</p>
<pre>     type(<a href="#robo4">json_value</a>),pointer :: p
     call json_create(p,'value','hello')
</pre>
<p></p>
<p class="item_name">AUTHOR</p>
<p>    Jacob Williams
</p>
<p class="item_name">SOURCE</p>
<pre class="source"><span class="line_number">4479 </span>    <span class="keyword">subroutine</span> <strong>json_create_string</strong><span class="sign">(</span>me<span class="sign">,</span>val<span class="sign">,</span>name<span class="sign">)</span>
<span class="line_number">4480 </span>
<span class="line_number">4481 </span>    <span class="keyword">implicit</span> <span class="keyword">none</span>
<span class="line_number">4482 </span>
<span class="line_number">4483 </span>    <span class="keyword">type</span><span class="sign">(</span><a href="#robo4">json_value</a><span class="sign">)</span><span class="sign">,</span><span class="keyword">pointer</span>            <span class="sign">:</span><span class="sign">:</span> me
<span class="line_number">4484 </span>    <span class="keyword">character</span><span class="sign">(</span><span class="keyword">kind</span><span class="sign">=</span>CK<span class="sign">,</span><span class="keyword">len</span><span class="sign">=</span><span class="sign">*</span><span class="sign">)</span><span class="sign">,</span><span class="keyword">intent</span><span class="sign">(</span>in<span class="sign">)</span> <span class="sign">:</span><span class="sign">:</span> name
<span class="line_number">4485 </span>    <span class="keyword">character</span><span class="sign">(</span><span class="keyword">kind</span><span class="sign">=</span>CK<span class="sign">,</span><span class="keyword">len</span><span class="sign">=</span><span class="sign">*</span><span class="sign">)</span><span class="sign">,</span><span class="keyword">intent</span><span class="sign">(</span>in<span class="sign">)</span> <span class="sign">:</span><span class="sign">:</span> val
<span class="line_number">4486 </span>
<span class="line_number">4487 </span>    <span class="keyword">call</span> json_value_create<span class="sign">(</span>me<span class="sign">)</span>
<span class="line_number">4488 </span>    <span class="keyword">call</span> to_string<span class="sign">(</span>me<span class="sign">,</span>val<span class="sign">,</span>name<span class="sign">)</span>
<span class="line_number">4489 </span>
<span class="line_number">4490 </span>    <span class="keyword">end</span> <span class="keyword">subroutine</span> <strong>json_create_string</strong>
</pre>

<hr />
<a name="json5fmodule2fjson5ffailed"></a>
<a name="robo32"></a><h2>json_module/json_failed [ Functions ]</h2>

<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo0">json_module</a> ] [ <a href="./robo_functions.html#robo_top_of_doc">Functions</a> ]</p>
<p class="item_name">NAME</p>
<p>    <strong>json_failed</strong>
</p>
<p class="item_name">DESCRIPTION</p>
<p>    Logical function to indicate if an exception has been thrown.
</p>
<p class="item_name">EXAMPLE</p>
<p>    Consider the following example:
</p>
<pre>     type(<a href="#robo3">json_file</a>) :: json
     logical :: status_ok
     character(len=:),allocatable :: error_msg
     call json%load_file(filename='myfile.json')
     if (<strong>json_failed</strong>()) then
         call <a href="#robo22">json_check_for_errors</a>(status_ok, error_msg)
         write(*,*) 'Error: '//error_msg
         call <a href="#robo23">json_clear_exceptions</a>()
         call json%destroy()
     end if
</pre>
<p></p>
<p class="item_name">SEE ALSO</p>
<p>    <a href="#robo22">json_check_for_errors</a>
</p>
<p class="item_name">AUTHOR</p>
<p>    Jacob Williams : 12/5/2013
</p>
<p class="item_name">SOURCE</p>
<pre class="source"><span class="line_number">1476 </span>    <span class="keyword">function</span> <strong>json_failed</strong><span class="sign">(</span><span class="sign">)</span> <span class="keyword">result</span><span class="sign">(</span>failed<span class="sign">)</span>
<span class="line_number">1477 </span>
<span class="line_number">1478 </span>    <span class="keyword">implicit</span> <span class="keyword">none</span>
<span class="line_number">1479 </span>
<span class="line_number">1480 </span>    <span class="keyword">logical</span><span class="sign">(</span>LK<span class="sign">)</span> <span class="sign">:</span><span class="sign">:</span> failed
<span class="line_number">1481 </span>
<span class="line_number">1482 </span>    failed <span class="sign">=</span> exception_thrown
<span class="line_number">1483 </span>
<span class="line_number">1484 </span>    <span class="keyword">end</span> <span class="keyword">function</span> <strong>json_failed</strong>
</pre>

<hr />
<a name="json5fmodule2fjson5ffile5fdestroy"></a>
<a name="robo33"></a><h2>json_module/json_file_destroy [ Functions ]</h2>

<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo0">json_module</a> ] [ <a href="./robo_functions.html#robo_top_of_doc">Functions</a> ]</p>
<p class="item_name">NAME</p>
<p>    <strong>json_file_destroy</strong>
</p>
<p class="item_name">USAGE</p>
<p>    call me%destroy()
</p>
<p class="item_name">DESCRIPTION</p>
<p>    Destroy the JSON file.
</p>
<p class="item_name">AUTHOR</p>
<p>    Jacob Williams : 12/9/2013
</p>
<p class="item_name">SOURCE</p>
<pre class="source"><span class="line_number">642 </span>    <span class="keyword">subroutine</span> <strong>json_file_destroy</strong><span class="sign">(</span>me<span class="sign">)</span>
<span class="line_number">643 </span>
<span class="line_number">644 </span>    <span class="keyword">implicit</span> <span class="keyword">none</span>
<span class="line_number">645 </span>
<span class="line_number">646 </span>    <span class="keyword">class</span><span class="sign">(</span><a href="#robo3">json_file</a><span class="sign">)</span><span class="sign">,</span><span class="keyword">intent</span><span class="sign">(</span>inout<span class="sign">)</span> <span class="sign">:</span><span class="sign">:</span> me
<span class="line_number">647 </span>
<span class="line_number">648 </span>    <span class="keyword">if</span> <span class="sign">(</span><span class="keyword">associated</span><span class="sign">(</span>me<span class="sign">%</span>p<span class="sign">)</span><span class="sign">)</span> <span class="keyword">call</span> <a href="#robo83">json_value_destroy</a><span class="sign">(</span>me<span class="sign">%</span>p<span class="sign">)</span>
<span class="line_number">649 </span>
<span class="line_number">650 </span>    <span class="keyword">end</span> <span class="keyword">subroutine</span> <strong>json_file_destroy</strong>
</pre>

<hr />
<a name="json5fmodule2fjson5ffile5fget5fdouble"></a>
<a name="robo34"></a><h2>json_module/json_file_get_double [ Functions ]</h2>

<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo0">json_module</a> ] [ <a href="./robo_functions.html#robo_top_of_doc">Functions</a> ]</p>
<p class="item_name">NAME</p>
<p>    <strong>json_file_get_double</strong>
</p>
<p class="item_name">USAGE</p>
<p>    call me%get(path,val,found)
</p>
<p class="item_name">DESCRIPTION</p>
<p>    Get a double from a JSON file.
</p>
<p class="item_name">AUTHOR</p>
<p>    Jacob Williams : 12/9/2013
</p>
<p class="item_name">SOURCE</p>
<pre class="source"><span class="line_number">1102 </span>    <span class="keyword">subroutine</span> <strong>json_file_get_double</strong> <span class="sign">(</span>me<span class="sign">,</span> path<span class="sign">,</span> val<span class="sign">,</span> found<span class="sign">)</span>
<span class="line_number">1103 </span>
<span class="line_number">1104 </span>    <span class="keyword">implicit</span> <span class="keyword">none</span>
<span class="line_number">1105 </span>
<span class="line_number">1106 </span>    <span class="keyword">class</span><span class="sign">(</span><a href="#robo3">json_file</a><span class="sign">)</span><span class="sign">,</span><span class="keyword">intent</span><span class="sign">(</span>inout<span class="sign">)</span>      <span class="sign">:</span><span class="sign">:</span> me
<span class="line_number">1107 </span>    <span class="keyword">character</span><span class="sign">(</span><span class="keyword">kind</span><span class="sign">=</span>CK<span class="sign">,</span><span class="keyword">len</span><span class="sign">=</span><span class="sign">*</span><span class="sign">)</span><span class="sign">,</span><span class="keyword">intent</span><span class="sign">(</span>in<span class="sign">)</span> <span class="sign">:</span><span class="sign">:</span> path
<span class="line_number">1108 </span>    <span class="keyword">real</span><span class="sign">(</span>RK<span class="sign">)</span><span class="sign">,</span><span class="keyword">intent</span><span class="sign">(</span>out<span class="sign">)</span>                <span class="sign">:</span><span class="sign">:</span> val
<span class="line_number">1109 </span>    <span class="keyword">logical</span><span class="sign">(</span>LK<span class="sign">)</span><span class="sign">,</span><span class="keyword">intent</span><span class="sign">(</span>out<span class="sign">)</span><span class="sign">,</span><span class="keyword">optional</span>    <span class="sign">:</span><span class="sign">:</span> found
<span class="line_number">1110 </span>
<span class="line_number">1111 </span>    <span class="keyword">call</span> <a href="#robo7">json_get</a><span class="sign">(</span>me<span class="sign">%</span>p<span class="sign">,</span> path<span class="sign">=</span>path<span class="sign">,</span> <span class="keyword">value</span><span class="sign">=</span>val<span class="sign">,</span> found<span class="sign">=</span>found<span class="sign">)</span>
<span class="line_number">1112 </span>
<span class="line_number">1113 </span>    <span class="keyword">end</span> <span class="keyword">subroutine</span> <strong>json_file_get_double</strong>
</pre>

<hr />
<a name="json5fmodule2fjson5ffile5fget5fdouble5fvec"></a>
<a name="robo35"></a><h2>json_module/json_file_get_double_vec [ Functions ]</h2>

<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo0">json_module</a> ] [ <a href="./robo_functions.html#robo_top_of_doc">Functions</a> ]</p>
<p class="item_name">NAME</p>
<p>    <strong>json_file_get_double_vec</strong>
</p>
<p class="item_name">USAGE</p>
<p>    call me%get(path,vec,found)
</p>
<p class="item_name">DESCRIPTION</p>
<p>    Get a double vector from a JSON file.
</p>
<p class="item_name">AUTHOR</p>
<p>    Jacob Williams : 1/19/2014
</p>
<p class="item_name">SOURCE</p>
<pre class="source"><span class="line_number">1133 </span>    <span class="keyword">subroutine</span> <strong>json_file_get_double_vec</strong><span class="sign">(</span>me<span class="sign">,</span> path<span class="sign">,</span> vec<span class="sign">,</span> found<span class="sign">)</span>
<span class="line_number">1134 </span>
<span class="line_number">1135 </span>    <span class="keyword">implicit</span> <span class="keyword">none</span>
<span class="line_number">1136 </span>
<span class="line_number">1137 </span>    <span class="keyword">class</span><span class="sign">(</span><a href="#robo3">json_file</a><span class="sign">)</span><span class="sign">,</span><span class="keyword">intent</span><span class="sign">(</span>inout<span class="sign">)</span>                <span class="sign">:</span><span class="sign">:</span> me
<span class="line_number">1138 </span>    <span class="keyword">character</span><span class="sign">(</span><span class="keyword">kind</span><span class="sign">=</span>CK<span class="sign">,</span><span class="keyword">len</span><span class="sign">=</span><span class="sign">*</span><span class="sign">)</span><span class="sign">,</span><span class="keyword">intent</span><span class="sign">(</span>in<span class="sign">)</span>           <span class="sign">:</span><span class="sign">:</span> path
<span class="line_number">1139 </span>    <span class="keyword">real</span><span class="sign">(</span>RK<span class="sign">)</span><span class="sign">,</span><span class="keyword">dimension</span><span class="sign">(</span><span class="sign">:</span><span class="sign">)</span><span class="sign">,</span><span class="keyword">allocatable</span><span class="sign">,</span><span class="keyword">intent</span><span class="sign">(</span>out<span class="sign">)</span> <span class="sign">:</span><span class="sign">:</span> vec
<span class="line_number">1140 </span>    <span class="keyword">logical</span><span class="sign">(</span>LK<span class="sign">)</span><span class="sign">,</span><span class="keyword">intent</span><span class="sign">(</span>out<span class="sign">)</span><span class="sign">,</span><span class="keyword">optional</span>              <span class="sign">:</span><span class="sign">:</span> found
<span class="line_number">1141 </span>
<span class="line_number">1142 </span>    <span class="keyword">call</span> <a href="#robo7">json_get</a><span class="sign">(</span>me<span class="sign">%</span>p<span class="sign">,</span> path<span class="sign">,</span> vec<span class="sign">,</span> found<span class="sign">)</span>
<span class="line_number">1143 </span>
<span class="line_number">1144 </span>    <span class="keyword">end</span> <span class="keyword">subroutine</span> <strong>json_file_get_double_vec</strong>
</pre>

<hr />
<a name="json5fmodule2fjson5ffile5fget5finteger"></a>
<a name="robo36"></a><h2>json_module/json_file_get_integer [ Functions ]</h2>

<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo0">json_module</a> ] [ <a href="./robo_functions.html#robo_top_of_doc">Functions</a> ]</p>
<p class="item_name">NAME</p>
<p>    <strong>json_file_get_integer</strong>
</p>
<p class="item_name">USAGE</p>
<p>    call me%get(path,val)
</p>
<p class="item_name">DESCRIPTION</p>
<p>    Get an integer from a JSON file.
</p>
<p class="item_name">AUTHOR</p>
<p>    Jacob Williams : 12/9/2013
</p>
<p class="item_name">SOURCE</p>
<pre class="source"><span class="line_number">1040 </span>    <span class="keyword">subroutine</span> <strong>json_file_get_integer</strong><span class="sign">(</span>me<span class="sign">,</span> path<span class="sign">,</span> val<span class="sign">,</span> found<span class="sign">)</span>
<span class="line_number">1041 </span>
<span class="line_number">1042 </span>    <span class="keyword">implicit</span> <span class="keyword">none</span>
<span class="line_number">1043 </span>
<span class="line_number">1044 </span>    <span class="keyword">class</span><span class="sign">(</span><a href="#robo3">json_file</a><span class="sign">)</span><span class="sign">,</span><span class="keyword">intent</span><span class="sign">(</span>inout<span class="sign">)</span>      <span class="sign">:</span><span class="sign">:</span> me
<span class="line_number">1045 </span>    <span class="keyword">character</span><span class="sign">(</span><span class="keyword">kind</span><span class="sign">=</span>CK<span class="sign">,</span><span class="keyword">len</span><span class="sign">=</span><span class="sign">*</span><span class="sign">)</span><span class="sign">,</span><span class="keyword">intent</span><span class="sign">(</span>in<span class="sign">)</span> <span class="sign">:</span><span class="sign">:</span> path
<span class="line_number">1046 </span>    <span class="keyword">integer</span><span class="sign">(</span>IK<span class="sign">)</span><span class="sign">,</span><span class="keyword">intent</span><span class="sign">(</span>out<span class="sign">)</span>             <span class="sign">:</span><span class="sign">:</span> val
<span class="line_number">1047 </span>    <span class="keyword">logical</span><span class="sign">(</span>LK<span class="sign">)</span><span class="sign">,</span><span class="keyword">intent</span><span class="sign">(</span>out<span class="sign">)</span><span class="sign">,</span><span class="keyword">optional</span>    <span class="sign">:</span><span class="sign">:</span> found
<span class="line_number">1048 </span>
<span class="line_number">1049 </span>    <span class="keyword">call</span> <a href="#robo7">json_get</a><span class="sign">(</span>me<span class="sign">%</span>p<span class="sign">,</span> path<span class="sign">=</span>path<span class="sign">,</span> <span class="keyword">value</span><span class="sign">=</span>val<span class="sign">,</span> found<span class="sign">=</span>found<span class="sign">)</span>
<span class="line_number">1050 </span>
<span class="line_number">1051 </span>    <span class="keyword">end</span> <span class="keyword">subroutine</span> <strong>json_file_get_integer</strong>
</pre>

<hr />
<a name="json5fmodule2fjson5ffile5fget5finteger5fvec"></a>
<a name="robo37"></a><h2>json_module/json_file_get_integer_vec [ Functions ]</h2>

<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo0">json_module</a> ] [ <a href="./robo_functions.html#robo_top_of_doc">Functions</a> ]</p>
<p class="item_name">NAME</p>
<p>    <strong>json_file_get_integer_vec</strong>
</p>
<p class="item_name">USAGE</p>
<p>    call me%get(path,vec)
</p>
<p class="item_name">DESCRIPTION</p>
<p>    Get an integer vector from a JSON file.
</p>
<p class="item_name">AUTHOR</p>
<p>    Jacob Williams : 1/20/2014
</p>
<p class="item_name">SOURCE</p>
<pre class="source"><span class="line_number">1071 </span>    <span class="keyword">subroutine</span> <strong>json_file_get_integer_vec</strong><span class="sign">(</span>me<span class="sign">,</span> path<span class="sign">,</span> vec<span class="sign">,</span> found<span class="sign">)</span>
<span class="line_number">1072 </span>
<span class="line_number">1073 </span>    <span class="keyword">implicit</span> <span class="keyword">none</span>
<span class="line_number">1074 </span>
<span class="line_number">1075 </span>    <span class="keyword">class</span><span class="sign">(</span><a href="#robo3">json_file</a><span class="sign">)</span><span class="sign">,</span><span class="keyword">intent</span><span class="sign">(</span>inout<span class="sign">)</span>                   <span class="sign">:</span><span class="sign">:</span> me
<span class="line_number">1076 </span>    <span class="keyword">character</span><span class="sign">(</span><span class="keyword">kind</span><span class="sign">=</span>CK<span class="sign">,</span><span class="keyword">len</span><span class="sign">=</span><span class="sign">*</span><span class="sign">)</span><span class="sign">,</span><span class="keyword">intent</span><span class="sign">(</span>in<span class="sign">)</span>              <span class="sign">:</span><span class="sign">:</span> path
<span class="line_number">1077 </span>    <span class="keyword">integer</span><span class="sign">(</span>IK<span class="sign">)</span><span class="sign">,</span><span class="keyword">dimension</span><span class="sign">(</span><span class="sign">:</span><span class="sign">)</span><span class="sign">,</span><span class="keyword">allocatable</span><span class="sign">,</span><span class="keyword">intent</span><span class="sign">(</span>out<span class="sign">)</span> <span class="sign">:</span><span class="sign">:</span> vec
<span class="line_number">1078 </span>    <span class="keyword">logical</span><span class="sign">(</span>LK<span class="sign">)</span><span class="sign">,</span><span class="keyword">intent</span><span class="sign">(</span>out<span class="sign">)</span><span class="sign">,</span><span class="keyword">optional</span>                 <span class="sign">:</span><span class="sign">:</span> found
<span class="line_number">1079 </span>
<span class="line_number">1080 </span>    <span class="keyword">call</span> <a href="#robo7">json_get</a><span class="sign">(</span>me<span class="sign">%</span>p<span class="sign">,</span> path<span class="sign">,</span> vec<span class="sign">,</span> found<span class="sign">)</span>
<span class="line_number">1081 </span>
<span class="line_number">1082 </span>    <span class="keyword">end</span> <span class="keyword">subroutine</span> <strong>json_file_get_integer_vec</strong>
</pre>

<hr />
<a name="json5fmodule2fjson5ffile5fget5flogical"></a>
<a name="robo38"></a><h2>json_module/json_file_get_logical [ Functions ]</h2>

<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo0">json_module</a> ] [ <a href="./robo_functions.html#robo_top_of_doc">Functions</a> ]</p>
<p class="item_name">NAME</p>
<p>    <strong>json_file_get_logical</strong>
</p>
<p class="item_name">USAGE</p>
<p>    call me%get(path,val,found)
</p>
<p class="item_name">DESCRIPTION</p>
<p>    Get a logical from a JSON file.
</p>
<p class="item_name">AUTHOR</p>
<p>    Jacob Williams : 12/9/2013
</p>
<p class="item_name">SOURCE</p>
<pre class="source"><span class="line_number">1164 </span>    <span class="keyword">subroutine</span> <strong>json_file_get_logical</strong><span class="sign">(</span>me<span class="sign">,</span>path<span class="sign">,</span>val<span class="sign">,</span>found<span class="sign">)</span>
<span class="line_number">1165 </span>
<span class="line_number">1166 </span>    <span class="keyword">implicit</span> <span class="keyword">none</span>
<span class="line_number">1167 </span>
<span class="line_number">1168 </span>    <span class="keyword">class</span><span class="sign">(</span><a href="#robo3">json_file</a><span class="sign">)</span><span class="sign">,</span><span class="keyword">intent</span><span class="sign">(</span>inout<span class="sign">)</span>       <span class="sign">:</span><span class="sign">:</span> me
<span class="line_number">1169 </span>    <span class="keyword">character</span><span class="sign">(</span><span class="keyword">kind</span><span class="sign">=</span>CK<span class="sign">,</span><span class="keyword">len</span><span class="sign">=</span><span class="sign">*</span><span class="sign">)</span><span class="sign">,</span><span class="keyword">intent</span><span class="sign">(</span>in<span class="sign">)</span>  <span class="sign">:</span><span class="sign">:</span> path
<span class="line_number">1170 </span>    <span class="keyword">logical</span><span class="sign">(</span>LK<span class="sign">)</span><span class="sign">,</span><span class="keyword">intent</span><span class="sign">(</span>out<span class="sign">)</span>              <span class="sign">:</span><span class="sign">:</span> val
<span class="line_number">1171 </span>    <span class="keyword">logical</span><span class="sign">(</span>LK<span class="sign">)</span><span class="sign">,</span><span class="keyword">intent</span><span class="sign">(</span>out<span class="sign">)</span><span class="sign">,</span><span class="keyword">optional</span>     <span class="sign">:</span><span class="sign">:</span> found
<span class="line_number">1172 </span>
<span class="line_number">1173 </span>    <span class="keyword">call</span> <a href="#robo7">json_get</a><span class="sign">(</span>me<span class="sign">%</span>p<span class="sign">,</span> path<span class="sign">=</span>path<span class="sign">,</span> <span class="keyword">value</span><span class="sign">=</span>val<span class="sign">,</span> found<span class="sign">=</span>found<span class="sign">)</span>
<span class="line_number">1174 </span>
<span class="line_number">1175 </span>    <span class="keyword">end</span> <span class="keyword">subroutine</span> <strong>json_file_get_logical</strong>
</pre>

<hr />
<a name="json5fmodule2fjson5ffile5fget5flogical5fvec"></a>
<a name="robo39"></a><h2>json_module/json_file_get_logical_vec [ Functions ]</h2>

<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo0">json_module</a> ] [ <a href="./robo_functions.html#robo_top_of_doc">Functions</a> ]</p>
<p class="item_name">NAME</p>
<p>    <strong>json_file_get_logical_vec</strong>
</p>
<p class="item_name">USAGE</p>
<p>    call me%get(path,vec)
</p>
<p class="item_name">DESCRIPTION</p>
<p>    Get a logical vector from a JSON file.
</p>
<p class="item_name">AUTHOR</p>
<p>    Jacob Williams : 1/20/2014
</p>
<p class="item_name">SOURCE</p>
<pre class="source"><span class="line_number">1195 </span>    <span class="keyword">subroutine</span> <strong>json_file_get_logical_vec</strong><span class="sign">(</span>me<span class="sign">,</span> path<span class="sign">,</span> vec<span class="sign">,</span> found<span class="sign">)</span>
<span class="line_number">1196 </span>
<span class="line_number">1197 </span>    <span class="keyword">implicit</span> <span class="keyword">none</span>
<span class="line_number">1198 </span>
<span class="line_number">1199 </span>    <span class="keyword">class</span><span class="sign">(</span><a href="#robo3">json_file</a><span class="sign">)</span><span class="sign">,</span><span class="keyword">intent</span><span class="sign">(</span>inout<span class="sign">)</span>                   <span class="sign">:</span><span class="sign">:</span> me
<span class="line_number">1200 </span>    <span class="keyword">character</span><span class="sign">(</span><span class="keyword">kind</span><span class="sign">=</span>CK<span class="sign">,</span><span class="keyword">len</span><span class="sign">=</span><span class="sign">*</span><span class="sign">)</span><span class="sign">,</span><span class="keyword">intent</span><span class="sign">(</span>in<span class="sign">)</span>              <span class="sign">:</span><span class="sign">:</span> path
<span class="line_number">1201 </span>    <span class="keyword">logical</span><span class="sign">(</span>LK<span class="sign">)</span><span class="sign">,</span><span class="keyword">dimension</span><span class="sign">(</span><span class="sign">:</span><span class="sign">)</span><span class="sign">,</span><span class="keyword">allocatable</span><span class="sign">,</span><span class="keyword">intent</span><span class="sign">(</span>out<span class="sign">)</span> <span class="sign">:</span><span class="sign">:</span> vec
<span class="line_number">1202 </span>    <span class="keyword">logical</span><span class="sign">(</span>LK<span class="sign">)</span><span class="sign">,</span><span class="keyword">intent</span><span class="sign">(</span>out<span class="sign">)</span><span class="sign">,</span><span class="keyword">optional</span>                 <span class="sign">:</span><span class="sign">:</span> found
<span class="line_number">1203 </span>
<span class="line_number">1204 </span>    <span class="keyword">call</span> <a href="#robo7">json_get</a><span class="sign">(</span>me<span class="sign">%</span>p<span class="sign">,</span> path<span class="sign">,</span> vec<span class="sign">,</span> found<span class="sign">)</span>
<span class="line_number">1205 </span>
<span class="line_number">1206 </span>    <span class="keyword">end</span> <span class="keyword">subroutine</span> <strong>json_file_get_logical_vec</strong>
</pre>

<hr />
<a name="json5fmodule2fjson5ffile5fget5fobject"></a>
<a name="robo40"></a><h2>json_module/json_file_get_object [ Functions ]</h2>

<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo0">json_module</a> ] [ <a href="./robo_functions.html#robo_top_of_doc">Functions</a> ]</p>
<p class="item_name">NAME</p>
<p>    <strong>json_file_get_object</strong>
</p>
<p class="item_name">USAGE</p>
<p>    call me%get(path,p,found)
</p>
<p class="item_name">DESCRIPTION</p>
<p>    Get a pointer to an object from a JSON file.
</p>
<p class="item_name">AUTHOR</p>
<p>    Jacob Williams : 2/3/2014
</p>
<p class="item_name">SOURCE</p>
<pre class="source"><span class="line_number">1009 </span>    <span class="keyword">subroutine</span> <strong>json_file_get_object</strong><span class="sign">(</span>me<span class="sign">,</span> path<span class="sign">,</span> p<span class="sign">,</span> found<span class="sign">)</span>
<span class="line_number">1010 </span>
<span class="line_number">1011 </span>    <span class="keyword">implicit</span> <span class="keyword">none</span>
<span class="line_number">1012 </span>
<span class="line_number">1013 </span>    <span class="keyword">class</span><span class="sign">(</span><a href="#robo3">json_file</a><span class="sign">)</span><span class="sign">,</span><span class="keyword">intent</span><span class="sign">(</span>inout<span class="sign">)</span>       <span class="sign">:</span><span class="sign">:</span> me
<span class="line_number">1014 </span>    <span class="keyword">character</span><span class="sign">(</span><span class="keyword">kind</span><span class="sign">=</span>CK<span class="sign">,</span><span class="keyword">len</span><span class="sign">=</span><span class="sign">*</span><span class="sign">)</span><span class="sign">,</span><span class="keyword">intent</span><span class="sign">(</span>in<span class="sign">)</span>  <span class="sign">:</span><span class="sign">:</span> path
<span class="line_number">1015 </span>    <span class="keyword">type</span><span class="sign">(</span><a href="#robo4">json_value</a><span class="sign">)</span><span class="sign">,</span><span class="keyword">pointer</span><span class="sign">,</span><span class="keyword">intent</span><span class="sign">(</span>out<span class="sign">)</span> <span class="sign">:</span><span class="sign">:</span> p
<span class="line_number">1016 </span>    <span class="keyword">logical</span><span class="sign">(</span>LK<span class="sign">)</span><span class="sign">,</span><span class="keyword">intent</span><span class="sign">(</span>out<span class="sign">)</span><span class="sign">,</span><span class="keyword">optional</span>     <span class="sign">:</span><span class="sign">:</span> found
<span class="line_number">1017 </span>
<span class="line_number">1018 </span>    <span class="keyword">call</span> <a href="#robo56">json_get_by_path</a><span class="sign">(</span>me<span class="sign">%</span>p<span class="sign">,</span> path<span class="sign">=</span>path<span class="sign">,</span> p<span class="sign">=</span>p<span class="sign">,</span> found<span class="sign">=</span>found<span class="sign">)</span>
<span class="line_number">1019 </span>
<span class="line_number">1020 </span>    <span class="keyword">end</span> <span class="keyword">subroutine</span> <strong>json_file_get_object</strong>
</pre>

<hr />
<a name="json5fmodule2fjson5ffile5fget5fstring"></a>
<a name="robo41"></a><h2>json_module/json_file_get_string [ Functions ]</h2>

<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo0">json_module</a> ] [ <a href="./robo_functions.html#robo_top_of_doc">Functions</a> ]</p>
<p class="item_name">NAME</p>
<p>    <strong>json_file_get_string</strong>
</p>
<p class="item_name">USAGE</p>
<p>    call me%get(path,val)
</p>
<p class="item_name">DESCRIPTION</p>
<p>    Get a character string from a json file.
    The output val is an allocatable character string.
</p>
<p class="item_name">AUTHOR</p>
<p>    Jacob Williams : 12/9/2013
</p>
<p class="item_name">SOURCE</p>
<pre class="source"><span class="line_number">1227 </span>    <span class="keyword">subroutine</span> <strong>json_file_get_string</strong><span class="sign">(</span>me<span class="sign">,</span> path<span class="sign">,</span> val<span class="sign">,</span> found<span class="sign">)</span>
<span class="line_number">1228 </span>
<span class="line_number">1229 </span>    <span class="keyword">implicit</span> <span class="keyword">none</span>
<span class="line_number">1230 </span>
<span class="line_number">1231 </span>    <span class="keyword">class</span><span class="sign">(</span><a href="#robo3">json_file</a><span class="sign">)</span><span class="sign">,</span><span class="keyword">intent</span><span class="sign">(</span>inout<span class="sign">)</span>                   <span class="sign">:</span><span class="sign">:</span> me
<span class="line_number">1232 </span>    <span class="keyword">character</span><span class="sign">(</span><span class="keyword">kind</span><span class="sign">=</span>CK<span class="sign">,</span><span class="keyword">len</span><span class="sign">=</span><span class="sign">*</span><span class="sign">)</span><span class="sign">,</span><span class="keyword">intent</span><span class="sign">(</span>in<span class="sign">)</span>              <span class="sign">:</span><span class="sign">:</span> path
<span class="line_number">1233 </span>    <span class="keyword">character</span><span class="sign">(</span><span class="keyword">kind</span><span class="sign">=</span>CK<span class="sign">,</span><span class="keyword">len</span><span class="sign">=</span><span class="sign">:</span><span class="sign">)</span><span class="sign">,</span><span class="keyword">allocatable</span><span class="sign">,</span><span class="keyword">intent</span><span class="sign">(</span>out<span class="sign">)</span> <span class="sign">:</span><span class="sign">:</span> val
<span class="line_number">1234 </span>    <span class="keyword">logical</span><span class="sign">(</span>LK<span class="sign">)</span><span class="sign">,</span><span class="keyword">intent</span><span class="sign">(</span>out<span class="sign">)</span><span class="sign">,</span><span class="keyword">optional</span>                 <span class="sign">:</span><span class="sign">:</span> found
<span class="line_number">1235 </span>
<span class="line_number">1236 </span>    <span class="keyword">call</span> <a href="#robo7">json_get</a><span class="sign">(</span>me<span class="sign">%</span>p<span class="sign">,</span> path<span class="sign">=</span>path<span class="sign">,</span> <span class="keyword">value</span><span class="sign">=</span>val<span class="sign">,</span> found<span class="sign">=</span>found<span class="sign">)</span>
<span class="line_number">1237 </span>
<span class="line_number">1238 </span>    <span class="keyword">end</span> <span class="keyword">subroutine</span> <strong>json_file_get_string</strong>
</pre>

<hr />
<a name="json5fmodule2fjson5ffile5fget5fstring5fvec"></a>
<a name="robo42"></a><h2>json_module/json_file_get_string_vec [ Functions ]</h2>

<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo0">json_module</a> ] [ <a href="./robo_functions.html#robo_top_of_doc">Functions</a> ]</p>
<p class="item_name">NAME</p>
<p>    <strong>json_file_get_string_vec</strong>
</p>
<p class="item_name">USAGE</p>
<p>    call me%get(path,vec)
</p>
<p class="item_name">DESCRIPTION</p>
<p>    Get a string vector from a JSON file.
</p>
<p class="item_name">AUTHOR</p>
<p>    Jacob Williams : 1/19/2014
</p>
<p class="item_name">SOURCE</p>
<pre class="source"><span class="line_number">1258 </span>    <span class="keyword">subroutine</span> <strong>json_file_get_string_vec</strong><span class="sign">(</span>me<span class="sign">,</span> path<span class="sign">,</span> vec<span class="sign">,</span> found<span class="sign">)</span>
<span class="line_number">1259 </span>
<span class="line_number">1260 </span>    <span class="keyword">implicit</span> <span class="keyword">none</span>
<span class="line_number">1261 </span>
<span class="line_number">1262 </span>    <span class="keyword">class</span><span class="sign">(</span><a href="#robo3">json_file</a><span class="sign">)</span><span class="sign">,</span><span class="keyword">intent</span><span class="sign">(</span>inout<span class="sign">)</span>                                <span class="sign">:</span><span class="sign">:</span> me
<span class="line_number">1263 </span>    <span class="keyword">character</span><span class="sign">(</span><span class="keyword">kind</span><span class="sign">=</span>CK<span class="sign">,</span><span class="keyword">len</span><span class="sign">=</span><span class="sign">*</span><span class="sign">)</span><span class="sign">,</span><span class="keyword">intent</span><span class="sign">(</span>in<span class="sign">)</span>                           <span class="sign">:</span><span class="sign">:</span> path
<span class="line_number">1264 </span>    <span class="keyword">character</span><span class="sign">(</span><span class="keyword">kind</span><span class="sign">=</span>CK<span class="sign">,</span><span class="keyword">len</span><span class="sign">=</span><span class="sign">*</span><span class="sign">)</span><span class="sign">,</span><span class="keyword">dimension</span><span class="sign">(</span><span class="sign">:</span><span class="sign">)</span><span class="sign">,</span><span class="keyword">allocatable</span><span class="sign">,</span><span class="keyword">intent</span><span class="sign">(</span>out<span class="sign">)</span> <span class="sign">:</span><span class="sign">:</span> vec
<span class="line_number">1265 </span>    <span class="keyword">logical</span><span class="sign">(</span>LK<span class="sign">)</span><span class="sign">,</span><span class="keyword">intent</span><span class="sign">(</span>out<span class="sign">)</span><span class="sign">,</span><span class="keyword">optional</span>                              <span class="sign">:</span><span class="sign">:</span> found
<span class="line_number">1266 </span>
<span class="line_number">1267 </span>    <span class="keyword">call</span> <a href="#robo7">json_get</a><span class="sign">(</span>me<span class="sign">%</span>p<span class="sign">,</span> path<span class="sign">,</span> vec<span class="sign">,</span> found<span class="sign">)</span>
<span class="line_number">1268 </span>
<span class="line_number">1269 </span>    <span class="keyword">end</span> <span class="keyword">subroutine</span> <strong>json_file_get_string_vec</strong>
</pre>

<hr />
<a name="json5fmodule2fjson5ffile5fload"></a>
<a name="robo43"></a><h2>json_module/json_file_load [ Functions ]</h2>

<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo0">json_module</a> ] [ <a href="./robo_functions.html#robo_top_of_doc">Functions</a> ]</p>
<p class="item_name">NAME</p>
<p>    <strong>json_file_load</strong>
</p>
<p class="item_name">DESCRIPTION</p>
<p>    Load a JSON file.
</p>
<p class="item_name">EXAMPLE</p>
<p>    Load a file:
</p>
<pre>     type(<a href="#robo3">json_file</a>) :: f
     call f%load_file('my_file.json')
</pre>
<p></p>
<p class="item_name">AUTHOR</p>
<p>    Jacob Williams : 12/9/2013
</p>
<p class="item_name">SOURCE</p>
<pre class="source"><span class="line_number">710 </span>    <span class="keyword">subroutine</span> <strong>json_file_load</strong><span class="sign">(</span>me<span class="sign">,</span> filename<span class="sign">,</span> unit<span class="sign">)</span>
<span class="line_number">711 </span>
<span class="line_number">712 </span>    <span class="keyword">implicit</span> <span class="keyword">none</span>
<span class="line_number">713 </span>
<span class="line_number">714 </span>    <span class="keyword">class</span><span class="sign">(</span><a href="#robo3">json_file</a><span class="sign">)</span><span class="sign">,</span><span class="keyword">intent</span><span class="sign">(</span>inout<span class="sign">)</span>      <span class="sign">:</span><span class="sign">:</span> me
<span class="line_number">715 </span>    <span class="keyword">character</span><span class="sign">(</span><span class="keyword">kind</span><span class="sign">=</span>CK<span class="sign">,</span><span class="keyword">len</span><span class="sign">=</span><span class="sign">*</span><span class="sign">)</span><span class="sign">,</span><span class="keyword">intent</span><span class="sign">(</span>in<span class="sign">)</span> <span class="sign">:</span><span class="sign">:</span> filename
<span class="line_number">716 </span>    <span class="keyword">integer</span><span class="sign">(</span>IK<span class="sign">)</span><span class="sign">,</span><span class="keyword">intent</span><span class="sign">(</span>in<span class="sign">)</span><span class="sign">,</span><span class="keyword">optional</span>     <span class="sign">:</span><span class="sign">:</span> unit
<span class="line_number">717 </span>
<span class="line_number">718 </span>    <span class="keyword">call</span> <a href="#robo67">json_parse</a><span class="sign">(</span>file<span class="sign">=</span>filename<span class="sign">,</span> p<span class="sign">=</span>me<span class="sign">%</span>p<span class="sign">,</span> unit<span class="sign">=</span>unit<span class="sign">)</span>
<span class="line_number">719 </span>
<span class="line_number">720 </span>    <span class="keyword">end</span> <span class="keyword">subroutine</span> <strong>json_file_load</strong>
</pre>

<hr />
<a name="json5fmodule2fjson5ffile5fload5ffrom5fstring"></a>
<a name="robo44"></a><h2>json_module/json_file_load_from_string [ Functions ]</h2>

<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo0">json_module</a> ] [ <a href="./robo_functions.html#robo_top_of_doc">Functions</a> ]</p>
<p class="item_name">NAME</p>
<p>    <strong>json_file_load_from_string</strong>
</p>
<p class="item_name">DESCRIPTION</p>
<p>    Load the JSON data from a string.
</p>
<p class="item_name">EXAMPLE</p>
<p>    Load JSON from a string:
</p>
<pre>     type(<a href="#robo3">json_file</a>) :: f
     call f%load_from_string('{ "name": "Leonidas" }')
</pre>
<p></p>
<p class="item_name">AUTHOR</p>
<p>    Jacob Williams : 1/13/2015
</p>
<p class="item_name">SOURCE</p>
<pre class="source"><span class="line_number">742 </span>    <span class="keyword">subroutine</span> <strong>json_file_load_from_string</strong><span class="sign">(</span>me<span class="sign">,</span> str<span class="sign">)</span>
<span class="line_number">743 </span>
<span class="line_number">744 </span>    <span class="keyword">implicit</span> <span class="keyword">none</span>
<span class="line_number">745 </span>
<span class="line_number">746 </span>    <span class="keyword">class</span><span class="sign">(</span><a href="#robo3">json_file</a><span class="sign">)</span><span class="sign">,</span><span class="keyword">intent</span><span class="sign">(</span>inout<span class="sign">)</span>      <span class="sign">:</span><span class="sign">:</span> me
<span class="line_number">747 </span>    <span class="keyword">character</span><span class="sign">(</span><span class="keyword">kind</span><span class="sign">=</span>CK<span class="sign">,</span><span class="keyword">len</span><span class="sign">=</span><span class="sign">*</span><span class="sign">)</span><span class="sign">,</span><span class="keyword">intent</span><span class="sign">(</span>in<span class="sign">)</span> <span class="sign">:</span><span class="sign">:</span> str
<span class="line_number">748 </span>
<span class="line_number">749 </span>    <span class="keyword">call</span> <a href="#robo67">json_parse</a><span class="sign">(</span>str<span class="sign">=</span>str<span class="sign">,</span> p<span class="sign">=</span>me<span class="sign">%</span>p<span class="sign">)</span>
<span class="line_number">750 </span>
<span class="line_number">751 </span>    <span class="keyword">end</span> <span class="keyword">subroutine</span> <strong>json_file_load_from_string</strong>
</pre>

<hr />
<a name="json5fmodule2fjson5ffile5fmove5fpointer"></a>
<a name="robo45"></a><h2>json_module/json_file_move_pointer [ Functions ]</h2>

<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo0">json_module</a> ] [ <a href="./robo_functions.html#robo_top_of_doc">Functions</a> ]</p>
<p class="item_name">NAME</p>
<p>    <strong>json_file_move_pointer</strong>
</p>
<p class="item_name">USAGE</p>
<p>    call to%move(from)
</p>
<p class="item_name">DESCRIPTION</p>
<p>    Move the <a href="#robo4">json_value</a> pointer from one <a href="#robo3">json_file</a> to another.
    The "from" pointer is then nullified, but not destroyed.
</p>
<p class="item_name">NOTES</p>
<p>    If "from%p" is not associated, then an error is thrown.
</p>
<p class="item_name">AUTHOR</p>
<p>    Jacob Williams : 12/5/2014
</p>
<p class="item_name">SOURCE</p>
<pre class="source"><span class="line_number">674 </span>    <span class="keyword">subroutine</span> <strong>json_file_move_pointer</strong><span class="sign">(</span>to<span class="sign">,</span>from<span class="sign">)</span>
<span class="line_number">675 </span>
<span class="line_number">676 </span>    <span class="keyword">implicit</span> <span class="keyword">none</span>
<span class="line_number">677 </span>
<span class="line_number">678 </span>    <span class="keyword">class</span><span class="sign">(</span><a href="#robo3">json_file</a><span class="sign">)</span><span class="sign">,</span><span class="keyword">intent</span><span class="sign">(</span>inout<span class="sign">)</span> <span class="sign">:</span><span class="sign">:</span> to
<span class="line_number">679 </span>    <span class="keyword">class</span><span class="sign">(</span><a href="#robo3">json_file</a><span class="sign">)</span><span class="sign">,</span><span class="keyword">intent</span><span class="sign">(</span>inout<span class="sign">)</span> <span class="sign">:</span><span class="sign">:</span> from
<span class="line_number">680 </span>
<span class="line_number">681 </span>    <span class="keyword">if</span> <span class="sign">(</span><span class="keyword">associated</span><span class="sign">(</span>from<span class="sign">%</span>p<span class="sign">)</span><span class="sign">)</span> <span class="keyword">then</span>
<span class="line_number">682 </span>        to<span class="sign">%</span>p <span class="sign">=</span><span class="sign">&gt;</span> from<span class="sign">%</span>p
<span class="line_number">683 </span>        <span class="keyword">nullify</span><span class="sign">(</span>from<span class="sign">%</span>p<span class="sign">)</span>
<span class="line_number">684 </span>    <span class="keyword">else</span>
<span class="line_number">685 </span>        <span class="keyword">call</span> throw_exception<span class="sign">(</span><span class="squote">'Error in <strong>json_file_move_pointer</strong>: '</span><span class="sign">/</span><span class="sign">/</span><span class="sign">&amp;</span>
<span class="line_number">686 </span>                             <span class="squote">'pointer is not associated.'</span><span class="sign">)</span>
<span class="line_number">687 </span>    <span class="keyword">end</span> <span class="keyword">if</span>
<span class="line_number">688 </span>
<span class="line_number">689 </span>    <span class="keyword">end</span> <span class="keyword">subroutine</span> <strong>json_file_move_pointer</strong>
</pre>

<hr />
<a name="json5fmodule2fjson5ffile5fprint5f1"></a>
<a name="robo46"></a><h2>json_module/json_file_print_1 [ Functions ]</h2>

<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo0">json_module</a> ] [ <a href="./robo_functions.html#robo_top_of_doc">Functions</a> ]</p>
<p class="item_name">NAME</p>
<p>    <strong>json_file_print_1</strong>
</p>
<p class="item_name">USAGE</p>
<p>    call me%print_file(iunit)
</p>
<p class="item_name">DESCRIPTION</p>
<p>    Prints the JSON file the specified (non zero) file unit.
</p>
<p class="item_name">AUTHOR</p>
<p>    Jacob Williams : 12/9/2013
</p>
<p class="item_name">SOURCE</p>
<pre class="source"><span class="line_number">801 </span>    <span class="keyword">subroutine</span> <strong>json_file_print_1</strong><span class="sign">(</span>me<span class="sign">,</span> iunit<span class="sign">)</span>
<span class="line_number">802 </span>
<span class="line_number">803 </span>    <span class="keyword">implicit</span> <span class="keyword">none</span>
<span class="line_number">804 </span>
<span class="line_number">805 </span>    <span class="keyword">class</span><span class="sign">(</span><a href="#robo3">json_file</a><span class="sign">)</span><span class="sign">,</span><span class="keyword">intent</span><span class="sign">(</span>inout<span class="sign">)</span>  <span class="sign">:</span><span class="sign">:</span> me
<span class="line_number">806 </span>    <span class="keyword">integer</span><span class="sign">(</span>IK<span class="sign">)</span><span class="sign">,</span><span class="keyword">intent</span><span class="sign">(</span>in<span class="sign">)</span>          <span class="sign">:</span><span class="sign">:</span> iunit  <span class="comment">!must be non-zero</span>
<span class="line_number">807 </span>
<span class="line_number">808 </span>    <span class="keyword">integer</span><span class="sign">(</span>IK<span class="sign">)</span> <span class="sign">:</span><span class="sign">:</span> i
<span class="line_number">809 </span>    <span class="keyword">character</span><span class="sign">(</span><span class="keyword">kind</span><span class="sign">=</span>CK<span class="sign">,</span><span class="keyword">len</span><span class="sign">=</span><span class="sign">:</span><span class="sign">)</span><span class="sign">,</span><span class="keyword">allocatable</span> <span class="sign">:</span><span class="sign">:</span> dummy
<span class="line_number">810 </span>
<span class="line_number">811 </span>    <span class="keyword">if</span> <span class="sign">(</span>iunit<span class="sign">/</span><span class="sign">=</span>0<span class="sign">)</span> <span class="keyword">then</span>
<span class="line_number">812 </span>        i <span class="sign">=</span> iunit
<span class="line_number">813 </span>    <span class="keyword">else</span>
<span class="line_number">814 </span>        <span class="keyword">call</span> throw_exception<span class="sign">(</span><span class="squote">'Error in <strong>json_file_print_1</strong>: iunit must be nonzero.'</span><span class="sign">)</span>
<span class="line_number">815 </span>        <span class="keyword">return</span>
<span class="line_number">816 </span>    <span class="keyword">end</span> <span class="keyword">if</span>
<span class="line_number">817 </span>
<span class="line_number">818 </span>    <span class="keyword">call</span> json_value_print<span class="sign">(</span>me<span class="sign">%</span>p<span class="sign">,</span>iunit<span class="sign">=</span>i<span class="sign">,</span>str<span class="sign">=</span>dummy<span class="sign">,</span>indent<span class="sign">=</span>1<span class="sign">,</span>colon<span class="sign">=</span><span class="sign">.</span>true<span class="sign">.</span><span class="sign">)</span>
<span class="line_number">819 </span>
<span class="line_number">820 </span>    <span class="keyword">end</span> <span class="keyword">subroutine</span> <strong>json_file_print_1</strong>
</pre>

<hr />
<a name="json5fmodule2fjson5ffile5fprint5f2"></a>
<a name="robo47"></a><h2>json_module/json_file_print_2 [ Functions ]</h2>

<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo0">json_module</a> ] [ <a href="./robo_functions.html#robo_top_of_doc">Functions</a> ]</p>
<p class="item_name">NAME</p>
<p>    <strong>json_file_print_2</strong>
</p>
<p class="item_name">USAGE</p>
<p>    call me%print_file(filename)
</p>
<p class="item_name">DESCRIPTION</p>
<p>    Print the JSON structure to the specified filename.
    The file is opened, printed, and then closed.
</p>
<p class="item_name">EXAMPLE</p>
<p>    Example loading a JSON file, changing a value, and then printing
    result to a new file:
</p>
<pre>     type(<a href="#robo3">json_file</a>) :: f
     logical :: found
     call f%load_file('my_file.json')    !open the original file
     call f%update('version',4,found)    !change the value of a variable
     call f%print_file('my_file_2.json') !save file as new name
</pre>
<p></p>
<p class="item_name">AUTHOR</p>
<p>    Jacob Williams : 1/11/2015
</p>
<p class="item_name">SOURCE</p>
<pre class="source"><span class="line_number">850 </span>    <span class="keyword">subroutine</span> <strong>json_file_print_2</strong><span class="sign">(</span>me<span class="sign">,</span>filename<span class="sign">)</span>
<span class="line_number">851 </span>
<span class="line_number">852 </span>    <span class="keyword">implicit</span> <span class="keyword">none</span>
<span class="line_number">853 </span>
<span class="line_number">854 </span>    <span class="keyword">class</span><span class="sign">(</span><a href="#robo3">json_file</a><span class="sign">)</span><span class="sign">,</span><span class="keyword">intent</span><span class="sign">(</span>inout<span class="sign">)</span>      <span class="sign">:</span><span class="sign">:</span> me
<span class="line_number">855 </span>    <span class="keyword">character</span><span class="sign">(</span><span class="keyword">kind</span><span class="sign">=</span>CK<span class="sign">,</span><span class="keyword">len</span><span class="sign">=</span><span class="sign">*</span><span class="sign">)</span><span class="sign">,</span><span class="keyword">intent</span><span class="sign">(</span>in<span class="sign">)</span> <span class="sign">:</span><span class="sign">:</span> filename
<span class="line_number">856 </span>
<span class="line_number">857 </span>    <span class="keyword">integer</span><span class="sign">(</span>IK<span class="sign">)</span> <span class="sign">:</span><span class="sign">:</span> iunit<span class="sign">,</span>istat
<span class="line_number">858 </span>
<span class="line_number">859 </span>    <span class="keyword">open</span><span class="sign">(</span>newunit<span class="sign">=</span>iunit<span class="sign">,</span>file<span class="sign">=</span>filename<span class="sign">,</span>status<span class="sign">=</span><span class="squote">'REPLACE'</span><span class="sign">,</span>iostat<span class="sign">=</span>istat<span class="sign">)</span>
<span class="line_number">860 </span>    <span class="keyword">if</span> <span class="sign">(</span>istat<span class="sign">=</span><span class="sign">=</span>0<span class="sign">)</span> <span class="keyword">then</span>
<span class="line_number">861 </span>        <span class="keyword">call</span> me<span class="sign">%</span>print_file<span class="sign">(</span>iunit<span class="sign">)</span>    <span class="comment">!call the other routine</span>
<span class="line_number">862 </span>        <span class="keyword">close</span><span class="sign">(</span>iunit<span class="sign">,</span>iostat<span class="sign">=</span>istat<span class="sign">)</span>
<span class="line_number">863 </span>    <span class="keyword">else</span>
<span class="line_number">864 </span>        <span class="keyword">call</span> throw_exception<span class="sign">(</span><span class="squote">'Error in <strong>json_file_print_2</strong>: could not open file: '</span><span class="sign">/</span><span class="sign">/</span><span class="sign">&amp;</span>
<span class="line_number">865 </span>                              <span class="keyword">trim</span><span class="sign">(</span>filename<span class="sign">)</span><span class="sign">)</span>
<span class="line_number">866 </span>    <span class="keyword">end</span> <span class="keyword">if</span>
<span class="line_number">867 </span>
<span class="line_number">868 </span>    <span class="keyword">end</span> <span class="keyword">subroutine</span> <strong>json_file_print_2</strong>
</pre>

<hr />
<a name="json5fmodule2fjson5ffile5fprint5fto5fconsole"></a>
<a name="robo48"></a><h2>json_module/json_file_print_to_console [ Functions ]</h2>

<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo0">json_module</a> ] [ <a href="./robo_functions.html#robo_top_of_doc">Functions</a> ]</p>
<p class="item_name">NAME</p>
<p>    <strong>json_file_print_to_console</strong>
</p>
<p class="item_name">USAGE</p>
<p>    call me%print_file()
</p>
<p class="item_name">DESCRIPTION</p>
<p>    Print the JSON file to the console.
</p>
<p class="item_name">AUTHOR</p>
<p>    Jacob Williams : 1/11/2015
</p>
<p class="item_name">SOURCE</p>
<pre class="source"><span class="line_number">771 </span>    <span class="keyword">subroutine</span> <strong>json_file_print_to_console</strong><span class="sign">(</span>me<span class="sign">)</span>
<span class="line_number">772 </span>
<span class="line_number">773 </span>    <span class="keyword">implicit</span> <span class="keyword">none</span>
<span class="line_number">774 </span>
<span class="line_number">775 </span>    <span class="keyword">class</span><span class="sign">(</span><a href="#robo3">json_file</a><span class="sign">)</span><span class="sign">,</span><span class="keyword">intent</span><span class="sign">(</span>inout<span class="sign">)</span>  <span class="sign">:</span><span class="sign">:</span> me
<span class="line_number">776 </span>
<span class="line_number">777 </span>    <span class="keyword">character</span><span class="sign">(</span><span class="keyword">kind</span><span class="sign">=</span>CK<span class="sign">,</span><span class="keyword">len</span><span class="sign">=</span><span class="sign">:</span><span class="sign">)</span><span class="sign">,</span><span class="keyword">allocatable</span> <span class="sign">:</span><span class="sign">:</span> dummy
<span class="line_number">778 </span>
<span class="line_number">779 </span>    <span class="keyword">call</span> json_value_print<span class="sign">(</span>me<span class="sign">%</span>p<span class="sign">,</span>iunit<span class="sign">=</span>output_unit<span class="sign">,</span>str<span class="sign">=</span>dummy<span class="sign">,</span>indent<span class="sign">=</span>1<span class="sign">,</span>colon<span class="sign">=</span><span class="sign">.</span>true<span class="sign">.</span><span class="sign">)</span>
<span class="line_number">780 </span>
<span class="line_number">781 </span>    <span class="keyword">end</span> <span class="keyword">subroutine</span> <strong>json_file_print_to_console</strong>
</pre>

<hr />
<a name="json5fmodule2fjson5ffile5fprint5fto5fstring"></a>
<a name="robo49"></a><h2>json_module/json_file_print_to_string [ Functions ]</h2>

<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo0">json_module</a> ] [ <a href="./robo_functions.html#robo_top_of_doc">Functions</a> ]</p>
<p class="item_name">NAME</p>
<p>    <strong>json_file_print_to_string</strong>
</p>
<p class="item_name">USAGE</p>
<p>    call me%print_to_string(str)
</p>
<p class="item_name">DESCRIPTION</p>
<p>    Print the JSON file to a string.
</p>
<p class="item_name">EXAMPLE</p>
<p>    Open a JSON file, and then print the contents to a string:
</p>
<pre>     type(<a href="#robo3">json_file</a>) :: f
     character(kind=CK,len=:),allocatable :: str
     call f%load_file('my_file.json')
     call f%print_file(str)
</pre>
<p></p>
<p class="item_name">AUTHOR</p>
<p>    Jacob Williams : 1/11/2015
</p>
<p class="item_name">SOURCE</p>
<pre class="source"><span class="line_number">895 </span>    <span class="keyword">subroutine</span> <strong>json_file_print_to_string</strong><span class="sign">(</span>me<span class="sign">,</span>str<span class="sign">)</span>
<span class="line_number">896 </span>
<span class="line_number">897 </span>    <span class="keyword">implicit</span> <span class="keyword">none</span>
<span class="line_number">898 </span>
<span class="line_number">899 </span>    <span class="keyword">class</span><span class="sign">(</span><a href="#robo3">json_file</a><span class="sign">)</span><span class="sign">,</span><span class="keyword">intent</span><span class="sign">(</span>inout<span class="sign">)</span>                   <span class="sign">:</span><span class="sign">:</span> me
<span class="line_number">900 </span>    <span class="keyword">character</span><span class="sign">(</span><span class="keyword">kind</span><span class="sign">=</span>CK<span class="sign">,</span><span class="keyword">len</span><span class="sign">=</span><span class="sign">:</span><span class="sign">)</span><span class="sign">,</span><span class="keyword">allocatable</span><span class="sign">,</span><span class="keyword">intent</span><span class="sign">(</span>out<span class="sign">)</span> <span class="sign">:</span><span class="sign">:</span> str
<span class="line_number">901 </span>
<span class="line_number">902 </span>    <span class="keyword">call</span> <a href="#robo88">json_value_to_string</a><span class="sign">(</span>me<span class="sign">%</span>p<span class="sign">,</span>str<span class="sign">)</span>
<span class="line_number">903 </span>
<span class="line_number">904 </span>    <span class="keyword">end</span> <span class="keyword">subroutine</span> <strong>json_file_print_to_string</strong>
</pre>

<hr />
<a name="json5fmodule2fjson5ffile5fupdate5finteger"></a>
<a name="robo50"></a><h2>json_module/json_file_update_integer [ Functions ]</h2>

<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo0">json_module</a> ] [ <a href="./robo_functions.html#robo_top_of_doc">Functions</a> ]</p>
<p class="item_name">NAME</p>
<p>    <strong>json_file_update_integer</strong>
</p>
<p class="item_name">DESCRIPTION</p>
<p>    Given the path string, if the variable is present in the file,
    and is a scalar, then update its value.
    If it is not present, then create it and set its value.
</p>
<p class="item_name">SEE ALSO</p>
<p>    <a href="#robo71">json_update_integer</a>
</p>
<p class="item_name">AUTHOR</p>
<p>    Jacob Williams : 1/10/2015
</p>
<p class="item_name">SOURCE</p>
<pre class="source"><span class="line_number">1728 </span>    <span class="keyword">subroutine</span> <strong>json_file_update_integer</strong><span class="sign">(</span>me<span class="sign">,</span>name<span class="sign">,</span>val<span class="sign">,</span>found<span class="sign">)</span>
<span class="line_number">1729 </span>    <span class="keyword">implicit</span> <span class="keyword">none</span>
<span class="line_number">1730 </span>
<span class="line_number">1731 </span>    <span class="keyword">class</span><span class="sign">(</span><a href="#robo3">json_file</a><span class="sign">)</span><span class="sign">,</span><span class="keyword">intent</span><span class="sign">(</span>inout<span class="sign">)</span>      <span class="sign">:</span><span class="sign">:</span> me
<span class="line_number">1732 </span>    <span class="keyword">character</span><span class="sign">(</span><span class="keyword">kind</span><span class="sign">=</span>CK<span class="sign">,</span><span class="keyword">len</span><span class="sign">=</span><span class="sign">*</span><span class="sign">)</span><span class="sign">,</span><span class="keyword">intent</span><span class="sign">(</span>in<span class="sign">)</span> <span class="sign">:</span><span class="sign">:</span> name
<span class="line_number">1733 </span>    <span class="keyword">integer</span><span class="sign">(</span>IK<span class="sign">)</span><span class="sign">,</span><span class="keyword">intent</span><span class="sign">(</span>in<span class="sign">)</span>              <span class="sign">:</span><span class="sign">:</span> val
<span class="line_number">1734 </span>    <span class="keyword">logical</span><span class="sign">(</span>LK<span class="sign">)</span><span class="sign">,</span><span class="keyword">intent</span><span class="sign">(</span>out<span class="sign">)</span>             <span class="sign">:</span><span class="sign">:</span> found
<span class="line_number">1735 </span>
<span class="line_number">1736 </span>    <span class="keyword">if</span> <span class="sign">(</span><span class="sign">.</span><span class="keyword">not</span><span class="sign">.</span> exception_thrown<span class="sign">)</span> <span class="keyword">call</span> <a href="#robo13">json_update</a><span class="sign">(</span>me<span class="sign">%</span>p<span class="sign">,</span>name<span class="sign">,</span>val<span class="sign">,</span>found<span class="sign">)</span>
<span class="line_number">1737 </span>
<span class="line_number">1738 </span>    <span class="keyword">end</span> <span class="keyword">subroutine</span> <strong>json_file_update_integer</strong>
</pre>

<hr />
<a name="json5fmodule2fjson5ffile5fupdate5flogical"></a>
<a name="robo51"></a><h2>json_module/json_file_update_logical [ Functions ]</h2>

<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo0">json_module</a> ] [ <a href="./robo_functions.html#robo_top_of_doc">Functions</a> ]</p>
<p class="item_name">NAME</p>
<p>    <strong>json_file_update_logical</strong>
</p>
<p class="item_name">DESCRIPTION</p>
<p>    Given the path string, if the variable is present in the file,
    and is a scalar, then update its value.
    If it is not present, then create it and set its value.
</p>
<p class="item_name">SEE ALSO</p>
<p>    <a href="#robo72">json_update_logical</a>
</p>
<p class="item_name">AUTHOR</p>
<p>    Jacob Williams : 1/10/2015
</p>
<p class="item_name">SOURCE</p>
<pre class="source"><span class="line_number">1760 </span>    <span class="keyword">subroutine</span> <strong>json_file_update_logical</strong><span class="sign">(</span>me<span class="sign">,</span>name<span class="sign">,</span>val<span class="sign">,</span>found<span class="sign">)</span>
<span class="line_number">1761 </span>    <span class="keyword">implicit</span> <span class="keyword">none</span>
<span class="line_number">1762 </span>
<span class="line_number">1763 </span>    <span class="keyword">class</span><span class="sign">(</span><a href="#robo3">json_file</a><span class="sign">)</span><span class="sign">,</span><span class="keyword">intent</span><span class="sign">(</span>inout<span class="sign">)</span>      <span class="sign">:</span><span class="sign">:</span> me
<span class="line_number">1764 </span>    <span class="keyword">character</span><span class="sign">(</span><span class="keyword">kind</span><span class="sign">=</span>CK<span class="sign">,</span><span class="keyword">len</span><span class="sign">=</span><span class="sign">*</span><span class="sign">)</span><span class="sign">,</span><span class="keyword">intent</span><span class="sign">(</span>in<span class="sign">)</span> <span class="sign">:</span><span class="sign">:</span> name
<span class="line_number">1765 </span>    <span class="keyword">logical</span><span class="sign">(</span>LK<span class="sign">)</span><span class="sign">,</span><span class="keyword">intent</span><span class="sign">(</span>in<span class="sign">)</span>              <span class="sign">:</span><span class="sign">:</span> val
<span class="line_number">1766 </span>    <span class="keyword">logical</span><span class="sign">(</span>LK<span class="sign">)</span><span class="sign">,</span><span class="keyword">intent</span><span class="sign">(</span>out<span class="sign">)</span>             <span class="sign">:</span><span class="sign">:</span> found
<span class="line_number">1767 </span>
<span class="line_number">1768 </span>    <span class="keyword">if</span> <span class="sign">(</span><span class="sign">.</span><span class="keyword">not</span><span class="sign">.</span> exception_thrown<span class="sign">)</span> <span class="keyword">call</span> <a href="#robo13">json_update</a><span class="sign">(</span>me<span class="sign">%</span>p<span class="sign">,</span>name<span class="sign">,</span>val<span class="sign">,</span>found<span class="sign">)</span>
<span class="line_number">1769 </span>
<span class="line_number">1770 </span>    <span class="keyword">end</span> <span class="keyword">subroutine</span> <strong>json_file_update_logical</strong>
</pre>

<hr />
<a name="json5fmodule2fjson5ffile5fupdate5freal"></a>
<a name="robo52"></a><h2>json_module/json_file_update_real [ Functions ]</h2>

<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo0">json_module</a> ] [ <a href="./robo_functions.html#robo_top_of_doc">Functions</a> ]</p>
<p class="item_name">NAME</p>
<p>    <strong>json_file_update_real</strong>
</p>
<p class="item_name">DESCRIPTION</p>
<p>    Given the path string, if the variable is present in the file,
    and is a scalar, then update its value.
    If it is not present, then create it and set its value.
</p>
<p class="item_name">SEE ALSO</p>
<p>    json_update_real
</p>
<p class="item_name">AUTHOR</p>
<p>    Jacob Williams : 1/10/2015
</p>
<p class="item_name">SOURCE</p>
<pre class="source"><span class="line_number">1792 </span>    <span class="keyword">subroutine</span> <strong>json_file_update_real</strong><span class="sign">(</span>me<span class="sign">,</span>name<span class="sign">,</span>val<span class="sign">,</span>found<span class="sign">)</span>
<span class="line_number">1793 </span>    <span class="keyword">implicit</span> <span class="keyword">none</span>
<span class="line_number">1794 </span>
<span class="line_number">1795 </span>    <span class="keyword">class</span><span class="sign">(</span><a href="#robo3">json_file</a><span class="sign">)</span><span class="sign">,</span><span class="keyword">intent</span><span class="sign">(</span>inout<span class="sign">)</span>      <span class="sign">:</span><span class="sign">:</span> me
<span class="line_number">1796 </span>    <span class="keyword">character</span><span class="sign">(</span><span class="keyword">kind</span><span class="sign">=</span>CK<span class="sign">,</span><span class="keyword">len</span><span class="sign">=</span><span class="sign">*</span><span class="sign">)</span><span class="sign">,</span><span class="keyword">intent</span><span class="sign">(</span>in<span class="sign">)</span> <span class="sign">:</span><span class="sign">:</span> name
<span class="line_number">1797 </span>    <span class="keyword">real</span><span class="sign">(</span>RK<span class="sign">)</span><span class="sign">,</span><span class="keyword">intent</span><span class="sign">(</span>in<span class="sign">)</span>                 <span class="sign">:</span><span class="sign">:</span> val
<span class="line_number">1798 </span>    <span class="keyword">logical</span><span class="sign">(</span>LK<span class="sign">)</span><span class="sign">,</span><span class="keyword">intent</span><span class="sign">(</span>out<span class="sign">)</span>             <span class="sign">:</span><span class="sign">:</span> found
<span class="line_number">1799 </span>
<span class="line_number">1800 </span>    <span class="keyword">if</span> <span class="sign">(</span><span class="sign">.</span><span class="keyword">not</span><span class="sign">.</span> exception_thrown<span class="sign">)</span> <span class="keyword">call</span> <a href="#robo13">json_update</a><span class="sign">(</span>me<span class="sign">%</span>p<span class="sign">,</span>name<span class="sign">,</span>val<span class="sign">,</span>found<span class="sign">)</span>
<span class="line_number">1801 </span>
<span class="line_number">1802 </span>    <span class="keyword">end</span> <span class="keyword">subroutine</span> <strong>json_file_update_real</strong>
</pre>

<hr />
<a name="json5fmodule2fjson5ffile5fupdate5fstring"></a>
<a name="robo53"></a><h2>json_module/json_file_update_string [ Functions ]</h2>

<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo0">json_module</a> ] [ <a href="./robo_functions.html#robo_top_of_doc">Functions</a> ]</p>
<p class="item_name">NAME</p>
<p>    <strong>json_file_update_string</strong>
</p>
<p class="item_name">DESCRIPTION</p>
<p>    Given the path string, if the variable is present in the file,
    and is a scalar, then update its value.
    If it is not present, then create it and set its value.
</p>
<p class="item_name">SEE ALSO</p>
<p>    <a href="#robo73">json_update_string</a>
</p>
<p class="item_name">AUTHOR</p>
<p>    Jacob Williams : 1/10/2015
</p>
<p class="item_name">SOURCE</p>
<pre class="source"><span class="line_number">1824 </span>    <span class="keyword">subroutine</span> <strong>json_file_update_string</strong><span class="sign">(</span>me<span class="sign">,</span>name<span class="sign">,</span>val<span class="sign">,</span>found<span class="sign">)</span>
<span class="line_number">1825 </span>    <span class="keyword">implicit</span> <span class="keyword">none</span>
<span class="line_number">1826 </span>
<span class="line_number">1827 </span>    <span class="keyword">class</span><span class="sign">(</span><a href="#robo3">json_file</a><span class="sign">)</span><span class="sign">,</span><span class="keyword">intent</span><span class="sign">(</span>inout<span class="sign">)</span>      <span class="sign">:</span><span class="sign">:</span> me
<span class="line_number">1828 </span>    <span class="keyword">character</span><span class="sign">(</span><span class="keyword">kind</span><span class="sign">=</span>CK<span class="sign">,</span><span class="keyword">len</span><span class="sign">=</span><span class="sign">*</span><span class="sign">)</span><span class="sign">,</span><span class="keyword">intent</span><span class="sign">(</span>in<span class="sign">)</span> <span class="sign">:</span><span class="sign">:</span> name
<span class="line_number">1829 </span>    <span class="keyword">character</span><span class="sign">(</span><span class="keyword">kind</span><span class="sign">=</span>CK<span class="sign">,</span><span class="keyword">len</span><span class="sign">=</span><span class="sign">*</span><span class="sign">)</span><span class="sign">,</span><span class="keyword">intent</span><span class="sign">(</span>in<span class="sign">)</span> <span class="sign">:</span><span class="sign">:</span> val
<span class="line_number">1830 </span>    <span class="keyword">logical</span><span class="sign">(</span>LK<span class="sign">)</span><span class="sign">,</span><span class="keyword">intent</span><span class="sign">(</span>out<span class="sign">)</span>             <span class="sign">:</span><span class="sign">:</span> found
<span class="line_number">1831 </span>
<span class="line_number">1832 </span>    <span class="keyword">if</span> <span class="sign">(</span><span class="sign">.</span><span class="keyword">not</span><span class="sign">.</span> exception_thrown<span class="sign">)</span> <span class="keyword">call</span> <a href="#robo13">json_update</a><span class="sign">(</span>me<span class="sign">%</span>p<span class="sign">,</span>name<span class="sign">,</span>val<span class="sign">,</span>found<span class="sign">)</span>
<span class="line_number">1833 </span>
<span class="line_number">1834 </span>    <span class="keyword">end</span> <span class="keyword">subroutine</span> <strong>json_file_update_string</strong>
</pre>

<hr />
<a name="json5fmodule2fjson5ffile5fvariable5finfo"></a>
<a name="robo54"></a><h2>json_module/json_file_variable_info [ Functions ]</h2>

<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo0">json_module</a> ] [ <a href="./robo_functions.html#robo_top_of_doc">Functions</a> ]</p>
<p class="item_name">NAME</p>
<p>    <strong>json_file_variable_info</strong>
</p>
<p class="item_name">USAGE</p>
<p>    call me%info(path,found,<a href="#robo2">var_type</a>,n_children)
</p>
<p class="item_name">DESCRIPTION</p>
<p>    Returns information about a variable in a file.
</p>
<p class="item_name">AUTHOR</p>
<p>    Jacob Williams : 2/3/2014
</p>
<p class="item_name">SOURCE</p>
<pre class="source"><span class="line_number">924 </span>    <span class="keyword">subroutine</span> <strong>json_file_variable_info</strong><span class="sign">(</span>me<span class="sign">,</span>path<span class="sign">,</span>found<span class="sign">,</span><a href="#robo2">var_type</a><span class="sign">,</span>n_children<span class="sign">)</span>
<span class="line_number">925 </span>
<span class="line_number">926 </span>    <span class="keyword">implicit</span> <span class="keyword">none</span>
<span class="line_number">927 </span>
<span class="line_number">928 </span>    <span class="keyword">class</span><span class="sign">(</span><a href="#robo3">json_file</a><span class="sign">)</span><span class="sign">,</span><span class="keyword">intent</span><span class="sign">(</span>inout<span class="sign">)</span>      <span class="sign">:</span><span class="sign">:</span> me
<span class="line_number">929 </span>    <span class="keyword">character</span><span class="sign">(</span><span class="keyword">kind</span><span class="sign">=</span>CK<span class="sign">,</span><span class="keyword">len</span><span class="sign">=</span><span class="sign">*</span><span class="sign">)</span><span class="sign">,</span><span class="keyword">intent</span><span class="sign">(</span>in<span class="sign">)</span> <span class="sign">:</span><span class="sign">:</span> path
<span class="line_number">930 </span>    <span class="keyword">logical</span><span class="sign">(</span>LK<span class="sign">)</span><span class="sign">,</span><span class="keyword">intent</span><span class="sign">(</span>out<span class="sign">)</span>             <span class="sign">:</span><span class="sign">:</span> found
<span class="line_number">931 </span>    <span class="keyword">integer</span><span class="sign">(</span>IK<span class="sign">)</span><span class="sign">,</span><span class="keyword">intent</span><span class="sign">(</span>out<span class="sign">)</span>             <span class="sign">:</span><span class="sign">:</span> <a href="#robo2">var_type</a>
<span class="line_number">932 </span>    <span class="keyword">integer</span><span class="sign">(</span>IK<span class="sign">)</span><span class="sign">,</span><span class="keyword">intent</span><span class="sign">(</span>out<span class="sign">)</span>             <span class="sign">:</span><span class="sign">:</span> n_children
<span class="line_number">933 </span>
<span class="line_number">934 </span>    <span class="keyword">type</span><span class="sign">(</span><a href="#robo4">json_value</a><span class="sign">)</span><span class="sign">,</span><span class="keyword">pointer</span> <span class="sign">:</span><span class="sign">:</span> p
<span class="line_number">935 </span>
<span class="line_number">936 </span>    <span class="comment">!initialize:</span>
<span class="line_number">937 </span>    <span class="keyword">nullify</span><span class="sign">(</span>p<span class="sign">)</span>
<span class="line_number">938 </span>
<span class="line_number">939 </span>    <span class="comment">!get a pointer to the variable (if it is there):</span>
<span class="line_number">940 </span>    <span class="keyword">call</span> me<span class="sign">%</span>get<span class="sign">(</span>path<span class="sign">,</span>p<span class="sign">,</span>found<span class="sign">)</span>
<span class="line_number">941 </span>
<span class="line_number">942 </span>    <span class="keyword">if</span> <span class="sign">(</span>found<span class="sign">)</span> <span class="keyword">then</span>
<span class="line_number">943 </span>
<span class="line_number">944 </span>        <span class="comment">!get info:</span>
<span class="line_number">945 </span>        <span class="keyword">call</span> <a href="#robo65">json_info</a><span class="sign">(</span>p<span class="sign">,</span><a href="#robo2">var_type</a><span class="sign">,</span>n_children<span class="sign">)</span>
<span class="line_number">946 </span>
<span class="line_number">947 </span>    <span class="keyword">else</span>
<span class="line_number">948 </span>
<span class="line_number">949 </span>        <span class="comment">!set to dummy values:</span>
<span class="line_number">950 </span>        <a href="#robo2">var_type</a> <span class="sign">=</span> json_unknown
<span class="line_number">951 </span>        n_children <span class="sign">=</span> 0
<span class="line_number">952 </span>
<span class="line_number">953 </span>    <span class="keyword">end</span> <span class="keyword">if</span>
<span class="line_number">954 </span>
<span class="line_number">955 </span>    <span class="comment">!cleanup:</span>
<span class="line_number">956 </span>    <span class="keyword">nullify</span><span class="sign">(</span>p<span class="sign">)</span>
<span class="line_number">957 </span>
<span class="line_number">958 </span>    <span class="keyword">end</span> <span class="keyword">subroutine</span> <strong>json_file_variable_info</strong>
</pre>

<hr />
<a name="json5fmodule2fjson5fget5farray"></a>
<a name="robo55"></a><h2>json_module/json_get_array [ Functions ]</h2>

<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo0">json_module</a> ] [ <a href="./robo_functions.html#robo_top_of_doc">Functions</a> ]</p>
<p class="item_name">NAME</p>
<p>    <strong>json_get_array</strong>
</p>
<p class="item_name">DESCRIPTION</p>
<p>    This routine calls the user-supplied array_callback subroutine
    for each element in the array.
</p>
<p class="item_name">NOTES</p>
<p>    For integer, double, logical, and character arrays,
    a higher-level routine is provided (see <a href="#robo7">json_get</a>), so
    this routine does not have to be used for those cases.
</p>
<p class="item_name">SOURCE</p>
<pre class="source"><span class="line_number">3963 </span>    <span class="keyword">subroutine</span> <strong>json_get_array</strong><span class="sign">(</span>this<span class="sign">,</span> path<span class="sign">,</span> array_callback<span class="sign">,</span> found<span class="sign">)</span>
<span class="line_number">3964 </span>
<span class="line_number">3965 </span>    <span class="keyword">implicit</span> <span class="keyword">none</span>
<span class="line_number">3966 </span>
<span class="line_number">3967 </span>    <span class="keyword">type</span><span class="sign">(</span><a href="#robo4">json_value</a><span class="sign">)</span><span class="sign">,</span><span class="keyword">pointer</span><span class="sign">,</span><span class="keyword">intent</span><span class="sign">(</span>in<span class="sign">)</span>          <span class="sign">:</span><span class="sign">:</span> this
<span class="line_number">3968 </span>    <span class="keyword">character</span><span class="sign">(</span><span class="keyword">kind</span><span class="sign">=</span>CK<span class="sign">,</span><span class="keyword">len</span><span class="sign">=</span><span class="sign">*</span><span class="sign">)</span><span class="sign">,</span><span class="keyword">intent</span><span class="sign">(</span>in<span class="sign">)</span><span class="sign">,</span><span class="keyword">optional</span> <span class="sign">:</span><span class="sign">:</span> path
<span class="line_number">3969 </span>    <span class="keyword">procedure</span><span class="sign">(</span>array_callback_func<span class="sign">)</span>               <span class="sign">:</span><span class="sign">:</span> array_callback
<span class="line_number">3970 </span>    <span class="keyword">logical</span><span class="sign">(</span>LK<span class="sign">)</span><span class="sign">,</span><span class="keyword">intent</span><span class="sign">(</span>out<span class="sign">)</span><span class="sign">,</span><span class="keyword">optional</span>             <span class="sign">:</span><span class="sign">:</span> found
<span class="line_number">3971 </span>
<span class="line_number">3972 </span>    <span class="keyword">type</span><span class="sign">(</span><a href="#robo4">json_value</a><span class="sign">)</span><span class="sign">,</span><span class="keyword">pointer</span> <span class="sign">:</span><span class="sign">:</span> element<span class="sign">,</span>p
<span class="line_number">3973 </span>    <span class="keyword">integer</span><span class="sign">(</span>IK<span class="sign">)</span> <span class="sign">:</span><span class="sign">:</span> i<span class="sign">,</span> <span class="keyword">count</span>
<span class="line_number">3974 </span>
<span class="line_number">3975 </span>    <span class="keyword">if</span> <span class="sign">(</span><span class="sign">.</span><span class="keyword">not</span><span class="sign">.</span> exception_thrown<span class="sign">)</span> <span class="keyword">then</span>
<span class="line_number">3976 </span>
<span class="line_number">3977 </span>        <span class="keyword">nullify</span><span class="sign">(</span>p<span class="sign">)</span>
<span class="line_number">3978 </span>
<span class="line_number">3979 </span>        <span class="comment">! resolve the path to the value</span>
<span class="line_number">3980 </span>        <span class="keyword">if</span> <span class="sign">(</span><span class="keyword">present</span><span class="sign">(</span>path<span class="sign">)</span><span class="sign">)</span> <span class="keyword">then</span>
<span class="line_number">3981 </span>            <span class="keyword">call</span> <a href="#robo56">json_get_by_path</a><span class="sign">(</span>this<span class="sign">=</span>this<span class="sign">,</span> path<span class="sign">=</span>path<span class="sign">,</span> p<span class="sign">=</span>p<span class="sign">)</span>
<span class="line_number">3982 </span>        <span class="keyword">else</span>
<span class="line_number">3983 </span>            p <span class="sign">=</span><span class="sign">&gt;</span> this
<span class="line_number">3984 </span>        <span class="keyword">end</span> <span class="keyword">if</span>
<span class="line_number">3985 </span>
<span class="line_number">3986 </span>        <span class="keyword">if</span> <span class="sign">(</span><span class="sign">.</span><span class="keyword">not</span><span class="sign">.</span> <span class="keyword">associated</span><span class="sign">(</span>p<span class="sign">)</span><span class="sign">)</span> <span class="keyword">then</span>
<span class="line_number">3987 </span>
<span class="line_number">3988 </span>            <span class="keyword">call</span> throw_exception<span class="sign">(</span><span class="squote">'Error in <strong>json_get_array</strong>:'</span><span class="sign">/</span><span class="sign">/</span><span class="sign">&amp;</span>
<span class="line_number">3989 </span>                                 <span class="squote">' Unable to resolve path: '</span><span class="sign">/</span><span class="sign">/</span><span class="keyword">trim</span><span class="sign">(</span>path<span class="sign">)</span><span class="sign">)</span>
<span class="line_number">3990 </span>
<span class="line_number">3991 </span>        <span class="keyword">else</span>
<span class="line_number">3992 </span>
<span class="line_number">3993 </span>            <span class="keyword">select</span> <span class="keyword">case</span> <span class="sign">(</span>p<span class="sign">%</span><a href="#robo2">var_type</a><span class="sign">)</span>
<span class="line_number">3994 </span>            <span class="keyword">case</span> <span class="sign">(</span>json_array<span class="sign">)</span>
<span class="line_number">3995 </span>                <span class="keyword">count</span> <span class="sign">=</span> <a href="#robo24">json_count</a><span class="sign">(</span>p<span class="sign">)</span>
<span class="line_number">3996 </span>                element <span class="sign">=</span><span class="sign">&gt;</span> p<span class="sign">%</span>children
<span class="line_number">3997 </span>                <span class="keyword">do</span> i <span class="sign">=</span> 1<span class="sign">,</span> <span class="keyword">count</span> <span class="comment">! callback for each child</span>
<span class="line_number">3998 </span>                    <span class="keyword">call</span> array_callback<span class="sign">(</span>element<span class="sign">,</span> i<span class="sign">,</span> <span class="keyword">count</span><span class="sign">)</span>
<span class="line_number">3999 </span>                    element <span class="sign">=</span><span class="sign">&gt;</span> element<span class="sign">%</span>next
<span class="line_number">4000 </span>                <span class="keyword">end</span> <span class="keyword">do</span>
<span class="line_number">4001 </span>            <span class="keyword">case</span> default
<span class="line_number">4002 </span>                <span class="keyword">call</span> throw_exception<span class="sign">(</span><span class="squote">'Error in <strong>json_get_array</strong>:'</span><span class="sign">/</span><span class="sign">/</span><span class="sign">&amp;</span>
<span class="line_number">4003 </span>                                     <span class="squote">' Resolved value is not an array. '</span><span class="sign">/</span><span class="sign">/</span><span class="sign">&amp;</span>
<span class="line_number">4004 </span>                                     <span class="keyword">trim</span><span class="sign">(</span>path<span class="sign">)</span><span class="sign">)</span>
<span class="line_number">4005 </span>            <span class="keyword">end</span> <span class="keyword">select</span>
<span class="line_number">4006 </span>
<span class="line_number">4007 </span>            <span class="comment">!cleanup:</span>
<span class="line_number">4008 </span>            <span class="keyword">if</span> <span class="sign">(</span><span class="keyword">associated</span><span class="sign">(</span>p<span class="sign">)</span><span class="sign">)</span>       <span class="keyword">nullify</span><span class="sign">(</span>p<span class="sign">)</span>
<span class="line_number">4009 </span>            <span class="keyword">if</span> <span class="sign">(</span><span class="keyword">associated</span><span class="sign">(</span>element<span class="sign">)</span><span class="sign">)</span> <span class="keyword">nullify</span><span class="sign">(</span>element<span class="sign">)</span>
<span class="line_number">4010 </span>
<span class="line_number">4011 </span>        <span class="keyword">end</span> <span class="keyword">if</span>
<span class="line_number">4012 </span>
<span class="line_number">4013 </span>        <span class="keyword">if</span> <span class="sign">(</span>exception_thrown<span class="sign">)</span> <span class="keyword">then</span>
<span class="line_number">4014 </span>            <span class="keyword">if</span> <span class="sign">(</span><span class="keyword">present</span><span class="sign">(</span>found<span class="sign">)</span><span class="sign">)</span> <span class="keyword">then</span>
<span class="line_number">4015 </span>                found <span class="sign">=</span> <span class="sign">.</span>false<span class="sign">.</span>
<span class="line_number">4016 </span>                <span class="keyword">call</span> <a href="#robo23">json_clear_exceptions</a><span class="sign">(</span><span class="sign">)</span>
<span class="line_number">4017 </span>            <span class="keyword">end</span> <span class="keyword">if</span>
<span class="line_number">4018 </span>        <span class="keyword">else</span>
<span class="line_number">4019 </span>            <span class="keyword">if</span> <span class="sign">(</span><span class="keyword">present</span><span class="sign">(</span>found<span class="sign">)</span><span class="sign">)</span> found <span class="sign">=</span> <span class="sign">.</span>true<span class="sign">.</span>
<span class="line_number">4020 </span>        <span class="keyword">end</span> <span class="keyword">if</span>
<span class="line_number">4021 </span>
<span class="line_number">4022 </span>    <span class="keyword">else</span>
<span class="line_number">4023 </span>        <span class="keyword">if</span> <span class="sign">(</span><span class="keyword">present</span><span class="sign">(</span>found<span class="sign">)</span><span class="sign">)</span> found <span class="sign">=</span> <span class="sign">.</span>false<span class="sign">.</span>
<span class="line_number">4024 </span>    <span class="keyword">end</span> <span class="keyword">if</span>
<span class="line_number">4025 </span>
<span class="line_number">4026 </span>    <span class="keyword">end</span> <span class="keyword">subroutine</span> <strong>json_get_array</strong>
</pre>

<hr />
<a name="json5fmodule2fjson5fget5fby5fpath"></a>
<a name="robo56"></a><h2>json_module/json_get_by_path [ Functions ]</h2>

<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo0">json_module</a> ] [ <a href="./robo_functions.html#robo_top_of_doc">Functions</a> ]</p>
<p class="item_name">NAME</p>
<p>    <strong>json_get_by_path</strong>
</p>
<p class="item_name">USAGE</p>
<p>    call <a href="#robo7">json_get</a>(me,path,p,found)
</p>
<p class="item_name">DESCRIPTION</p>
<p>    Returns the <a href="#robo4">json_value</a> pointer given the path string.
</p>
<p class="item_name">EXAMPLE</p>
<p>    Consider the following example:
</p>
<pre>     type(<a href="#robo4">json_value</a>),pointer :: dat,p
     logical :: found
     ...
     call <a href="#robo7">json_get</a>(dat,'data(2).version',p,found)
</pre>
<p></p>
<p class="item_name">NOTES</p>
<p>    The following special characters are used to denote paths:
</p>
<pre>     $         - root
     @         - this
     .         - child object member
     [] or ()  - child array element
</pre>
<p>
    Thus, if any of these characters are present in the name key,
    this routine cannot be used to get the value.
    In that case, the <a href="#robo8">json_get_child</a> routines would need to be used.
</p>
<p class="item_name">SOURCE</p>
<pre class="source"><span class="line_number">3043 </span>    <span class="keyword">subroutine</span> <strong>json_get_by_path</strong><span class="sign">(</span>this<span class="sign">,</span> path<span class="sign">,</span> p<span class="sign">,</span> found<span class="sign">)</span>
<span class="line_number">3044 </span>
<span class="line_number">3045 </span>    <span class="keyword">implicit</span> <span class="keyword">none</span>
<span class="line_number">3046 </span>
<span class="line_number">3047 </span>    <span class="keyword">type</span><span class="sign">(</span><a href="#robo4">json_value</a><span class="sign">)</span><span class="sign">,</span><span class="keyword">pointer</span><span class="sign">,</span><span class="keyword">intent</span><span class="sign">(</span>in<span class="sign">)</span>  <span class="sign">:</span><span class="sign">:</span> this
<span class="line_number">3048 </span>    <span class="keyword">character</span><span class="sign">(</span><span class="keyword">kind</span><span class="sign">=</span>CK<span class="sign">,</span><span class="keyword">len</span><span class="sign">=</span><span class="sign">*</span><span class="sign">)</span><span class="sign">,</span><span class="keyword">intent</span><span class="sign">(</span>in<span class="sign">)</span>  <span class="sign">:</span><span class="sign">:</span> path
<span class="line_number">3049 </span>    <span class="keyword">type</span><span class="sign">(</span><a href="#robo4">json_value</a><span class="sign">)</span><span class="sign">,</span><span class="keyword">pointer</span><span class="sign">,</span><span class="keyword">intent</span><span class="sign">(</span>out<span class="sign">)</span> <span class="sign">:</span><span class="sign">:</span> p
<span class="line_number">3050 </span>    <span class="keyword">logical</span><span class="sign">(</span>LK<span class="sign">)</span><span class="sign">,</span><span class="keyword">intent</span><span class="sign">(</span>out<span class="sign">)</span><span class="sign">,</span><span class="keyword">optional</span>     <span class="sign">:</span><span class="sign">:</span> found
<span class="line_number">3051 </span>
<span class="line_number">3052 </span>    <span class="keyword">character</span><span class="sign">(</span><span class="keyword">kind</span><span class="sign">=</span>CK<span class="sign">,</span><span class="keyword">len</span><span class="sign">=</span>1<span class="sign">)</span><span class="sign">,</span><span class="keyword">parameter</span> <span class="sign">:</span><span class="sign">:</span> start_array_alt <span class="sign">=</span> <span class="squote">'('</span>
<span class="line_number">3053 </span>    <span class="keyword">character</span><span class="sign">(</span><span class="keyword">kind</span><span class="sign">=</span>CK<span class="sign">,</span><span class="keyword">len</span><span class="sign">=</span>1<span class="sign">)</span><span class="sign">,</span><span class="keyword">parameter</span> <span class="sign">:</span><span class="sign">:</span> end_array_alt   <span class="sign">=</span> <span class="squote">')'</span>
<span class="line_number">3054 </span>
<span class="line_number">3055 </span>    <span class="keyword">integer</span><span class="sign">(</span>IK<span class="sign">)</span> <span class="sign">:</span><span class="sign">:</span> i<span class="sign">,</span> length<span class="sign">,</span> child_i
<span class="line_number">3056 </span>    <span class="keyword">character</span><span class="sign">(</span><span class="keyword">kind</span><span class="sign">=</span>CK<span class="sign">,</span><span class="keyword">len</span><span class="sign">=</span>1<span class="sign">)</span> <span class="sign">:</span><span class="sign">:</span> c
<span class="line_number">3057 </span>    <span class="keyword">logical</span><span class="sign">(</span>LK<span class="sign">)</span> <span class="sign">:</span><span class="sign">:</span> array
<span class="line_number">3058 </span>    <span class="keyword">type</span><span class="sign">(</span><a href="#robo4">json_value</a><span class="sign">)</span><span class="sign">,</span><span class="keyword">pointer</span> <span class="sign">:</span><span class="sign">:</span> tmp
<span class="line_number">3059 </span>
<span class="line_number">3060 </span>    <span class="keyword">if</span> <span class="sign">(</span><span class="sign">.</span><span class="keyword">not</span><span class="sign">.</span> exception_thrown<span class="sign">)</span> <span class="keyword">then</span>
<span class="line_number">3061 </span>
<span class="line_number">3062 </span>        <span class="keyword">nullify</span><span class="sign">(</span>p<span class="sign">)</span>
<span class="line_number">3063 </span>
<span class="line_number">3064 </span>        <span class="comment">! default to assuming relative to this</span>
<span class="line_number">3065 </span>        p <span class="sign">=</span><span class="sign">&gt;</span> this
<span class="line_number">3066 </span>
<span class="line_number">3067 </span>        child_i <span class="sign">=</span> 1
<span class="line_number">3068 </span>
<span class="line_number">3069 </span>        array <span class="sign">=</span> <span class="sign">.</span>false<span class="sign">.</span>
<span class="line_number">3070 </span>
<span class="line_number">3071 </span>        length <span class="sign">=</span> <span class="keyword">len_trim</span><span class="sign">(</span>path<span class="sign">)</span>
<span class="line_number">3072 </span>
<span class="line_number">3073 </span>        <span class="keyword">do</span> i<span class="sign">=</span>1<span class="sign">,</span> length
<span class="line_number">3074 </span>
<span class="line_number">3075 </span>            c <span class="sign">=</span> path<span class="sign">(</span>i<span class="sign">:</span>i<span class="sign">)</span>
<span class="line_number">3076 </span>
<span class="line_number">3077 </span>            <span class="keyword">select</span> <span class="keyword">case</span> <span class="sign">(</span>c<span class="sign">)</span>
<span class="line_number">3078 </span>            <span class="keyword">case</span> <span class="sign">(</span><span class="squote">'$'</span><span class="sign">)</span>
<span class="line_number">3079 </span>
<span class="line_number">3080 </span>                <span class="comment">! root</span>
<span class="line_number">3081 </span>                <span class="keyword">do</span> <span class="keyword">while</span> <span class="sign">(</span><span class="keyword">associated</span> <span class="sign">(</span>p<span class="sign">%</span>parent<span class="sign">)</span><span class="sign">)</span>
<span class="line_number">3082 </span>                    p <span class="sign">=</span><span class="sign">&gt;</span> p<span class="sign">%</span>parent
<span class="line_number">3083 </span>                <span class="keyword">end</span> <span class="keyword">do</span>
<span class="line_number">3084 </span>                child_i <span class="sign">=</span> i <span class="sign">+</span> 1
<span class="line_number">3085 </span>
<span class="line_number">3086 </span>            <span class="keyword">case</span> <span class="sign">(</span><span class="squote">'@'</span><span class="sign">)</span>
<span class="line_number">3087 </span>
<span class="line_number">3088 </span>                <span class="comment">! this</span>
<span class="line_number">3089 </span>                p <span class="sign">=</span><span class="sign">&gt;</span> this
<span class="line_number">3090 </span>                child_i <span class="sign">=</span> i <span class="sign">+</span> 1
<span class="line_number">3091 </span>
<span class="line_number">3092 </span>            <span class="keyword">case</span> <span class="sign">(</span><span class="squote">'.'</span><span class="sign">)</span>
<span class="line_number">3093 </span>
<span class="line_number">3094 </span>                <span class="comment">! get child member from p</span>
<span class="line_number">3095 </span>                <span class="keyword">if</span> <span class="sign">(</span>child_i <span class="sign">&lt;</span> i<span class="sign">)</span> <span class="keyword">then</span>
<span class="line_number">3096 </span>                    <span class="keyword">nullify</span><span class="sign">(</span>tmp<span class="sign">)</span>
<span class="line_number">3097 </span>                    <span class="keyword">call</span> <a href="#robo8">json_get_child</a><span class="sign">(</span>p<span class="sign">,</span> path<span class="sign">(</span>child_i<span class="sign">:</span>i<span class="sign">-</span>1<span class="sign">)</span><span class="sign">,</span> tmp<span class="sign">)</span>
<span class="line_number">3098 </span>                    p <span class="sign">=</span><span class="sign">&gt;</span> tmp
<span class="line_number">3099 </span>                    <span class="keyword">nullify</span><span class="sign">(</span>tmp<span class="sign">)</span>
<span class="line_number">3100 </span>                <span class="keyword">else</span>
<span class="line_number">3101 </span>                    child_i <span class="sign">=</span> i <span class="sign">+</span> 1
<span class="line_number">3102 </span>                    <span class="keyword">cycle</span>
<span class="line_number">3103 </span>                <span class="keyword">end</span> <span class="keyword">if</span>
<span class="line_number">3104 </span>
<span class="line_number">3105 </span>                <span class="keyword">if</span> <span class="sign">(</span><span class="sign">.</span><span class="keyword">not</span><span class="sign">.</span> <span class="keyword">associated</span><span class="sign">(</span>p<span class="sign">)</span><span class="sign">)</span> <span class="keyword">then</span>
<span class="line_number">3106 </span>                    <span class="keyword">call</span> throw_exception<span class="sign">(</span><span class="squote">'Error in <strong>json_get_by_path</strong>:'</span><span class="sign">/</span><span class="sign">/</span><span class="sign">&amp;</span>
<span class="line_number">3107 </span>                                         <span class="squote">' Error getting child member.'</span><span class="sign">)</span>
<span class="line_number">3108 </span>                    <span class="keyword">exit</span>
<span class="line_number">3109 </span>                <span class="keyword">end</span> <span class="keyword">if</span>
<span class="line_number">3110 </span>
<span class="line_number">3111 </span>                child_i <span class="sign">=</span> i<span class="sign">+</span>1
<span class="line_number">3112 </span>
<span class="line_number">3113 </span>            <span class="keyword">case</span> <span class="sign">(</span>start_array<span class="sign">,</span>start_array_alt<span class="sign">)</span>
<span class="line_number">3114 </span>
<span class="line_number">3115 </span>                <span class="comment">!....Modified to allow for 'var[3]' style syntax</span>
<span class="line_number">3116 </span>                <span class="comment">!Note: jmozmoz/fson has a slightly different version of this...</span>
<span class="line_number">3117 </span>
<span class="line_number">3118 </span>                <span class="comment">! start looking for the array element index</span>
<span class="line_number">3119 </span>                array <span class="sign">=</span> <span class="sign">.</span>true<span class="sign">.</span>
<span class="line_number">3120 </span>
<span class="line_number">3121 </span>                <span class="comment">! get child member from p</span>
<span class="line_number">3122 </span>                <span class="keyword">if</span> <span class="sign">(</span>child_i <span class="sign">&lt;</span> i<span class="sign">)</span> <span class="keyword">then</span>
<span class="line_number">3123 </span>                    <span class="keyword">nullify</span><span class="sign">(</span>tmp<span class="sign">)</span>
<span class="line_number">3124 </span>                    <span class="keyword">call</span> <a href="#robo8">json_get_child</a><span class="sign">(</span>p<span class="sign">,</span> path<span class="sign">(</span>child_i<span class="sign">:</span>i<span class="sign">-</span>1<span class="sign">)</span><span class="sign">,</span> tmp<span class="sign">)</span>
<span class="line_number">3125 </span>                    p <span class="sign">=</span><span class="sign">&gt;</span> tmp
<span class="line_number">3126 </span>                    <span class="keyword">nullify</span><span class="sign">(</span>tmp<span class="sign">)</span>
<span class="line_number">3127 </span>                <span class="keyword">else</span>
<span class="line_number">3128 </span>                    child_i <span class="sign">=</span> i <span class="sign">+</span> 1
<span class="line_number">3129 </span>                    <span class="keyword">cycle</span>
<span class="line_number">3130 </span>                <span class="keyword">end</span> <span class="keyword">if</span>
<span class="line_number">3131 </span>                <span class="keyword">if</span> <span class="sign">(</span><span class="sign">.</span><span class="keyword">not</span><span class="sign">.</span> <span class="keyword">associated</span><span class="sign">(</span>p<span class="sign">)</span><span class="sign">)</span> <span class="keyword">then</span>
<span class="line_number">3132 </span>                    <span class="keyword">call</span> throw_exception<span class="sign">(</span><span class="squote">'Error in <strong>json_get_by_path</strong>:'</span><span class="sign">/</span><span class="sign">/</span><span class="sign">&amp;</span>
<span class="line_number">3133 </span>                                         <span class="squote">' Error getting array element'</span><span class="sign">)</span>
<span class="line_number">3134 </span>                    <span class="keyword">exit</span>
<span class="line_number">3135 </span>                <span class="keyword">end</span> <span class="keyword">if</span>
<span class="line_number">3136 </span>                child_i <span class="sign">=</span> i <span class="sign">+</span> 1
<span class="line_number">3137 </span>
<span class="line_number">3138 </span>            <span class="keyword">case</span> <span class="sign">(</span>end_array<span class="sign">,</span>end_array_alt<span class="sign">)</span>
<span class="line_number">3139 </span>
<span class="line_number">3140 </span>                <span class="keyword">if</span> <span class="sign">(</span><span class="sign">.</span><span class="keyword">not</span><span class="sign">.</span>array<span class="sign">)</span> <span class="keyword">then</span>
<span class="line_number">3141 </span>                    <span class="keyword">call</span> throw_exception<span class="sign">(</span><span class="squote">'Error in <strong>json_get_by_path</strong>: Unexpected ]'</span><span class="sign">)</span>
<span class="line_number">3142 </span>                    <span class="keyword">exit</span>
<span class="line_number">3143 </span>                <span class="keyword">end</span> <span class="keyword">if</span>
<span class="line_number">3144 </span>                array <span class="sign">=</span> <span class="sign">.</span>false<span class="sign">.</span>
<span class="line_number">3145 </span>                child_i <span class="sign">=</span> string_to_integer<span class="sign">(</span>path<span class="sign">(</span>child_i<span class="sign">:</span>i<span class="sign">-</span>1<span class="sign">)</span><span class="sign">)</span>
<span class="line_number">3146 </span>
<span class="line_number">3147 </span>                <span class="keyword">nullify</span><span class="sign">(</span>tmp<span class="sign">)</span>
<span class="line_number">3148 </span>                <span class="keyword">call</span> <a href="#robo8">json_get_child</a><span class="sign">(</span>p<span class="sign">,</span> child_i<span class="sign">,</span> tmp<span class="sign">)</span>
<span class="line_number">3149 </span>                p <span class="sign">=</span><span class="sign">&gt;</span> tmp
<span class="line_number">3150 </span>                <span class="keyword">nullify</span><span class="sign">(</span>tmp<span class="sign">)</span>
<span class="line_number">3151 </span>
<span class="line_number">3152 </span>                child_i<span class="sign">=</span> i <span class="sign">+</span> 1
<span class="line_number">3153 </span>
<span class="line_number">3154 </span>            <span class="keyword">end</span> <span class="keyword">select</span>
<span class="line_number">3155 </span>
<span class="line_number">3156 </span>        <span class="keyword">end</span> <span class="keyword">do</span>
<span class="line_number">3157 </span>
<span class="line_number">3158 </span>        <span class="keyword">if</span> <span class="sign">(</span>exception_thrown<span class="sign">)</span> <span class="keyword">then</span>
<span class="line_number">3159 </span>
<span class="line_number">3160 </span>            <span class="keyword">if</span> <span class="sign">(</span><span class="keyword">present</span><span class="sign">(</span>found<span class="sign">)</span><span class="sign">)</span> <span class="keyword">then</span>
<span class="line_number">3161 </span>                found <span class="sign">=</span> <span class="sign">.</span>false<span class="sign">.</span>
<span class="line_number">3162 </span>                <span class="keyword">call</span> <a href="#robo23">json_clear_exceptions</a><span class="sign">(</span><span class="sign">)</span>
<span class="line_number">3163 </span>            <span class="keyword">end</span> <span class="keyword">if</span>
<span class="line_number">3164 </span>
<span class="line_number">3165 </span>        <span class="keyword">else</span>
<span class="line_number">3166 </span>
<span class="line_number">3167 </span>            <span class="comment">! grab the last child if present in the path</span>
<span class="line_number">3168 </span>            <span class="keyword">if</span> <span class="sign">(</span>child_i <span class="sign">&lt;</span><span class="sign">=</span> length<span class="sign">)</span> <span class="keyword">then</span>
<span class="line_number">3169 </span>                <span class="keyword">nullify</span><span class="sign">(</span>tmp<span class="sign">)</span>
<span class="line_number">3170 </span>                <span class="keyword">call</span> <a href="#robo8">json_get_child</a><span class="sign">(</span>p<span class="sign">,</span> path<span class="sign">(</span>child_i<span class="sign">:</span>i<span class="sign">-</span>1<span class="sign">)</span><span class="sign">,</span> tmp<span class="sign">)</span>
<span class="line_number">3171 </span>                p <span class="sign">=</span><span class="sign">&gt;</span> tmp
<span class="line_number">3172 </span>                <span class="keyword">nullify</span><span class="sign">(</span>tmp<span class="sign">)</span>
<span class="line_number">3173 </span>            <span class="keyword">end</span> <span class="keyword">if</span>
<span class="line_number">3174 </span>            <span class="keyword">if</span> <span class="sign">(</span><span class="keyword">associated</span><span class="sign">(</span>p<span class="sign">)</span><span class="sign">)</span> <span class="keyword">then</span>
<span class="line_number">3175 </span>                <span class="keyword">if</span> <span class="sign">(</span><span class="keyword">present</span><span class="sign">(</span>found<span class="sign">)</span><span class="sign">)</span> found <span class="sign">=</span> <span class="sign">.</span>true<span class="sign">.</span>    <span class="comment">!everything seems to be ok</span>
<span class="line_number">3176 </span>            <span class="keyword">else</span>
<span class="line_number">3177 </span>                <span class="keyword">call</span> throw_exception<span class="sign">(</span><span class="squote">'Error in <strong>json_get_by_path</strong>:'</span><span class="sign">/</span><span class="sign">/</span><span class="sign">&amp;</span>
<span class="line_number">3178 </span>                                     <span class="squote">' variable not found: '</span><span class="sign">/</span><span class="sign">/</span><span class="keyword">trim</span><span class="sign">(</span>path<span class="sign">)</span><span class="sign">)</span>
<span class="line_number">3179 </span>                <span class="keyword">if</span> <span class="sign">(</span><span class="keyword">present</span><span class="sign">(</span>found<span class="sign">)</span><span class="sign">)</span> <span class="keyword">then</span>
<span class="line_number">3180 </span>                    found <span class="sign">=</span> <span class="sign">.</span>false<span class="sign">.</span>
<span class="line_number">3181 </span>                    <span class="keyword">call</span> <a href="#robo23">json_clear_exceptions</a><span class="sign">(</span><span class="sign">)</span>
<span class="line_number">3182 </span>                <span class="keyword">end</span> <span class="keyword">if</span>
<span class="line_number">3183 </span>            <span class="keyword">end</span> <span class="keyword">if</span>
<span class="line_number">3184 </span>
<span class="line_number">3185 </span>        <span class="keyword">end</span> <span class="keyword">if</span>
<span class="line_number">3186 </span>
<span class="line_number">3187 </span>    <span class="keyword">else</span>
<span class="line_number">3188 </span>        <span class="keyword">if</span> <span class="sign">(</span><span class="keyword">present</span><span class="sign">(</span>found<span class="sign">)</span><span class="sign">)</span> found <span class="sign">=</span> <span class="sign">.</span>false<span class="sign">.</span>
<span class="line_number">3189 </span>    <span class="keyword">end</span> <span class="keyword">if</span>
<span class="line_number">3190 </span>
<span class="line_number">3191 </span>    <span class="keyword">end</span> <span class="keyword">subroutine</span> <strong>json_get_by_path</strong>
</pre>

<hr />
<a name="json5fmodule2fjson5fget5fdouble"></a>
<a name="robo57"></a><h2>json_module/json_get_double [ Functions ]</h2>

<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo0">json_module</a> ] [ <a href="./robo_functions.html#robo_top_of_doc">Functions</a> ]</p>
<p class="item_name">NAME</p>
<p>    <strong>json_get_double</strong>
</p>
<p class="item_name">DESCRIPTION</p>
<p>    Get a double value from a <a href="#robo4">json_value</a>.
</p>
<p class="item_name">SOURCE</p>
<pre class="source"><span class="line_number">3418 </span>    <span class="keyword">subroutine</span> <strong>json_get_double</strong><span class="sign">(</span>this<span class="sign">,</span> path<span class="sign">,</span> <span class="keyword">value</span><span class="sign">,</span> found<span class="sign">)</span>
<span class="line_number">3419 </span>
<span class="line_number">3420 </span>    <span class="keyword">implicit</span> <span class="keyword">none</span>
<span class="line_number">3421 </span>
<span class="line_number">3422 </span>    <span class="keyword">type</span><span class="sign">(</span><a href="#robo4">json_value</a><span class="sign">)</span><span class="sign">,</span><span class="keyword">pointer</span>           <span class="sign">:</span><span class="sign">:</span> this
<span class="line_number">3423 </span>    <span class="keyword">character</span><span class="sign">(</span><span class="keyword">kind</span><span class="sign">=</span>CK<span class="sign">,</span><span class="keyword">len</span><span class="sign">=</span><span class="sign">*</span><span class="sign">)</span><span class="sign">,</span> <span class="keyword">optional</span> <span class="sign">:</span><span class="sign">:</span> path
<span class="line_number">3424 </span>    <span class="keyword">real</span><span class="sign">(</span>RK<span class="sign">)</span><span class="sign">,</span><span class="keyword">intent</span><span class="sign">(</span>out<span class="sign">)</span>               <span class="sign">:</span><span class="sign">:</span> <span class="keyword">value</span>
<span class="line_number">3425 </span>    <span class="keyword">logical</span><span class="sign">(</span>LK<span class="sign">)</span><span class="sign">,</span><span class="keyword">intent</span><span class="sign">(</span>out<span class="sign">)</span><span class="sign">,</span><span class="keyword">optional</span>   <span class="sign">:</span><span class="sign">:</span> found
<span class="line_number">3426 </span>
<span class="line_number">3427 </span>    <span class="keyword">type</span><span class="sign">(</span><a href="#robo4">json_value</a><span class="sign">)</span><span class="sign">,</span><span class="keyword">pointer</span> <span class="sign">:</span><span class="sign">:</span> p
<span class="line_number">3428 </span>
<span class="line_number">3429 </span>    <span class="keyword">if</span> <span class="sign">(</span><span class="sign">.</span><span class="keyword">not</span><span class="sign">.</span> exception_thrown<span class="sign">)</span> <span class="keyword">then</span>
<span class="line_number">3430 </span>
<span class="line_number">3431 </span>        <span class="keyword">nullify</span><span class="sign">(</span>p<span class="sign">)</span>
<span class="line_number">3432 </span>
<span class="line_number">3433 </span>        <span class="keyword">if</span> <span class="sign">(</span><span class="keyword">present</span><span class="sign">(</span>path<span class="sign">)</span><span class="sign">)</span> <span class="keyword">then</span>
<span class="line_number">3434 </span>            <span class="keyword">call</span> <a href="#robo56">json_get_by_path</a><span class="sign">(</span>this<span class="sign">=</span>this<span class="sign">,</span> path<span class="sign">=</span>path<span class="sign">,</span> p<span class="sign">=</span>p<span class="sign">)</span>
<span class="line_number">3435 </span>        <span class="keyword">else</span>
<span class="line_number">3436 </span>            p <span class="sign">=</span><span class="sign">&gt;</span> this
<span class="line_number">3437 </span>        <span class="keyword">end</span> <span class="keyword">if</span>
<span class="line_number">3438 </span>
<span class="line_number">3439 </span>        <span class="keyword">if</span> <span class="sign">(</span><span class="sign">.</span><span class="keyword">not</span><span class="sign">.</span> <span class="keyword">associated</span><span class="sign">(</span>p<span class="sign">)</span><span class="sign">)</span> <span class="keyword">then</span>
<span class="line_number">3440 </span>
<span class="line_number">3441 </span>            <span class="keyword">call</span> throw_exception<span class="sign">(</span><span class="squote">'Error in <strong>json_get_double</strong>:'</span><span class="sign">/</span><span class="sign">/</span><span class="sign">&amp;</span>
<span class="line_number">3442 </span>                                 <span class="squote">' Unable to resolve path: '</span><span class="sign">/</span><span class="sign">/</span><span class="keyword">trim</span><span class="sign">(</span>path<span class="sign">)</span><span class="sign">)</span>
<span class="line_number">3443 </span>
<span class="line_number">3444 </span>        <span class="keyword">else</span>
<span class="line_number">3445 </span>
<span class="line_number">3446 </span>            <span class="keyword">select</span> <span class="keyword">case</span> <span class="sign">(</span>p<span class="sign">%</span><a href="#robo2">var_type</a><span class="sign">)</span>
<span class="line_number">3447 </span>            <span class="keyword">case</span> <span class="sign">(</span>json_integer<span class="sign">)</span>
<span class="line_number">3448 </span>                <span class="keyword">value</span> <span class="sign">=</span> p<span class="sign">%</span>int_value
<span class="line_number">3449 </span>            <span class="keyword">case</span> <span class="sign">(</span>json_double<span class="sign">)</span>
<span class="line_number">3450 </span>                <span class="keyword">value</span> <span class="sign">=</span> p<span class="sign">%</span>dbl_value
<span class="line_number">3451 </span>            <span class="keyword">case</span> <span class="sign">(</span>json_logical<span class="sign">)</span>
<span class="line_number">3452 </span>                <span class="keyword">if</span> <span class="sign">(</span>p<span class="sign">%</span>log_value<span class="sign">)</span> <span class="keyword">then</span>
<span class="line_number">3453 </span>                    <span class="keyword">value</span> <span class="sign">=</span> 1<span class="sign">.</span>0_RK
<span class="line_number">3454 </span>                <span class="keyword">else</span>
<span class="line_number">3455 </span>                    <span class="keyword">value</span> <span class="sign">=</span> 0<span class="sign">.</span>0_RK
<span class="line_number">3456 </span>                <span class="keyword">end</span> <span class="keyword">if</span>
<span class="line_number">3457 </span>            <span class="keyword">case</span> default
<span class="line_number">3458 </span>                <span class="keyword">call</span> throw_exception<span class="sign">(</span><span class="squote">'Error in <strong>json_get_double</strong>:'</span><span class="sign">/</span><span class="sign">/</span><span class="sign">&amp;</span>
<span class="line_number">3459 </span>                                     <span class="squote">' Unable to resolve value to double: '</span><span class="sign">/</span><span class="sign">/</span><span class="sign">&amp;</span>
<span class="line_number">3460 </span>                                     <span class="keyword">trim</span><span class="sign">(</span>path<span class="sign">)</span><span class="sign">)</span>
<span class="line_number">3461 </span>            <span class="keyword">end</span> <span class="keyword">select</span>
<span class="line_number">3462 </span>
<span class="line_number">3463 </span>            <span class="keyword">nullify</span><span class="sign">(</span>p<span class="sign">)</span>
<span class="line_number">3464 </span>
<span class="line_number">3465 </span>        <span class="keyword">end</span> <span class="keyword">if</span>
<span class="line_number">3466 </span>
<span class="line_number">3467 </span>        <span class="keyword">if</span> <span class="sign">(</span>exception_thrown<span class="sign">)</span> <span class="keyword">then</span>
<span class="line_number">3468 </span>            <span class="keyword">if</span> <span class="sign">(</span><span class="keyword">present</span><span class="sign">(</span>found<span class="sign">)</span><span class="sign">)</span> <span class="keyword">then</span>
<span class="line_number">3469 </span>                found <span class="sign">=</span> <span class="sign">.</span>false<span class="sign">.</span>
<span class="line_number">3470 </span>                <span class="keyword">call</span> <a href="#robo23">json_clear_exceptions</a><span class="sign">(</span><span class="sign">)</span>
<span class="line_number">3471 </span>            <span class="keyword">end</span> <span class="keyword">if</span>
<span class="line_number">3472 </span>        <span class="keyword">else</span>
<span class="line_number">3473 </span>            <span class="keyword">if</span> <span class="sign">(</span><span class="keyword">present</span><span class="sign">(</span>found<span class="sign">)</span><span class="sign">)</span> found <span class="sign">=</span> <span class="sign">.</span>true<span class="sign">.</span>
<span class="line_number">3474 </span>        <span class="keyword">end</span> <span class="keyword">if</span>
<span class="line_number">3475 </span>
<span class="line_number">3476 </span>    <span class="keyword">else</span>
<span class="line_number">3477 </span>
<span class="line_number">3478 </span>        <span class="keyword">value</span> <span class="sign">=</span> 0<span class="sign">.</span>0_RK
<span class="line_number">3479 </span>        <span class="keyword">if</span> <span class="sign">(</span><span class="keyword">present</span><span class="sign">(</span>found<span class="sign">)</span><span class="sign">)</span> found <span class="sign">=</span> <span class="sign">.</span>false<span class="sign">.</span>
<span class="line_number">3480 </span>
<span class="line_number">3481 </span>    <span class="keyword">end</span> <span class="keyword">if</span>
<span class="line_number">3482 </span>
<span class="line_number">3483 </span>    <span class="keyword">end</span> <span class="keyword">subroutine</span> <strong>json_get_double</strong>
</pre>

<hr />
<a name="json5fmodule2fjson5fget5fdouble5fvec"></a>
<a name="robo58"></a><h2>json_module/json_get_double_vec [ Functions ]</h2>

<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo0">json_module</a> ] [ <a href="./robo_functions.html#robo_top_of_doc">Functions</a> ]</p>
<p class="item_name">NAME</p>
<p>    <strong>json_get_double_vec</strong>
</p>
<p class="item_name">DESCRIPTION</p>
<p>    Get a double vector from a JSON value.
</p>
<p class="item_name">AUTHOR</p>
<p>    Jacob Williams : 5/14/2014
</p>
<p class="item_name">SOURCE</p>
<pre class="source"><span class="line_number">3500 </span>    <span class="keyword">subroutine</span> <strong>json_get_double_vec</strong><span class="sign">(</span>me<span class="sign">,</span> path<span class="sign">,</span> vec<span class="sign">,</span> found<span class="sign">)</span>
<span class="line_number">3501 </span>
<span class="line_number">3502 </span>    <span class="keyword">implicit</span> <span class="keyword">none</span>
<span class="line_number">3503 </span>
<span class="line_number">3504 </span>    <span class="keyword">type</span><span class="sign">(</span><a href="#robo4">json_value</a><span class="sign">)</span><span class="sign">,</span><span class="keyword">pointer</span>                      <span class="sign">:</span><span class="sign">:</span> me
<span class="line_number">3505 </span>    <span class="keyword">character</span><span class="sign">(</span><span class="keyword">kind</span><span class="sign">=</span>CK<span class="sign">,</span><span class="keyword">len</span><span class="sign">=</span><span class="sign">*</span><span class="sign">)</span><span class="sign">,</span><span class="keyword">intent</span><span class="sign">(</span>in<span class="sign">)</span>           <span class="sign">:</span><span class="sign">:</span> path
<span class="line_number">3506 </span>    <span class="keyword">real</span><span class="sign">(</span>RK<span class="sign">)</span><span class="sign">,</span><span class="keyword">dimension</span><span class="sign">(</span><span class="sign">:</span><span class="sign">)</span><span class="sign">,</span><span class="keyword">allocatable</span><span class="sign">,</span><span class="keyword">intent</span><span class="sign">(</span>out<span class="sign">)</span> <span class="sign">:</span><span class="sign">:</span> vec
<span class="line_number">3507 </span>    <span class="keyword">logical</span><span class="sign">(</span>LK<span class="sign">)</span><span class="sign">,</span><span class="keyword">intent</span><span class="sign">(</span>out<span class="sign">)</span><span class="sign">,</span><span class="keyword">optional</span>              <span class="sign">:</span><span class="sign">:</span> found
<span class="line_number">3508 </span>
<span class="line_number">3509 </span>    <span class="keyword">logical</span><span class="sign">(</span>LK<span class="sign">)</span> <span class="sign">:</span><span class="sign">:</span> initialized
<span class="line_number">3510 </span>
<span class="line_number">3511 </span>    initialized <span class="sign">=</span> <span class="sign">.</span>false<span class="sign">.</span>
<span class="line_number">3512 </span>
<span class="line_number">3513 </span>    <span class="keyword">if</span> <span class="sign">(</span><span class="keyword">allocated</span><span class="sign">(</span>vec<span class="sign">)</span><span class="sign">)</span> <span class="keyword">deallocate</span><span class="sign">(</span>vec<span class="sign">)</span>
<span class="line_number">3514 </span>
<span class="line_number">3515 </span>    <span class="comment">!the callback function is called for each element of the array:</span>
<span class="line_number">3516 </span>    <span class="keyword">call</span> <a href="#robo7">json_get</a><span class="sign">(</span>me<span class="sign">,</span> path<span class="sign">=</span>path<span class="sign">,</span> array_callback<span class="sign">=</span>get_double_from_array<span class="sign">,</span> found<span class="sign">=</span>found<span class="sign">)</span>
<span class="line_number">3517 </span>
<span class="line_number">3518 </span>    <span class="keyword">contains</span>
<span class="line_number">3519 </span>
<span class="line_number">3520 </span>        <span class="comment">! callback function for double</span>
<span class="line_number">3521 </span>        <span class="keyword">subroutine</span> get_double_from_array<span class="sign">(</span>element<span class="sign">,</span> i<span class="sign">,</span> <span class="keyword">count</span><span class="sign">)</span>
<span class="line_number">3522 </span>        <span class="keyword">implicit</span> <span class="keyword">none</span>
<span class="line_number">3523 </span>
<span class="line_number">3524 </span>        <span class="keyword">type</span><span class="sign">(</span><a href="#robo4">json_value</a><span class="sign">)</span><span class="sign">,</span><span class="keyword">pointer</span><span class="sign">,</span><span class="keyword">intent</span><span class="sign">(</span>in<span class="sign">)</span> <span class="sign">:</span><span class="sign">:</span> element
<span class="line_number">3525 </span>        <span class="keyword">integer</span><span class="sign">(</span>IK<span class="sign">)</span><span class="sign">,</span><span class="keyword">intent</span><span class="sign">(</span>in<span class="sign">)</span>              <span class="sign">:</span><span class="sign">:</span> i        <span class="comment">!index</span>
<span class="line_number">3526 </span>        <span class="keyword">integer</span><span class="sign">(</span>IK<span class="sign">)</span><span class="sign">,</span><span class="keyword">intent</span><span class="sign">(</span>in<span class="sign">)</span>              <span class="sign">:</span><span class="sign">:</span> <span class="keyword">count</span>    <span class="comment">!size of array</span>
<span class="line_number">3527 </span>
<span class="line_number">3528 </span>        <span class="comment">!size the output array:</span>
<span class="line_number">3529 </span>        <span class="keyword">if</span> <span class="sign">(</span><span class="sign">.</span><span class="keyword">not</span><span class="sign">.</span> initialized<span class="sign">)</span> <span class="keyword">then</span>
<span class="line_number">3530 </span>            <span class="keyword">allocate</span><span class="sign">(</span>vec<span class="sign">(</span><span class="keyword">count</span><span class="sign">)</span><span class="sign">)</span>
<span class="line_number">3531 </span>            initialized <span class="sign">=</span> <span class="sign">.</span>true<span class="sign">.</span>
<span class="line_number">3532 </span>        <span class="keyword">end</span> <span class="keyword">if</span>
<span class="line_number">3533 </span>
<span class="line_number">3534 </span>        <span class="comment">!populate the elements:</span>
<span class="line_number">3535 </span>        <span class="keyword">call</span> <a href="#robo7">json_get</a><span class="sign">(</span>element<span class="sign">,</span> <span class="keyword">value</span><span class="sign">=</span>vec<span class="sign">(</span>i<span class="sign">)</span><span class="sign">)</span>
<span class="line_number">3536 </span>
<span class="line_number">3537 </span>        <span class="keyword">end</span> <span class="keyword">subroutine</span> get_double_from_array
<span class="line_number">3538 </span>
<span class="line_number">3539 </span>    <span class="keyword">end</span> <span class="keyword">subroutine</span> <strong>json_get_double_vec</strong>
</pre>

<hr />
<a name="json5fmodule2fjson5fget5finteger"></a>
<a name="robo59"></a><h2>json_module/json_get_integer [ Functions ]</h2>

<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo0">json_module</a> ] [ <a href="./robo_functions.html#robo_top_of_doc">Functions</a> ]</p>
<p class="item_name">NAME</p>
<p>    <strong>json_get_integer</strong>
</p>
<p class="item_name">DESCRIPTION</p>
<p>    Get an integer value from a <a href="#robo4">json_value</a>.
</p>
<p class="item_name">SOURCE</p>
<pre class="source"><span class="line_number">3284 </span>    <span class="keyword">subroutine</span> <strong>json_get_integer</strong><span class="sign">(</span>this<span class="sign">,</span> path<span class="sign">,</span> <span class="keyword">value</span><span class="sign">,</span> found<span class="sign">)</span>
<span class="line_number">3285 </span>
<span class="line_number">3286 </span>    <span class="keyword">implicit</span> <span class="keyword">none</span>
<span class="line_number">3287 </span>
<span class="line_number">3288 </span>    <span class="keyword">type</span><span class="sign">(</span><a href="#robo4">json_value</a><span class="sign">)</span><span class="sign">,</span><span class="keyword">pointer</span><span class="sign">,</span><span class="keyword">intent</span><span class="sign">(</span>in<span class="sign">)</span> <span class="sign">:</span><span class="sign">:</span> this
<span class="line_number">3289 </span>    <span class="keyword">character</span><span class="sign">(</span><span class="keyword">kind</span><span class="sign">=</span>CK<span class="sign">,</span><span class="keyword">len</span><span class="sign">=</span><span class="sign">*</span><span class="sign">)</span><span class="sign">,</span><span class="keyword">optional</span>   <span class="sign">:</span><span class="sign">:</span> path
<span class="line_number">3290 </span>    <span class="keyword">integer</span><span class="sign">(</span>IK<span class="sign">)</span><span class="sign">,</span><span class="keyword">intent</span><span class="sign">(</span>out<span class="sign">)</span>             <span class="sign">:</span><span class="sign">:</span> <span class="keyword">value</span>
<span class="line_number">3291 </span>    <span class="keyword">logical</span><span class="sign">(</span>LK<span class="sign">)</span><span class="sign">,</span><span class="keyword">intent</span><span class="sign">(</span>out<span class="sign">)</span><span class="sign">,</span><span class="keyword">optional</span>    <span class="sign">:</span><span class="sign">:</span> found
<span class="line_number">3292 </span>
<span class="line_number">3293 </span>    <span class="keyword">type</span><span class="sign">(</span><a href="#robo4">json_value</a><span class="sign">)</span><span class="sign">,</span><span class="keyword">pointer</span> <span class="sign">:</span><span class="sign">:</span> p
<span class="line_number">3294 </span>
<span class="line_number">3295 </span>    <span class="keyword">if</span> <span class="sign">(</span><span class="sign">.</span><span class="keyword">not</span><span class="sign">.</span> exception_thrown<span class="sign">)</span> <span class="keyword">then</span>
<span class="line_number">3296 </span>
<span class="line_number">3297 </span>        <span class="keyword">nullify</span><span class="sign">(</span>p<span class="sign">)</span>
<span class="line_number">3298 </span>        <span class="keyword">if</span> <span class="sign">(</span><span class="keyword">present</span><span class="sign">(</span>path<span class="sign">)</span><span class="sign">)</span> <span class="keyword">then</span>
<span class="line_number">3299 </span>            <span class="keyword">call</span> <a href="#robo56">json_get_by_path</a><span class="sign">(</span>this<span class="sign">=</span>this<span class="sign">,</span> path<span class="sign">=</span>path<span class="sign">,</span> p<span class="sign">=</span>p<span class="sign">)</span>
<span class="line_number">3300 </span>        <span class="keyword">else</span>
<span class="line_number">3301 </span>            p <span class="sign">=</span><span class="sign">&gt;</span> this
<span class="line_number">3302 </span>        <span class="keyword">end</span> <span class="keyword">if</span>
<span class="line_number">3303 </span>
<span class="line_number">3304 </span>        <span class="keyword">if</span> <span class="sign">(</span><span class="sign">.</span><span class="keyword">not</span><span class="sign">.</span> <span class="keyword">associated</span><span class="sign">(</span>p<span class="sign">)</span><span class="sign">)</span> <span class="keyword">then</span>
<span class="line_number">3305 </span>
<span class="line_number">3306 </span>            <span class="keyword">call</span> throw_exception<span class="sign">(</span><span class="squote">'Error in <strong>json_get_integer</strong>:'</span><span class="sign">/</span><span class="sign">/</span><span class="sign">&amp;</span>
<span class="line_number">3307 </span>                                 <span class="squote">' Unable to resolve path: '</span><span class="sign">/</span><span class="sign">/</span> <span class="keyword">trim</span><span class="sign">(</span>path<span class="sign">)</span><span class="sign">)</span>
<span class="line_number">3308 </span>
<span class="line_number">3309 </span>        <span class="keyword">else</span>
<span class="line_number">3310 </span>
<span class="line_number">3311 </span>            <span class="keyword">select</span> <span class="keyword">case</span><span class="sign">(</span>p<span class="sign">%</span><a href="#robo2">var_type</a><span class="sign">)</span>
<span class="line_number">3312 </span>            <span class="keyword">case</span> <span class="sign">(</span>json_integer<span class="sign">)</span>
<span class="line_number">3313 </span>                <span class="keyword">value</span> <span class="sign">=</span> p<span class="sign">%</span>int_value
<span class="line_number">3314 </span>            <span class="keyword">case</span> <span class="sign">(</span>json_double<span class="sign">)</span>
<span class="line_number">3315 </span>                <span class="keyword">value</span> <span class="sign">=</span> <span class="keyword">int</span><span class="sign">(</span>p<span class="sign">%</span>dbl_value<span class="sign">)</span>
<span class="line_number">3316 </span>            <span class="keyword">case</span> <span class="sign">(</span>json_logical<span class="sign">)</span>
<span class="line_number">3317 </span>                <span class="keyword">if</span> <span class="sign">(</span>p<span class="sign">%</span>log_value<span class="sign">)</span> <span class="keyword">then</span>
<span class="line_number">3318 </span>                    <span class="keyword">value</span> <span class="sign">=</span> 1
<span class="line_number">3319 </span>                <span class="keyword">else</span>
<span class="line_number">3320 </span>                    <span class="keyword">value</span> <span class="sign">=</span> 0
<span class="line_number">3321 </span>                <span class="keyword">end</span> <span class="keyword">if</span>
<span class="line_number">3322 </span>            <span class="keyword">case</span> default
<span class="line_number">3323 </span>                <span class="keyword">call</span> throw_exception<span class="sign">(</span><span class="squote">'Error in get_integer:'</span><span class="sign">/</span><span class="sign">/</span><span class="sign">&amp;</span>
<span class="line_number">3324 </span>                                     <span class="squote">' Unable to resolve value to integer: '</span><span class="sign">/</span><span class="sign">/</span><span class="sign">&amp;</span>
<span class="line_number">3325 </span>                                     <span class="keyword">trim</span><span class="sign">(</span>path<span class="sign">)</span><span class="sign">)</span>
<span class="line_number">3326 </span>            <span class="keyword">end</span> <span class="keyword">select</span>
<span class="line_number">3327 </span>
<span class="line_number">3328 </span>            <span class="keyword">nullify</span><span class="sign">(</span>p<span class="sign">)</span>
<span class="line_number">3329 </span>
<span class="line_number">3330 </span>        <span class="keyword">end</span> <span class="keyword">if</span>
<span class="line_number">3331 </span>
<span class="line_number">3332 </span>        <span class="keyword">if</span> <span class="sign">(</span>exception_thrown<span class="sign">)</span> <span class="keyword">then</span>
<span class="line_number">3333 </span>            <span class="keyword">if</span> <span class="sign">(</span><span class="keyword">present</span><span class="sign">(</span>found<span class="sign">)</span><span class="sign">)</span> <span class="keyword">then</span>
<span class="line_number">3334 </span>                found <span class="sign">=</span> <span class="sign">.</span>false<span class="sign">.</span>
<span class="line_number">3335 </span>                <span class="keyword">call</span> <a href="#robo23">json_clear_exceptions</a><span class="sign">(</span><span class="sign">)</span>
<span class="line_number">3336 </span>            <span class="keyword">end</span> <span class="keyword">if</span>
<span class="line_number">3337 </span>        <span class="keyword">else</span>
<span class="line_number">3338 </span>            <span class="keyword">if</span> <span class="sign">(</span><span class="keyword">present</span><span class="sign">(</span>found<span class="sign">)</span><span class="sign">)</span> found <span class="sign">=</span> <span class="sign">.</span>true<span class="sign">.</span>
<span class="line_number">3339 </span>        <span class="keyword">end</span> <span class="keyword">if</span>
<span class="line_number">3340 </span>
<span class="line_number">3341 </span>    <span class="keyword">else</span>
<span class="line_number">3342 </span>
<span class="line_number">3343 </span>        <span class="keyword">value</span> <span class="sign">=</span> 0
<span class="line_number">3344 </span>        <span class="keyword">if</span> <span class="sign">(</span><span class="keyword">present</span><span class="sign">(</span>found<span class="sign">)</span><span class="sign">)</span> found <span class="sign">=</span> <span class="sign">.</span>false<span class="sign">.</span>
<span class="line_number">3345 </span>
<span class="line_number">3346 </span>    <span class="keyword">end</span> <span class="keyword">if</span>
<span class="line_number">3347 </span>
<span class="line_number">3348 </span>    <span class="keyword">end</span> <span class="keyword">subroutine</span> <strong>json_get_integer</strong>
</pre>

<hr />
<a name="json5fmodule2fjson5fget5finteger5fvec"></a>
<a name="robo60"></a><h2>json_module/json_get_integer_vec [ Functions ]</h2>

<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo0">json_module</a> ] [ <a href="./robo_functions.html#robo_top_of_doc">Functions</a> ]</p>
<p class="item_name">NAME</p>
<p>    <strong>json_get_integer_vec</strong>
</p>
<p class="item_name">DESCRIPTION</p>
<p>    Get an integer vector from a JSON value.
</p>
<p class="item_name">AUTHOR</p>
<p>    Jacob Williams : 5/14/2014
</p>
<p class="item_name">SOURCE</p>
<pre class="source"><span class="line_number">3365 </span>    <span class="keyword">subroutine</span> <strong>json_get_integer_vec</strong><span class="sign">(</span>me<span class="sign">,</span> path<span class="sign">,</span> vec<span class="sign">,</span> found<span class="sign">)</span>
<span class="line_number">3366 </span>
<span class="line_number">3367 </span>    <span class="keyword">implicit</span> <span class="keyword">none</span>
<span class="line_number">3368 </span>
<span class="line_number">3369 </span>    <span class="keyword">type</span><span class="sign">(</span><a href="#robo4">json_value</a><span class="sign">)</span><span class="sign">,</span><span class="keyword">pointer</span>                         <span class="sign">:</span><span class="sign">:</span> me
<span class="line_number">3370 </span>    <span class="keyword">character</span><span class="sign">(</span><span class="keyword">kind</span><span class="sign">=</span>CK<span class="sign">,</span><span class="keyword">len</span><span class="sign">=</span><span class="sign">*</span><span class="sign">)</span><span class="sign">,</span><span class="keyword">intent</span><span class="sign">(</span>in<span class="sign">)</span>              <span class="sign">:</span><span class="sign">:</span> path
<span class="line_number">3371 </span>    <span class="keyword">integer</span><span class="sign">(</span>IK<span class="sign">)</span><span class="sign">,</span><span class="keyword">dimension</span><span class="sign">(</span><span class="sign">:</span><span class="sign">)</span><span class="sign">,</span><span class="keyword">allocatable</span><span class="sign">,</span><span class="keyword">intent</span><span class="sign">(</span>out<span class="sign">)</span> <span class="sign">:</span><span class="sign">:</span> vec
<span class="line_number">3372 </span>    <span class="keyword">logical</span><span class="sign">(</span>LK<span class="sign">)</span><span class="sign">,</span><span class="keyword">intent</span><span class="sign">(</span>out<span class="sign">)</span><span class="sign">,</span><span class="keyword">optional</span>                 <span class="sign">:</span><span class="sign">:</span> found
<span class="line_number">3373 </span>
<span class="line_number">3374 </span>    <span class="keyword">logical</span><span class="sign">(</span>LK<span class="sign">)</span> <span class="sign">:</span><span class="sign">:</span> initialized
<span class="line_number">3375 </span>
<span class="line_number">3376 </span>    initialized <span class="sign">=</span> <span class="sign">.</span>false<span class="sign">.</span>
<span class="line_number">3377 </span>
<span class="line_number">3378 </span>    <span class="keyword">if</span> <span class="sign">(</span><span class="keyword">allocated</span><span class="sign">(</span>vec<span class="sign">)</span><span class="sign">)</span> <span class="keyword">deallocate</span><span class="sign">(</span>vec<span class="sign">)</span>
<span class="line_number">3379 </span>
<span class="line_number">3380 </span>    <span class="comment">!the callback function is called for each element of the array:</span>
<span class="line_number">3381 </span>    <span class="keyword">call</span> <a href="#robo7">json_get</a><span class="sign">(</span>me<span class="sign">,</span> path<span class="sign">=</span>path<span class="sign">,</span> array_callback<span class="sign">=</span>get_int_from_array<span class="sign">,</span> found<span class="sign">=</span>found<span class="sign">)</span>
<span class="line_number">3382 </span>
<span class="line_number">3383 </span>    <span class="keyword">contains</span>
<span class="line_number">3384 </span>
<span class="line_number">3385 </span>        <span class="comment">! callback function for integer</span>
<span class="line_number">3386 </span>        <span class="keyword">subroutine</span> get_int_from_array<span class="sign">(</span>element<span class="sign">,</span> i<span class="sign">,</span> <span class="keyword">count</span><span class="sign">)</span>
<span class="line_number">3387 </span>        <span class="keyword">implicit</span> <span class="keyword">none</span>
<span class="line_number">3388 </span>
<span class="line_number">3389 </span>        <span class="keyword">type</span><span class="sign">(</span><a href="#robo4">json_value</a><span class="sign">)</span><span class="sign">,</span><span class="keyword">pointer</span><span class="sign">,</span><span class="keyword">intent</span><span class="sign">(</span>in<span class="sign">)</span> <span class="sign">:</span><span class="sign">:</span> element
<span class="line_number">3390 </span>        <span class="keyword">integer</span><span class="sign">(</span>IK<span class="sign">)</span><span class="sign">,</span><span class="keyword">intent</span><span class="sign">(</span>in<span class="sign">)</span>              <span class="sign">:</span><span class="sign">:</span> i        <span class="comment">!index</span>
<span class="line_number">3391 </span>        <span class="keyword">integer</span><span class="sign">(</span>IK<span class="sign">)</span><span class="sign">,</span><span class="keyword">intent</span><span class="sign">(</span>in<span class="sign">)</span>              <span class="sign">:</span><span class="sign">:</span> <span class="keyword">count</span>    <span class="comment">!size of array</span>
<span class="line_number">3392 </span>
<span class="line_number">3393 </span>        <span class="comment">!size the output array:</span>
<span class="line_number">3394 </span>        <span class="keyword">if</span> <span class="sign">(</span><span class="sign">.</span><span class="keyword">not</span><span class="sign">.</span> initialized<span class="sign">)</span> <span class="keyword">then</span>
<span class="line_number">3395 </span>            <span class="keyword">allocate</span><span class="sign">(</span>vec<span class="sign">(</span><span class="keyword">count</span><span class="sign">)</span><span class="sign">)</span>
<span class="line_number">3396 </span>            initialized <span class="sign">=</span> <span class="sign">.</span>true<span class="sign">.</span>
<span class="line_number">3397 </span>        <span class="keyword">end</span> <span class="keyword">if</span>
<span class="line_number">3398 </span>
<span class="line_number">3399 </span>        <span class="comment">!populate the elements:</span>
<span class="line_number">3400 </span>        <span class="keyword">call</span> <a href="#robo7">json_get</a><span class="sign">(</span>element<span class="sign">,</span> <span class="keyword">value</span><span class="sign">=</span>vec<span class="sign">(</span>i<span class="sign">)</span><span class="sign">)</span>
<span class="line_number">3401 </span>
<span class="line_number">3402 </span>        <span class="keyword">end</span> <span class="keyword">subroutine</span> get_int_from_array
<span class="line_number">3403 </span>
<span class="line_number">3404 </span>    <span class="keyword">end</span> <span class="keyword">subroutine</span> <strong>json_get_integer_vec</strong>
</pre>

<hr />
<a name="json5fmodule2fjson5fget5flogical"></a>
<a name="robo61"></a><h2>json_module/json_get_logical [ Functions ]</h2>

<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo0">json_module</a> ] [ <a href="./robo_functions.html#robo_top_of_doc">Functions</a> ]</p>
<p class="item_name">NAME</p>
<p>    <strong>json_get_logical</strong>
</p>
<p class="item_name">DESCRIPTION</p>
<p>    Get a logical value from a <a href="#robo4">json_value</a>.
</p>
<p class="item_name">SOURCE</p>
<pre class="source"><span class="line_number">3553 </span>    <span class="keyword">subroutine</span> <strong>json_get_logical</strong><span class="sign">(</span>this<span class="sign">,</span> path<span class="sign">,</span> <span class="keyword">value</span><span class="sign">,</span> found<span class="sign">)</span>
<span class="line_number">3554 </span>
<span class="line_number">3555 </span>    <span class="keyword">implicit</span> <span class="keyword">none</span>
<span class="line_number">3556 </span>
<span class="line_number">3557 </span>    <span class="keyword">type</span><span class="sign">(</span><a href="#robo4">json_value</a><span class="sign">)</span><span class="sign">,</span><span class="keyword">pointer</span><span class="sign">,</span><span class="keyword">intent</span><span class="sign">(</span>in<span class="sign">)</span> <span class="sign">:</span><span class="sign">:</span> this
<span class="line_number">3558 </span>    <span class="keyword">character</span><span class="sign">(</span><span class="keyword">kind</span><span class="sign">=</span>CK<span class="sign">,</span><span class="keyword">len</span><span class="sign">=</span><span class="sign">*</span><span class="sign">)</span><span class="sign">,</span><span class="keyword">optional</span>   <span class="sign">:</span><span class="sign">:</span> path
<span class="line_number">3559 </span>    <span class="keyword">logical</span><span class="sign">(</span>LK<span class="sign">)</span>                         <span class="sign">:</span><span class="sign">:</span> <span class="keyword">value</span>
<span class="line_number">3560 </span>    <span class="keyword">logical</span><span class="sign">(</span>LK<span class="sign">)</span><span class="sign">,</span><span class="keyword">intent</span><span class="sign">(</span>out<span class="sign">)</span><span class="sign">,</span><span class="keyword">optional</span>    <span class="sign">:</span><span class="sign">:</span> found
<span class="line_number">3561 </span>
<span class="line_number">3562 </span>    <span class="keyword">type</span><span class="sign">(</span><a href="#robo4">json_value</a><span class="sign">)</span><span class="sign">,</span><span class="keyword">pointer</span> <span class="sign">:</span><span class="sign">:</span> p
<span class="line_number">3563 </span>
<span class="line_number">3564 </span>    <span class="keyword">if</span> <span class="sign">(</span><span class="sign">.</span><span class="keyword">not</span><span class="sign">.</span> exception_thrown<span class="sign">)</span> <span class="keyword">then</span>
<span class="line_number">3565 </span>
<span class="line_number">3566 </span>        <span class="keyword">nullify</span><span class="sign">(</span>p<span class="sign">)</span>
<span class="line_number">3567 </span>
<span class="line_number">3568 </span>        <span class="keyword">if</span> <span class="sign">(</span><span class="keyword">present</span><span class="sign">(</span>path<span class="sign">)</span><span class="sign">)</span> <span class="keyword">then</span>
<span class="line_number">3569 </span>            <span class="keyword">call</span> <a href="#robo56">json_get_by_path</a><span class="sign">(</span>this<span class="sign">=</span>this<span class="sign">,</span> path<span class="sign">=</span>path<span class="sign">,</span> p<span class="sign">=</span>p<span class="sign">)</span>
<span class="line_number">3570 </span>        <span class="keyword">else</span>
<span class="line_number">3571 </span>            p <span class="sign">=</span><span class="sign">&gt;</span> this
<span class="line_number">3572 </span>        <span class="keyword">end</span> <span class="keyword">if</span>
<span class="line_number">3573 </span>
<span class="line_number">3574 </span>        <span class="keyword">if</span> <span class="sign">(</span><span class="sign">.</span><span class="keyword">not</span><span class="sign">.</span> <span class="keyword">associated</span><span class="sign">(</span>p<span class="sign">)</span><span class="sign">)</span> <span class="keyword">then</span>
<span class="line_number">3575 </span>
<span class="line_number">3576 </span>            <span class="keyword">call</span> throw_exception<span class="sign">(</span><span class="squote">'Error in <strong>json_get_logical</strong>:'</span><span class="sign">/</span><span class="sign">/</span><span class="sign">&amp;</span>
<span class="line_number">3577 </span>                                 <span class="squote">' Unable to resolve path: '</span><span class="sign">/</span><span class="sign">/</span><span class="keyword">trim</span><span class="sign">(</span>path<span class="sign">)</span><span class="sign">)</span>
<span class="line_number">3578 </span>
<span class="line_number">3579 </span>        <span class="keyword">else</span>
<span class="line_number">3580 </span>
<span class="line_number">3581 </span>            <span class="keyword">select</span> <span class="keyword">case</span> <span class="sign">(</span>p<span class="sign">%</span><a href="#robo2">var_type</a><span class="sign">)</span>
<span class="line_number">3582 </span>            <span class="keyword">case</span> <span class="sign">(</span>json_integer<span class="sign">)</span>
<span class="line_number">3583 </span>                <span class="keyword">value</span> <span class="sign">=</span> <span class="sign">(</span>p<span class="sign">%</span>int_value <span class="sign">&gt;</span> 0<span class="sign">)</span>
<span class="line_number">3584 </span>            <span class="keyword">case</span> <span class="sign">(</span>json_logical<span class="sign">)</span>
<span class="line_number">3585 </span>                <span class="keyword">value</span> <span class="sign">=</span> p <span class="sign">%</span> log_value
<span class="line_number">3586 </span>            <span class="keyword">case</span> default
<span class="line_number">3587 </span>                <span class="keyword">call</span> throw_exception<span class="sign">(</span><span class="squote">'Error in <strong>json_get_logical</strong>:'</span><span class="sign">/</span><span class="sign">/</span><span class="sign">&amp;</span>
<span class="line_number">3588 </span>                                     <span class="squote">' Unable to resolve value to logical: '</span><span class="sign">/</span><span class="sign">/</span><span class="sign">&amp;</span>
<span class="line_number">3589 </span>                                     <span class="keyword">trim</span><span class="sign">(</span>path<span class="sign">)</span><span class="sign">)</span>
<span class="line_number">3590 </span>            <span class="keyword">end</span> <span class="keyword">select</span>
<span class="line_number">3591 </span>
<span class="line_number">3592 </span>            <span class="keyword">nullify</span><span class="sign">(</span>p<span class="sign">)</span>
<span class="line_number">3593 </span>
<span class="line_number">3594 </span>        <span class="keyword">end</span> <span class="keyword">if</span>
<span class="line_number">3595 </span>
<span class="line_number">3596 </span>        <span class="keyword">if</span> <span class="sign">(</span>exception_thrown<span class="sign">)</span> <span class="keyword">then</span>
<span class="line_number">3597 </span>            <span class="keyword">if</span> <span class="sign">(</span><span class="keyword">present</span><span class="sign">(</span>found<span class="sign">)</span><span class="sign">)</span> <span class="keyword">then</span>
<span class="line_number">3598 </span>                found <span class="sign">=</span> <span class="sign">.</span>false<span class="sign">.</span>
<span class="line_number">3599 </span>                <span class="keyword">call</span> <a href="#robo23">json_clear_exceptions</a><span class="sign">(</span><span class="sign">)</span>
<span class="line_number">3600 </span>            <span class="keyword">end</span> <span class="keyword">if</span>
<span class="line_number">3601 </span>        <span class="keyword">else</span>
<span class="line_number">3602 </span>            <span class="keyword">if</span> <span class="sign">(</span><span class="keyword">present</span><span class="sign">(</span>found<span class="sign">)</span><span class="sign">)</span> found <span class="sign">=</span> <span class="sign">.</span>true<span class="sign">.</span>
<span class="line_number">3603 </span>        <span class="keyword">end</span> <span class="keyword">if</span>
<span class="line_number">3604 </span>
<span class="line_number">3605 </span>    <span class="keyword">else</span>
<span class="line_number">3606 </span>
<span class="line_number">3607 </span>        <span class="keyword">value</span> <span class="sign">=</span> <span class="sign">.</span>false<span class="sign">.</span>
<span class="line_number">3608 </span>        <span class="keyword">if</span> <span class="sign">(</span><span class="keyword">present</span><span class="sign">(</span>found<span class="sign">)</span><span class="sign">)</span> found <span class="sign">=</span> <span class="sign">.</span>false<span class="sign">.</span>
<span class="line_number">3609 </span>
<span class="line_number">3610 </span>    <span class="keyword">end</span> <span class="keyword">if</span>
<span class="line_number">3611 </span>
<span class="line_number">3612 </span>    <span class="keyword">end</span> <span class="keyword">subroutine</span> <strong>json_get_logical</strong>
</pre>

<hr />
<a name="json5fmodule2fjson5fget5flogical5fvec"></a>
<a name="robo62"></a><h2>json_module/json_get_logical_vec [ Functions ]</h2>

<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo0">json_module</a> ] [ <a href="./robo_functions.html#robo_top_of_doc">Functions</a> ]</p>
<p class="item_name">NAME</p>
<p>    <strong>json_get_logical_vec</strong>
</p>
<p class="item_name">DESCRIPTION</p>
<p>    Get a logical vector from a JSON value.
</p>
<p class="item_name">AUTHOR</p>
<p>    Jacob Williams : 5/14/2014
</p>
<p class="item_name">SOURCE</p>
<pre class="source"><span class="line_number">3629 </span>    <span class="keyword">subroutine</span> <strong>json_get_logical_vec</strong><span class="sign">(</span>me<span class="sign">,</span> path<span class="sign">,</span> vec<span class="sign">,</span> found<span class="sign">)</span>
<span class="line_number">3630 </span>
<span class="line_number">3631 </span>    <span class="keyword">implicit</span> <span class="keyword">none</span>
<span class="line_number">3632 </span>
<span class="line_number">3633 </span>    <span class="keyword">type</span><span class="sign">(</span><a href="#robo4">json_value</a><span class="sign">)</span><span class="sign">,</span><span class="keyword">pointer</span><span class="sign">,</span><span class="keyword">intent</span><span class="sign">(</span>in<span class="sign">)</span>              <span class="sign">:</span><span class="sign">:</span> me
<span class="line_number">3634 </span>    <span class="keyword">character</span><span class="sign">(</span><span class="keyword">kind</span><span class="sign">=</span>CK<span class="sign">,</span><span class="keyword">len</span><span class="sign">=</span><span class="sign">*</span><span class="sign">)</span><span class="sign">,</span><span class="keyword">intent</span><span class="sign">(</span>in<span class="sign">)</span>              <span class="sign">:</span><span class="sign">:</span> path
<span class="line_number">3635 </span>    <span class="keyword">logical</span><span class="sign">(</span>LK<span class="sign">)</span><span class="sign">,</span><span class="keyword">dimension</span><span class="sign">(</span><span class="sign">:</span><span class="sign">)</span><span class="sign">,</span><span class="keyword">allocatable</span><span class="sign">,</span><span class="keyword">intent</span><span class="sign">(</span>out<span class="sign">)</span> <span class="sign">:</span><span class="sign">:</span> vec
<span class="line_number">3636 </span>    <span class="keyword">logical</span><span class="sign">(</span>LK<span class="sign">)</span><span class="sign">,</span><span class="keyword">intent</span><span class="sign">(</span>out<span class="sign">)</span><span class="sign">,</span><span class="keyword">optional</span>                 <span class="sign">:</span><span class="sign">:</span> found
<span class="line_number">3637 </span>
<span class="line_number">3638 </span>    <span class="keyword">logical</span><span class="sign">(</span>LK<span class="sign">)</span> <span class="sign">:</span><span class="sign">:</span> initialized
<span class="line_number">3639 </span>
<span class="line_number">3640 </span>    initialized <span class="sign">=</span> <span class="sign">.</span>false<span class="sign">.</span>
<span class="line_number">3641 </span>
<span class="line_number">3642 </span>    <span class="keyword">if</span> <span class="sign">(</span><span class="keyword">allocated</span><span class="sign">(</span>vec<span class="sign">)</span><span class="sign">)</span> <span class="keyword">deallocate</span><span class="sign">(</span>vec<span class="sign">)</span>
<span class="line_number">3643 </span>
<span class="line_number">3644 </span>    <span class="comment">!the callback function is called for each element of the array:</span>
<span class="line_number">3645 </span>    <span class="keyword">call</span> <a href="#robo7">json_get</a><span class="sign">(</span>me<span class="sign">,</span> path<span class="sign">=</span>path<span class="sign">,</span> array_callback<span class="sign">=</span>get_logical_from_array<span class="sign">,</span> found<span class="sign">=</span>found<span class="sign">)</span>
<span class="line_number">3646 </span>
<span class="line_number">3647 </span>    <span class="keyword">contains</span>
<span class="line_number">3648 </span>
<span class="line_number">3649 </span>        <span class="comment">! callback function for logical</span>
<span class="line_number">3650 </span>        <span class="keyword">subroutine</span> get_logical_from_array<span class="sign">(</span>element<span class="sign">,</span> i<span class="sign">,</span> <span class="keyword">count</span><span class="sign">)</span>
<span class="line_number">3651 </span>        <span class="keyword">implicit</span> <span class="keyword">none</span>
<span class="line_number">3652 </span>
<span class="line_number">3653 </span>        <span class="keyword">type</span><span class="sign">(</span><a href="#robo4">json_value</a><span class="sign">)</span><span class="sign">,</span><span class="keyword">pointer</span><span class="sign">,</span><span class="keyword">intent</span><span class="sign">(</span>in<span class="sign">)</span> <span class="sign">:</span><span class="sign">:</span> element
<span class="line_number">3654 </span>        <span class="keyword">integer</span><span class="sign">(</span>IK<span class="sign">)</span><span class="sign">,</span><span class="keyword">intent</span><span class="sign">(</span>in<span class="sign">)</span>              <span class="sign">:</span><span class="sign">:</span> i        <span class="comment">!index</span>
<span class="line_number">3655 </span>        <span class="keyword">integer</span><span class="sign">(</span>IK<span class="sign">)</span><span class="sign">,</span><span class="keyword">intent</span><span class="sign">(</span>in<span class="sign">)</span>              <span class="sign">:</span><span class="sign">:</span> <span class="keyword">count</span>    <span class="comment">!size of array</span>
<span class="line_number">3656 </span>
<span class="line_number">3657 </span>        <span class="comment">!size the output array:</span>
<span class="line_number">3658 </span>        <span class="keyword">if</span> <span class="sign">(</span><span class="sign">.</span><span class="keyword">not</span><span class="sign">.</span> initialized<span class="sign">)</span> <span class="keyword">then</span>
<span class="line_number">3659 </span>            <span class="keyword">allocate</span><span class="sign">(</span>vec<span class="sign">(</span><span class="keyword">count</span><span class="sign">)</span><span class="sign">)</span>
<span class="line_number">3660 </span>            initialized <span class="sign">=</span> <span class="sign">.</span>true<span class="sign">.</span>
<span class="line_number">3661 </span>        <span class="keyword">end</span> <span class="keyword">if</span>
<span class="line_number">3662 </span>
<span class="line_number">3663 </span>        <span class="comment">!populate the elements:</span>
<span class="line_number">3664 </span>        <span class="keyword">call</span> <a href="#robo7">json_get</a><span class="sign">(</span>element<span class="sign">,</span> <span class="keyword">value</span><span class="sign">=</span>vec<span class="sign">(</span>i<span class="sign">)</span><span class="sign">)</span>
<span class="line_number">3665 </span>
<span class="line_number">3666 </span>        <span class="keyword">end</span> <span class="keyword">subroutine</span> get_logical_from_array
<span class="line_number">3667 </span>
<span class="line_number">3668 </span>    <span class="keyword">end</span> <span class="keyword">subroutine</span> <strong>json_get_logical_vec</strong>
</pre>

<hr />
<a name="json5fmodule2fjson5fget5fstring"></a>
<a name="robo63"></a><h2>json_module/json_get_string [ Functions ]</h2>

<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo0">json_module</a> ] [ <a href="./robo_functions.html#robo_top_of_doc">Functions</a> ]</p>
<p class="item_name">NAME</p>
<p>    <strong>json_get_string</strong>
</p>
<p class="item_name">DESCRIPTION</p>
<p>    Get a character string from a <a href="#robo4">json_value</a>.
</p>
<p class="item_name">SOURCE</p>
<pre class="source"><span class="line_number">3682 </span>    <span class="keyword">subroutine</span> <strong>json_get_string</strong><span class="sign">(</span>this<span class="sign">,</span> path<span class="sign">,</span> <span class="keyword">value</span><span class="sign">,</span> found<span class="sign">)</span>
<span class="line_number">3683 </span>
<span class="line_number">3684 </span>    <span class="keyword">implicit</span> <span class="keyword">none</span>
<span class="line_number">3685 </span>
<span class="line_number">3686 </span>    <span class="keyword">type</span><span class="sign">(</span><a href="#robo4">json_value</a><span class="sign">)</span><span class="sign">,</span><span class="keyword">pointer</span><span class="sign">,</span><span class="keyword">intent</span><span class="sign">(</span>in<span class="sign">)</span>              <span class="sign">:</span><span class="sign">:</span> this
<span class="line_number">3687 </span>    <span class="keyword">character</span><span class="sign">(</span><span class="keyword">kind</span><span class="sign">=</span>CK<span class="sign">,</span><span class="keyword">len</span><span class="sign">=</span><span class="sign">*</span><span class="sign">)</span><span class="sign">,</span><span class="keyword">intent</span><span class="sign">(</span>in<span class="sign">)</span><span class="sign">,</span><span class="keyword">optional</span>     <span class="sign">:</span><span class="sign">:</span> path
<span class="line_number">3688 </span>    <span class="keyword">character</span><span class="sign">(</span><span class="keyword">kind</span><span class="sign">=</span>CK<span class="sign">,</span><span class="keyword">len</span><span class="sign">=</span><span class="sign">:</span><span class="sign">)</span><span class="sign">,</span><span class="keyword">allocatable</span><span class="sign">,</span><span class="keyword">intent</span><span class="sign">(</span>out<span class="sign">)</span> <span class="sign">:</span><span class="sign">:</span> <span class="keyword">value</span>
<span class="line_number">3689 </span>    <span class="keyword">logical</span><span class="sign">(</span>LK<span class="sign">)</span><span class="sign">,</span><span class="keyword">intent</span><span class="sign">(</span>out<span class="sign">)</span><span class="sign">,</span><span class="keyword">optional</span>                 <span class="sign">:</span><span class="sign">:</span> found
<span class="line_number">3690 </span>
<span class="line_number">3691 </span>    <span class="keyword">type</span><span class="sign">(</span><a href="#robo4">json_value</a><span class="sign">)</span><span class="sign">,</span><span class="keyword">pointer</span> <span class="sign">:</span><span class="sign">:</span> p
<span class="line_number">3692 </span>    <span class="keyword">character</span><span class="sign">(</span><span class="keyword">kind</span><span class="sign">=</span>CK<span class="sign">,</span><span class="keyword">len</span><span class="sign">=</span><span class="sign">:</span><span class="sign">)</span><span class="sign">,</span><span class="keyword">allocatable</span> <span class="sign">:</span><span class="sign">:</span> s<span class="sign">,</span>pre<span class="sign">,</span>post
<span class="line_number">3693 </span>    <span class="keyword">integer</span><span class="sign">(</span>IK<span class="sign">)</span> <span class="sign">:</span><span class="sign">:</span> j<span class="sign">,</span>jprev<span class="sign">,</span>n
<span class="line_number">3694 </span>    <span class="keyword">character</span><span class="sign">(</span><span class="keyword">kind</span><span class="sign">=</span>CK<span class="sign">,</span><span class="keyword">len</span><span class="sign">=</span>1<span class="sign">)</span> <span class="sign">:</span><span class="sign">:</span> c
<span class="line_number">3695 </span>
<span class="line_number">3696 </span>    <span class="keyword">if</span> <span class="sign">(</span><span class="sign">.</span><span class="keyword">not</span><span class="sign">.</span> exception_thrown<span class="sign">)</span> <span class="keyword">then</span>
<span class="line_number">3697 </span>
<span class="line_number">3698 </span>        <span class="keyword">nullify</span><span class="sign">(</span>p<span class="sign">)</span>
<span class="line_number">3699 </span>
<span class="line_number">3700 </span>        <span class="keyword">if</span> <span class="sign">(</span><span class="keyword">present</span><span class="sign">(</span>path<span class="sign">)</span><span class="sign">)</span> <span class="keyword">then</span>
<span class="line_number">3701 </span>            <span class="keyword">call</span> <a href="#robo56">json_get_by_path</a><span class="sign">(</span>this<span class="sign">=</span>this<span class="sign">,</span> path<span class="sign">=</span>path<span class="sign">,</span> p<span class="sign">=</span>p<span class="sign">)</span>
<span class="line_number">3702 </span>        <span class="keyword">else</span>
<span class="line_number">3703 </span>            p <span class="sign">=</span><span class="sign">&gt;</span> this
<span class="line_number">3704 </span>        <span class="keyword">end</span> <span class="keyword">if</span>
<span class="line_number">3705 </span>
<span class="line_number">3706 </span>        <span class="keyword">if</span> <span class="sign">(</span><span class="sign">.</span><span class="keyword">not</span><span class="sign">.</span> <span class="keyword">associated</span><span class="sign">(</span>p<span class="sign">)</span><span class="sign">)</span> <span class="keyword">then</span>
<span class="line_number">3707 </span>
<span class="line_number">3708 </span>            <span class="keyword">call</span> throw_exception<span class="sign">(</span><span class="squote">'Error in <strong>json_get_string</strong>:'</span><span class="sign">/</span><span class="sign">/</span><span class="sign">&amp;</span>
<span class="line_number">3709 </span>                                 <span class="squote">' Unable to resolve path: '</span><span class="sign">/</span><span class="sign">/</span><span class="keyword">trim</span><span class="sign">(</span>path<span class="sign">)</span><span class="sign">)</span>
<span class="line_number">3710 </span>
<span class="line_number">3711 </span>        <span class="keyword">else</span>
<span class="line_number">3712 </span>
<span class="line_number">3713 </span>            <span class="keyword">select</span> <span class="keyword">case</span> <span class="sign">(</span>p<span class="sign">%</span><a href="#robo2">var_type</a><span class="sign">)</span>
<span class="line_number">3714 </span>
<span class="line_number">3715 </span>            <span class="keyword">case</span> <span class="sign">(</span>json_string<span class="sign">)</span>
<span class="line_number">3716 </span>
<span class="line_number">3717 </span>                <span class="keyword">if</span> <span class="sign">(</span><span class="keyword">allocated</span><span class="sign">(</span>p<span class="sign">%</span>str_value<span class="sign">)</span><span class="sign">)</span> <span class="keyword">then</span>
<span class="line_number">3718 </span>
<span class="line_number">3719 </span>                    <span class="comment">!get the value as is:</span>
<span class="line_number">3720 </span>                    s <span class="sign">=</span> p<span class="sign">%</span>str_value
<span class="line_number">3721 </span>
<span class="line_number">3722 </span>                    <span class="comment">! Now, have to remove the escape characters:</span>
<span class="line_number">3723 </span>                    <span class="comment">!</span>
<span class="line_number">3724 </span>                    <span class="comment">! '\"'        quotation mark</span>
<span class="line_number">3725 </span>                    <span class="comment">! '\\'        reverse solidus</span>
<span class="line_number">3726 </span>                    <span class="comment">! '\/'        solidus</span>
<span class="line_number">3727 </span>                    <span class="comment">! '\b'        backspace</span>
<span class="line_number">3728 </span>                    <span class="comment">! '\f'        formfeed</span>
<span class="line_number">3729 </span>                    <span class="comment">! '\n'        newline (LF)</span>
<span class="line_number">3730 </span>                    <span class="comment">! '\r'        carriage return (CR)</span>
<span class="line_number">3731 </span>                    <span class="comment">! '\t'        horizontal tab</span>
<span class="line_number">3732 </span>                    <span class="comment">! '\uXXXX'    4 hexadecimal digits</span>
<span class="line_number">3733 </span>                    <span class="comment">!</span>
<span class="line_number">3734 </span>
<span class="line_number">3735 </span>                    <span class="comment">!initialize:</span>
<span class="line_number">3736 </span>                    n <span class="sign">=</span> <span class="keyword">len</span><span class="sign">(</span>s<span class="sign">)</span>
<span class="line_number">3737 </span>                    j <span class="sign">=</span> 1
<span class="line_number">3738 </span>
<span class="line_number">3739 </span>                    <span class="keyword">do</span>
<span class="line_number">3740 </span>
<span class="line_number">3741 </span>                        jprev <span class="sign">=</span> j                      <span class="comment">!initialize</span>
<span class="line_number">3742 </span>                        j <span class="sign">=</span> <span class="keyword">index</span><span class="sign">(</span>s<span class="sign">(</span>j<span class="sign">:</span>n<span class="sign">)</span><span class="sign">,</span>backslash<span class="sign">)</span>    <span class="comment">!look for an escape character</span>
<span class="line_number">3743 </span>
<span class="line_number">3744 </span>                        <span class="keyword">if</span> <span class="sign">(</span>j<span class="sign">&gt;</span>0<span class="sign">)</span> <span class="keyword">then</span>            <span class="comment">!an escape character was found</span>
<span class="line_number">3745 </span>
<span class="line_number">3746 </span>                            <span class="comment">!index in full string of the escape character:</span>
<span class="line_number">3747 </span>                            j <span class="sign">=</span> j <span class="sign">+</span> <span class="sign">(</span>jprev<span class="sign">-</span>1<span class="sign">)</span>
<span class="line_number">3748 </span>
<span class="line_number">3749 </span>                            <span class="keyword">if</span> <span class="sign">(</span>j<span class="sign">&lt;</span>n<span class="sign">)</span> <span class="keyword">then</span>
<span class="line_number">3750 </span>
<span class="line_number">3751 </span>                                <span class="comment">!save the bit before the escape character:</span>
<span class="line_number">3752 </span>                                <span class="keyword">if</span> <span class="sign">(</span>j<span class="sign">&gt;</span>1<span class="sign">)</span> <span class="keyword">then</span>
<span class="line_number">3753 </span>                                    pre <span class="sign">=</span> s<span class="sign">(</span> 1 <span class="sign">:</span> j<span class="sign">-</span>1 <span class="sign">)</span>
<span class="line_number">3754 </span>                                <span class="keyword">else</span>
<span class="line_number">3755 </span>                                    pre <span class="sign">=</span> <span class="squote">''</span>
<span class="line_number">3756 </span>                                <span class="keyword">end</span> <span class="keyword">if</span>
<span class="line_number">3757 </span>
<span class="line_number">3758 </span>                                <span class="comment">!character after the escape character:</span>
<span class="line_number">3759 </span>                                c <span class="sign">=</span> s<span class="sign">(</span> j<span class="sign">+</span>1 <span class="sign">:</span> j<span class="sign">+</span>1 <span class="sign">)</span>
<span class="line_number">3760 </span>
<span class="line_number">3761 </span>                                <span class="keyword">select</span> <span class="keyword">case</span> <span class="sign">(</span>c<span class="sign">)</span>
<span class="line_number">3762 </span>                                <span class="keyword">case</span><span class="sign">(</span>quotation_mark<span class="sign">,</span>backslash<span class="sign">,</span>slash<span class="sign">,</span><span class="sign">&amp;</span>
<span class="line_number">3763 </span>                                     <span class="squote">'b'</span><span class="sign">,</span><span class="squote">'f'</span><span class="sign">,</span><span class="squote">'n'</span><span class="sign">,</span><span class="squote">'r'</span><span class="sign">,</span><span class="squote">'t'</span><span class="sign">)</span>
<span class="line_number">3764 </span>
<span class="line_number">3765 </span>                                    <span class="comment">!save the bit after the escape characters:</span>
<span class="line_number">3766 </span>                                    <span class="keyword">if</span> <span class="sign">(</span>j<span class="sign">+</span>2<span class="sign">&lt;</span>n<span class="sign">)</span> <span class="keyword">then</span>
<span class="line_number">3767 </span>                                        post <span class="sign">=</span> s<span class="sign">(</span>j<span class="sign">+</span>2<span class="sign">:</span>n<span class="sign">)</span>
<span class="line_number">3768 </span>                                    <span class="keyword">else</span>
<span class="line_number">3769 </span>                                        post <span class="sign">=</span> <span class="squote">''</span>
<span class="line_number">3770 </span>                                    <span class="keyword">end</span> <span class="keyword">if</span>
<span class="line_number">3771 </span>
<span class="line_number">3772 </span>                                    <span class="keyword">select</span> <span class="keyword">case</span><span class="sign">(</span>c<span class="sign">)</span>
<span class="line_number">3773 </span>                                    <span class="keyword">case</span><span class="sign">(</span>quotation_mark<span class="sign">,</span>backslash<span class="sign">,</span>slash<span class="sign">)</span>
<span class="line_number">3774 </span>                                        <span class="comment">!use c as is</span>
<span class="line_number">3775 </span>                                    <span class="keyword">case</span><span class="sign">(</span><span class="squote">'b'</span><span class="sign">)</span>
<span class="line_number">3776 </span>                                        c <span class="sign">=</span> bspace
<span class="line_number">3777 </span>                                    <span class="keyword">case</span><span class="sign">(</span><span class="squote">'f'</span><span class="sign">)</span>
<span class="line_number">3778 </span>                                        c <span class="sign">=</span> formfeed
<span class="line_number">3779 </span>                                    <span class="keyword">case</span><span class="sign">(</span><span class="squote">'n'</span><span class="sign">)</span>
<span class="line_number">3780 </span>                                        c <span class="sign">=</span> newline
<span class="line_number">3781 </span>                                    <span class="keyword">case</span><span class="sign">(</span><span class="squote">'r'</span><span class="sign">)</span>
<span class="line_number">3782 </span>                                        c <span class="sign">=</span> carriage_return
<span class="line_number">3783 </span>                                    <span class="keyword">case</span><span class="sign">(</span><span class="squote">'t'</span><span class="sign">)</span>
<span class="line_number">3784 </span>                                        c <span class="sign">=</span> horizontal_tab
<span class="line_number">3785 </span>                                    <span class="keyword">end</span> <span class="keyword">select</span>
<span class="line_number">3786 </span>
<span class="line_number">3787 </span>                                    s <span class="sign">=</span> pre<span class="sign">/</span><span class="sign">/</span>c<span class="sign">/</span><span class="sign">/</span>post
<span class="line_number">3788 </span>
<span class="line_number">3789 </span>                                    n <span class="sign">=</span> n<span class="sign">-</span>1    <span class="comment">!backslash character has been</span>
<span class="line_number">3790 </span>                                               <span class="comment">! removed from the string</span>
<span class="line_number">3791 </span>
<span class="line_number">3792 </span>                                <span class="keyword">case</span><span class="sign">(</span><span class="squote">'u'</span><span class="sign">)</span>    <span class="comment">!expecting 4 hexadecimal digits after</span>
<span class="line_number">3793 </span>                                             <span class="comment">! the escape character    [\uXXXX]</span>
<span class="line_number">3794 </span>
<span class="line_number">3795 </span>                                    <span class="comment">!for now, we are just printing them as is</span>
<span class="line_number">3796 </span>                                    <span class="comment">![not checking to see if it is a valid hex value]</span>
<span class="line_number">3797 </span>
<span class="line_number">3798 </span>                                    <span class="keyword">if</span> <span class="sign">(</span>j<span class="sign">+</span>5<span class="sign">&lt;</span><span class="sign">=</span>n<span class="sign">)</span> <span class="keyword">then</span>
<span class="line_number">3799 </span>                                        j<span class="sign">=</span>j<span class="sign">+</span>4
<span class="line_number">3800 </span>                                    <span class="keyword">else</span>
<span class="line_number">3801 </span>                                        <span class="keyword">call</span> throw_exception<span class="sign">(</span><span class="sign">&amp;</span>
<span class="line_number">3802 </span>                                            <span class="squote">'Error in <strong>json_get_string</strong>:'</span><span class="sign">/</span><span class="sign">/</span><span class="sign">&amp;</span>
<span class="line_number">3803 </span>                                            <span class="squote">' Invalid hexadecimal sequence'</span><span class="sign">/</span><span class="sign">/</span><span class="sign">&amp;</span>
<span class="line_number">3804 </span>                                            <span class="squote">' in string: '</span><span class="sign">/</span><span class="sign">/</span><span class="keyword">trim</span><span class="sign">(</span>c<span class="sign">)</span><span class="sign">)</span>
<span class="line_number">3805 </span>                                        <span class="keyword">exit</span>
<span class="line_number">3806 </span>                                    <span class="keyword">end</span> <span class="keyword">if</span>
<span class="line_number">3807 </span>
<span class="line_number">3808 </span>                                <span class="keyword">case</span> default
<span class="line_number">3809 </span>                                    <span class="comment">!unknown escape character</span>
<span class="line_number">3810 </span>                                    <span class="keyword">call</span> throw_exception<span class="sign">(</span><span class="squote">'Error in <strong>json_get_string</strong>:'</span><span class="sign">/</span><span class="sign">/</span><span class="sign">&amp;</span>
<span class="line_number">3811 </span>                                            <span class="squote">' unknown escape sequence in string "'</span><span class="sign">/</span><span class="sign">/</span><span class="sign">&amp;</span>
<span class="line_number">3812 </span>                                            <span class="keyword">trim</span><span class="sign">(</span>s<span class="sign">)</span><span class="sign">/</span><span class="sign">/</span><span class="squote">'" ['</span><span class="sign">/</span><span class="sign">/</span>backslash<span class="sign">/</span><span class="sign">/</span>c<span class="sign">/</span><span class="sign">/</span><span class="squote">']'</span><span class="sign">)</span>
<span class="line_number">3813 </span>                                    <span class="keyword">exit</span>
<span class="line_number">3814 </span>                                <span class="keyword">end</span> <span class="keyword">select</span>
<span class="line_number">3815 </span>
<span class="line_number">3816 </span>                                j<span class="sign">=</span>j<span class="sign">+</span>1    <span class="comment">!go to the next character</span>
<span class="line_number">3817 </span>
<span class="line_number">3818 </span>                                <span class="keyword">if</span> <span class="sign">(</span>j<span class="sign">&gt;</span><span class="sign">=</span>n<span class="sign">)</span> <span class="keyword">exit</span>    <span class="comment">!finished</span>
<span class="line_number">3819 </span>
<span class="line_number">3820 </span>                            <span class="keyword">else</span>
<span class="line_number">3821 </span>                                <span class="comment">!an escape character is the last character in</span>
<span class="line_number">3822 </span>                                <span class="comment">! the string [this may not be valid syntax,</span>
<span class="line_number">3823 </span>                                <span class="comment">! but just keep it]</span>
<span class="line_number">3824 </span>                                <span class="keyword">exit</span>
<span class="line_number">3825 </span>                            <span class="keyword">end</span> <span class="keyword">if</span>
<span class="line_number">3826 </span>
<span class="line_number">3827 </span>                        <span class="keyword">else</span>
<span class="line_number">3828 </span>                            <span class="keyword">exit</span>    <span class="comment">!no more escape characters in the string</span>
<span class="line_number">3829 </span>                        <span class="keyword">end</span> <span class="keyword">if</span>
<span class="line_number">3830 </span>
<span class="line_number">3831 </span>                    <span class="keyword">end</span> <span class="keyword">do</span>
<span class="line_number">3832 </span>
<span class="line_number">3833 </span>                    <span class="keyword">if</span> <span class="sign">(</span>exception_thrown<span class="sign">)</span> <span class="keyword">then</span>
<span class="line_number">3834 </span>                        <span class="keyword">if</span> <span class="sign">(</span><span class="keyword">allocated</span><span class="sign">(</span><span class="keyword">value</span><span class="sign">)</span><span class="sign">)</span> <span class="keyword">deallocate</span><span class="sign">(</span><span class="keyword">value</span><span class="sign">)</span>
<span class="line_number">3835 </span>                    <span class="keyword">else</span>
<span class="line_number">3836 </span>                        <span class="keyword">value</span> <span class="sign">=</span> s
<span class="line_number">3837 </span>                    <span class="keyword">end</span> <span class="keyword">if</span>
<span class="line_number">3838 </span>
<span class="line_number">3839 </span>                <span class="keyword">else</span>
<span class="line_number">3840 </span>                    <span class="keyword">call</span> throw_exception<span class="sign">(</span><span class="squote">'Error in <strong>json_get_string</strong>:'</span><span class="sign">/</span><span class="sign">/</span><span class="sign">&amp;</span>
<span class="line_number">3841 </span>                                         <span class="squote">' p%value not allocated'</span><span class="sign">)</span>
<span class="line_number">3842 </span>                <span class="keyword">end</span> <span class="keyword">if</span>
<span class="line_number">3843 </span>
<span class="line_number">3844 </span>            <span class="keyword">case</span> default
<span class="line_number">3845 </span>
<span class="line_number">3846 </span>                <span class="keyword">call</span> throw_exception<span class="sign">(</span><span class="squote">'Error in <strong>json_get_string</strong>:'</span><span class="sign">/</span><span class="sign">/</span><span class="sign">&amp;</span>
<span class="line_number">3847 </span>                                     <span class="squote">' Unable to resolve value to characters: '</span><span class="sign">/</span><span class="sign">/</span><span class="sign">&amp;</span>
<span class="line_number">3848 </span>                                     <span class="keyword">trim</span><span class="sign">(</span>path<span class="sign">)</span><span class="sign">)</span>
<span class="line_number">3849 </span>
<span class="line_number">3850 </span>                <span class="comment">! Note: for the other cases, we could do val to string conversions.</span>
<span class="line_number">3851 </span>
<span class="line_number">3852 </span>            <span class="keyword">end</span> <span class="keyword">select</span>
<span class="line_number">3853 </span>
<span class="line_number">3854 </span>        <span class="keyword">end</span> <span class="keyword">if</span>
<span class="line_number">3855 </span>
<span class="line_number">3856 </span>        <span class="keyword">if</span> <span class="sign">(</span><span class="keyword">allocated</span><span class="sign">(</span><span class="keyword">value</span><span class="sign">)</span> <span class="sign">.</span>and<span class="sign">.</span> <span class="sign">.</span><span class="keyword">not</span><span class="sign">.</span> exception_thrown<span class="sign">)</span> <span class="keyword">then</span>
<span class="line_number">3857 </span>            <span class="keyword">if</span> <span class="sign">(</span><span class="keyword">present</span><span class="sign">(</span>found<span class="sign">)</span><span class="sign">)</span> found <span class="sign">=</span> <span class="sign">.</span>true<span class="sign">.</span>
<span class="line_number">3858 </span>        <span class="keyword">else</span>
<span class="line_number">3859 </span>            <span class="keyword">if</span> <span class="sign">(</span><span class="keyword">present</span><span class="sign">(</span>found<span class="sign">)</span><span class="sign">)</span> <span class="keyword">then</span>
<span class="line_number">3860 </span>                found <span class="sign">=</span> <span class="sign">.</span>false<span class="sign">.</span>
<span class="line_number">3861 </span>                <span class="keyword">call</span> <a href="#robo23">json_clear_exceptions</a><span class="sign">(</span><span class="sign">)</span>
<span class="line_number">3862 </span>            <span class="keyword">end</span> <span class="keyword">if</span>
<span class="line_number">3863 </span>        <span class="keyword">end</span> <span class="keyword">if</span>
<span class="line_number">3864 </span>
<span class="line_number">3865 </span>        <span class="comment">!cleanup:</span>
<span class="line_number">3866 </span>        <span class="keyword">if</span> <span class="sign">(</span><span class="keyword">associated</span><span class="sign">(</span>p<span class="sign">)</span><span class="sign">)</span> <span class="keyword">nullify</span><span class="sign">(</span>p<span class="sign">)</span>
<span class="line_number">3867 </span>        <span class="keyword">if</span> <span class="sign">(</span><span class="keyword">allocated</span><span class="sign">(</span>s<span class="sign">)</span><span class="sign">)</span> <span class="keyword">deallocate</span><span class="sign">(</span>s<span class="sign">)</span>
<span class="line_number">3868 </span>        <span class="keyword">if</span> <span class="sign">(</span><span class="keyword">allocated</span><span class="sign">(</span>pre<span class="sign">)</span><span class="sign">)</span> <span class="keyword">deallocate</span><span class="sign">(</span>pre<span class="sign">)</span>
<span class="line_number">3869 </span>        <span class="keyword">if</span> <span class="sign">(</span><span class="keyword">allocated</span><span class="sign">(</span>post<span class="sign">)</span><span class="sign">)</span> <span class="keyword">deallocate</span><span class="sign">(</span>post<span class="sign">)</span>
<span class="line_number">3870 </span>
<span class="line_number">3871 </span>    <span class="keyword">else</span>
<span class="line_number">3872 </span>
<span class="line_number">3873 </span>        <span class="keyword">value</span> <span class="sign">=</span> <span class="squote">''</span>
<span class="line_number">3874 </span>        found <span class="sign">=</span> <span class="sign">.</span>false<span class="sign">.</span>
<span class="line_number">3875 </span>
<span class="line_number">3876 </span>    <span class="keyword">end</span> <span class="keyword">if</span>
<span class="line_number">3877 </span>
<span class="line_number">3878 </span>    <span class="keyword">end</span> <span class="keyword">subroutine</span> <strong>json_get_string</strong>
</pre>

<hr />
<a name="json5fmodule2fjson5fget5fstring5fvec"></a>
<a name="robo64"></a><h2>json_module/json_get_string_vec [ Functions ]</h2>

<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo0">json_module</a> ] [ <a href="./robo_functions.html#robo_top_of_doc">Functions</a> ]</p>
<p class="item_name">NAME</p>
<p>    <strong>json_get_string_vec</strong>
</p>
<p class="item_name">DESCRIPTION</p>
<p>    Get a string vector from a JSON file.
</p>
<p class="item_name">AUTHOR</p>
<p>    Jacob Williams : 5/14/2014
</p>
<p class="item_name">SOURCE</p>
<pre class="source"><span class="line_number">3895 </span>    <span class="keyword">subroutine</span> <strong>json_get_string_vec</strong><span class="sign">(</span>me<span class="sign">,</span> path<span class="sign">,</span> vec<span class="sign">,</span> found<span class="sign">)</span>
<span class="line_number">3896 </span>
<span class="line_number">3897 </span>    <span class="keyword">implicit</span> <span class="keyword">none</span>
<span class="line_number">3898 </span>
<span class="line_number">3899 </span>    <span class="keyword">type</span><span class="sign">(</span><a href="#robo4">json_value</a><span class="sign">)</span><span class="sign">,</span><span class="keyword">pointer</span><span class="sign">,</span><span class="keyword">intent</span><span class="sign">(</span>in<span class="sign">)</span>                           <span class="sign">:</span><span class="sign">:</span> me
<span class="line_number">3900 </span>    <span class="keyword">character</span><span class="sign">(</span><span class="keyword">kind</span><span class="sign">=</span>CK<span class="sign">,</span><span class="keyword">len</span><span class="sign">=</span><span class="sign">*</span><span class="sign">)</span><span class="sign">,</span><span class="keyword">intent</span><span class="sign">(</span>in<span class="sign">)</span>                           <span class="sign">:</span><span class="sign">:</span> path
<span class="line_number">3901 </span>    <span class="keyword">character</span><span class="sign">(</span><span class="keyword">kind</span><span class="sign">=</span>CK<span class="sign">,</span><span class="keyword">len</span><span class="sign">=</span><span class="sign">*</span><span class="sign">)</span><span class="sign">,</span><span class="keyword">dimension</span><span class="sign">(</span><span class="sign">:</span><span class="sign">)</span><span class="sign">,</span><span class="keyword">allocatable</span><span class="sign">,</span><span class="keyword">intent</span><span class="sign">(</span>out<span class="sign">)</span> <span class="sign">:</span><span class="sign">:</span> vec
<span class="line_number">3902 </span>    <span class="keyword">logical</span><span class="sign">(</span>LK<span class="sign">)</span><span class="sign">,</span><span class="keyword">intent</span><span class="sign">(</span>out<span class="sign">)</span><span class="sign">,</span><span class="keyword">optional</span>                              <span class="sign">:</span><span class="sign">:</span> found
<span class="line_number">3903 </span>
<span class="line_number">3904 </span>    <span class="keyword">logical</span><span class="sign">(</span>LK<span class="sign">)</span> <span class="sign">:</span><span class="sign">:</span> initialized
<span class="line_number">3905 </span>
<span class="line_number">3906 </span>    initialized <span class="sign">=</span> <span class="sign">.</span>false<span class="sign">.</span>
<span class="line_number">3907 </span>
<span class="line_number">3908 </span>    <span class="keyword">if</span> <span class="sign">(</span><span class="keyword">allocated</span><span class="sign">(</span>vec<span class="sign">)</span><span class="sign">)</span> <span class="keyword">deallocate</span><span class="sign">(</span>vec<span class="sign">)</span>
<span class="line_number">3909 </span>
<span class="line_number">3910 </span>    <span class="comment">!the callback function is called for each element of the array:</span>
<span class="line_number">3911 </span>    <span class="keyword">call</span> <a href="#robo7">json_get</a><span class="sign">(</span>me<span class="sign">,</span> path<span class="sign">=</span>path<span class="sign">,</span> array_callback<span class="sign">=</span>get_chars_from_array<span class="sign">,</span> found<span class="sign">=</span>found<span class="sign">)</span>
<span class="line_number">3912 </span>
<span class="line_number">3913 </span>    <span class="keyword">contains</span>
<span class="line_number">3914 </span>
<span class="line_number">3915 </span>        <span class="comment">! callback function for chars</span>
<span class="line_number">3916 </span>        <span class="keyword">subroutine</span> get_chars_from_array<span class="sign">(</span>element<span class="sign">,</span> i<span class="sign">,</span> <span class="keyword">count</span><span class="sign">)</span>
<span class="line_number">3917 </span>
<span class="line_number">3918 </span>        <span class="keyword">implicit</span> <span class="keyword">none</span>
<span class="line_number">3919 </span>
<span class="line_number">3920 </span>        <span class="keyword">type</span><span class="sign">(</span><a href="#robo4">json_value</a><span class="sign">)</span><span class="sign">,</span><span class="keyword">pointer</span><span class="sign">,</span><span class="keyword">intent</span><span class="sign">(</span>in<span class="sign">)</span> <span class="sign">:</span><span class="sign">:</span> element
<span class="line_number">3921 </span>        <span class="keyword">integer</span><span class="sign">(</span>IK<span class="sign">)</span><span class="sign">,</span><span class="keyword">intent</span><span class="sign">(</span>in<span class="sign">)</span>              <span class="sign">:</span><span class="sign">:</span> i        <span class="comment">!index</span>
<span class="line_number">3922 </span>        <span class="keyword">integer</span><span class="sign">(</span>IK<span class="sign">)</span><span class="sign">,</span><span class="keyword">intent</span><span class="sign">(</span>in<span class="sign">)</span>              <span class="sign">:</span><span class="sign">:</span> <span class="keyword">count</span>    <span class="comment">!size of array</span>
<span class="line_number">3923 </span>
<span class="line_number">3924 </span>        <span class="keyword">character</span><span class="sign">(</span><span class="keyword">kind</span><span class="sign">=</span>CK<span class="sign">,</span><span class="keyword">len</span><span class="sign">=</span><span class="sign">:</span><span class="sign">)</span><span class="sign">,</span><span class="keyword">allocatable</span> <span class="sign">:</span><span class="sign">:</span> cval
<span class="line_number">3925 </span>
<span class="line_number">3926 </span>        <span class="comment">!size the output array:</span>
<span class="line_number">3927 </span>        <span class="keyword">if</span> <span class="sign">(</span><span class="sign">.</span><span class="keyword">not</span><span class="sign">.</span> initialized<span class="sign">)</span> <span class="keyword">then</span>
<span class="line_number">3928 </span>            <span class="keyword">allocate</span><span class="sign">(</span>vec<span class="sign">(</span><span class="keyword">count</span><span class="sign">)</span><span class="sign">)</span>
<span class="line_number">3929 </span>            initialized <span class="sign">=</span> <span class="sign">.</span>true<span class="sign">.</span>
<span class="line_number">3930 </span>        <span class="keyword">end</span> <span class="keyword">if</span>
<span class="line_number">3931 </span>
<span class="line_number">3932 </span>        <span class="comment">!populate the elements:</span>
<span class="line_number">3933 </span>        <span class="keyword">call</span> <a href="#robo7">json_get</a><span class="sign">(</span>element<span class="sign">,</span> <span class="keyword">value</span><span class="sign">=</span>cval<span class="sign">)</span>
<span class="line_number">3934 </span>        <span class="keyword">if</span> <span class="sign">(</span><span class="keyword">allocated</span><span class="sign">(</span>cval<span class="sign">)</span><span class="sign">)</span> <span class="keyword">then</span>
<span class="line_number">3935 </span>            vec<span class="sign">(</span>i<span class="sign">)</span> <span class="sign">=</span> cval
<span class="line_number">3936 </span>            <span class="keyword">deallocate</span><span class="sign">(</span>cval<span class="sign">)</span>
<span class="line_number">3937 </span>        <span class="keyword">else</span>
<span class="line_number">3938 </span>            vec<span class="sign">(</span>i<span class="sign">)</span> <span class="sign">=</span> <span class="squote">''</span>
<span class="line_number">3939 </span>        <span class="keyword">end</span> <span class="keyword">if</span>
<span class="line_number">3940 </span>
<span class="line_number">3941 </span>        <span class="keyword">end</span> <span class="keyword">subroutine</span> get_chars_from_array
<span class="line_number">3942 </span>
<span class="line_number">3943 </span>    <span class="keyword">end</span> <span class="keyword">subroutine</span> <strong>json_get_string_vec</strong>
</pre>

<hr />
<a name="json5fmodule2fjson5finfo"></a>
<a name="robo65"></a><h2>json_module/json_info [ Functions ]</h2>

<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo0">json_module</a> ] [ <a href="./robo_functions.html#robo_top_of_doc">Functions</a> ]</p>
<p class="item_name">NAME</p>
<p>    <strong>json_info</strong>
</p>
<p class="item_name">USAGE</p>
<p>    call me%info(path,found,<a href="#robo2">var_type</a>,n_children)
</p>
<p class="item_name">DESCRIPTION</p>
<p>    Returns information about a <a href="#robo4">json_value</a>
</p>
<p class="item_name">AUTHOR</p>
<p>    Jacob Williams : 2/13/2014
</p>
<p class="item_name">SOURCE</p>
<pre class="source"><span class="line_number">978 </span>    <span class="keyword">subroutine</span> <strong>json_info</strong><span class="sign">(</span>p<span class="sign">,</span><a href="#robo2">var_type</a><span class="sign">,</span>n_children<span class="sign">)</span>
<span class="line_number">979 </span>
<span class="line_number">980 </span>    <span class="keyword">implicit</span> <span class="keyword">none</span>
<span class="line_number">981 </span>
<span class="line_number">982 </span>    <span class="keyword">type</span><span class="sign">(</span><a href="#robo4">json_value</a><span class="sign">)</span><span class="sign">,</span><span class="keyword">pointer</span>         <span class="sign">:</span><span class="sign">:</span> p
<span class="line_number">983 </span>    <span class="keyword">integer</span><span class="sign">(</span>IK<span class="sign">)</span><span class="sign">,</span><span class="keyword">intent</span><span class="sign">(</span>out<span class="sign">)</span><span class="sign">,</span><span class="keyword">optional</span> <span class="sign">:</span><span class="sign">:</span> <a href="#robo2">var_type</a>
<span class="line_number">984 </span>    <span class="keyword">integer</span><span class="sign">(</span>IK<span class="sign">)</span><span class="sign">,</span><span class="keyword">intent</span><span class="sign">(</span>out<span class="sign">)</span><span class="sign">,</span><span class="keyword">optional</span> <span class="sign">:</span><span class="sign">:</span> n_children
<span class="line_number">985 </span>
<span class="line_number">986 </span>    <span class="keyword">if</span> <span class="sign">(</span><span class="keyword">present</span><span class="sign">(</span><a href="#robo2">var_type</a><span class="sign">)</span><span class="sign">)</span>    <a href="#robo2">var_type</a> <span class="sign">=</span> p<span class="sign">%</span><a href="#robo2">var_type</a>  <span class="comment">!variable type</span>
<span class="line_number">987 </span>    <span class="keyword">if</span> <span class="sign">(</span><span class="keyword">present</span><span class="sign">(</span>n_children<span class="sign">)</span><span class="sign">)</span>  n_children <span class="sign">=</span> <a href="#robo24">json_count</a><span class="sign">(</span>p<span class="sign">)</span>  <span class="comment">!number of children</span>
<span class="line_number">988 </span>
<span class="line_number">989 </span>    <span class="keyword">end</span> <span class="keyword">subroutine</span> <strong>json_info</strong>
</pre>

<hr />
<a name="json5fmodule2fjson5finitialize"></a>
<a name="robo66"></a><h2>json_module/json_initialize [ Functions ]</h2>

<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo0">json_module</a> ] [ <a href="./robo_functions.html#robo_top_of_doc">Functions</a> ]</p>
<p class="item_name">NAME</p>
<p>    <strong>json_initialize</strong>
</p>
<p class="item_name">DESCRIPTION</p>
<p>    Initialize the json-fortran module.
    The routine must be called before any of the routines are used.
    It can also be called after using the module and encountering exceptions.
</p>
<p class="item_name">AUTHOR</p>
<p>    Jacob Williams : 12/4/2013
</p>
<p class="item_name">MODIFIED</p>
<p>    Izaak Beekman : 02/24/2015
</p>
<p class="item_name">SOURCE</p>
<pre class="source"><span class="line_number">1291 </span>    <span class="keyword">subroutine</span> <strong>json_initialize</strong><span class="sign">(</span>verbose<span class="sign">,</span>compact_reals<span class="sign">)</span>
<span class="line_number">1292 </span>
<span class="line_number">1293 </span>    <span class="keyword">implicit</span> <span class="keyword">none</span>
<span class="line_number">1294 </span>
<span class="line_number">1295 </span>    <span class="keyword">logical</span><span class="sign">(</span>LK<span class="sign">)</span><span class="sign">,</span><span class="keyword">intent</span><span class="sign">(</span>in<span class="sign">)</span><span class="sign">,</span><span class="keyword">optional</span> <span class="sign">:</span><span class="sign">:</span> verbose  <span class="comment">!mainly useful for debugging (default is false)</span>
<span class="line_number">1296 </span>    <span class="keyword">logical</span><span class="sign">(</span>LK<span class="sign">)</span><span class="sign">,</span><span class="keyword">intent</span><span class="sign">(</span>in<span class="sign">)</span><span class="sign">,</span><span class="keyword">optional</span> <span class="sign">:</span><span class="sign">:</span> compact_reals <span class="comment">!to compact the real number strings for output</span>
<span class="line_number">1297 </span>
<span class="line_number">1298 </span>    <span class="keyword">character</span><span class="sign">(</span><span class="keyword">kind</span><span class="sign">=</span>CK<span class="sign">,</span><span class="keyword">len</span><span class="sign">=</span>10<span class="sign">)</span> <span class="sign">:</span><span class="sign">:</span> w<span class="sign">,</span><span class="keyword">do</span><span class="sign">,</span>e
<span class="line_number">1299 </span>    <span class="keyword">integer</span><span class="sign">(</span>IK<span class="sign">)</span> <span class="sign">:</span><span class="sign">:</span> istat
<span class="line_number">1300 </span>
<span class="line_number">1301 </span>    <span class="comment">!clear any errors from previous runs:</span>
<span class="line_number">1302 </span>    <span class="keyword">call</span> <a href="#robo23">json_clear_exceptions</a><span class="sign">(</span><span class="sign">)</span>
<span class="line_number">1303 </span>
<span class="line_number">1304 </span>    <span class="comment">!optional inputs (if not present, values remains unchanged):</span>
<span class="line_number">1305 </span>    <span class="keyword">if</span> <span class="sign">(</span><span class="keyword">present</span><span class="sign">(</span>verbose<span class="sign">)</span><span class="sign">)</span>       is_verbose   <span class="sign">=</span> verbose
<span class="line_number">1306 </span>    <span class="keyword">if</span> <span class="sign">(</span><span class="keyword">present</span><span class="sign">(</span>compact_reals<span class="sign">)</span><span class="sign">)</span> compact_real <span class="sign">=</span> compact_reals  <span class="comment">!may be a bug here in Gfortran 5.0.0... check this...</span>
<span class="line_number">1307 </span>
<span class="line_number">1308 </span>    <span class="comment">! set the default output/input format for reals:</span>
<span class="line_number">1309 </span>    <span class="comment">!  [this only needs to be done once, since it can't change]</span>
<span class="line_number">1310 </span>    <span class="keyword">if</span> <span class="sign">(</span><span class="sign">.</span><span class="keyword">not</span><span class="sign">.</span> <span class="keyword">allocated</span><span class="sign">(</span>real_fmt<span class="sign">)</span><span class="sign">)</span> <span class="keyword">then</span>
<span class="line_number">1311 </span>                      <span class="keyword">write</span><span class="sign">(</span>w<span class="sign">,</span><span class="squote">'(I0)'</span><span class="sign">,</span>iostat<span class="sign">=</span>istat<span class="sign">)</span> max_numeric_str_len
<span class="line_number">1312 </span>        <span class="keyword">if</span> <span class="sign">(</span>istat<span class="sign">=</span><span class="sign">=</span>0<span class="sign">)</span> <span class="keyword">write</span><span class="sign">(</span><span class="keyword">do</span><span class="sign">,</span><span class="squote">'(I0)'</span><span class="sign">,</span>iostat<span class="sign">=</span>istat<span class="sign">)</span> real_precision
<span class="line_number">1313 </span>        <span class="keyword">if</span> <span class="sign">(</span>istat<span class="sign">=</span><span class="sign">=</span>0<span class="sign">)</span> <span class="keyword">write</span><span class="sign">(</span>e<span class="sign">,</span><span class="squote">'(I0)'</span><span class="sign">,</span>iostat<span class="sign">=</span>istat<span class="sign">)</span> real_exponent_digits
<span class="line_number">1314 </span>        <span class="keyword">if</span> <span class="sign">(</span>istat<span class="sign">=</span><span class="sign">=</span>0<span class="sign">)</span> <span class="keyword">then</span>
<span class="line_number">1315 </span>            real_fmt <span class="sign">=</span> <span class="squote">'(E'</span> <span class="sign">/</span><span class="sign">/</span> <span class="keyword">trim</span><span class="sign">(</span>w<span class="sign">)</span> <span class="sign">/</span><span class="sign">/</span> <span class="squote">'.'</span> <span class="sign">/</span><span class="sign">/</span> <span class="keyword">trim</span><span class="sign">(</span><span class="keyword">do</span><span class="sign">)</span> <span class="sign">/</span><span class="sign">/</span> <span class="squote">'E'</span> <span class="sign">/</span><span class="sign">/</span> <span class="keyword">trim</span><span class="sign">(</span>e<span class="sign">)</span> <span class="sign">/</span><span class="sign">/</span> <span class="squote">')'</span>
<span class="line_number">1316 </span>        <span class="keyword">else</span>
<span class="line_number">1317 </span>            real_fmt <span class="sign">=</span> <span class="squote">'(E30.16E3)'</span>  <span class="comment">!just use this one (should never happen)</span>
<span class="line_number">1318 </span>        <span class="keyword">end</span> <span class="keyword">if</span>
<span class="line_number">1319 </span>    <span class="keyword">end</span> <span class="keyword">if</span>
<span class="line_number">1320 </span>
<span class="line_number">1321 </span>    <span class="comment">!Just in case, clear these global variables also:</span>
<span class="line_number">1322 </span>    pushed_index <span class="sign">=</span> 0
<span class="line_number">1323 </span>    pushed_char  <span class="sign">=</span> <span class="squote">''</span>
<span class="line_number">1324 </span>    char_count   <span class="sign">=</span> 0
<span class="line_number">1325 </span>    line_count   <span class="sign">=</span> 1
<span class="line_number">1326 </span>
<span class="line_number">1327 </span>    <span class="keyword">end</span> <span class="keyword">subroutine</span> <strong>json_initialize</strong>
</pre>

<hr />
<a name="json5fmodule2fjson5fparse"></a>
<a name="robo67"></a><h2>json_module/json_parse [ Functions ]</h2>

<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo0">json_module</a> ] [ <a href="./robo_functions.html#robo_top_of_doc">Functions</a> ]</p>
<p class="item_name">NAME</p>
<p>    <strong>json_parse</strong>
</p>
<p class="item_name">DESCRIPTION</p>
<p>    Parse the JSON file and populate the <a href="#robo4">json_value</a> tree.
</p>
<p class="item_name">INPUTS</p>
<p>    The inputs can be:
</p>
<ul><li>    file and unit : the specified unit is used to read JSON from file.
                      [note if unit is already open, then the filename is ignored]
</li>
<li>    file          : JSON is read from file using internal unit number
</li>
<li>    str           : JSON data is read from the string instead
</li>
</ul>
<p></p>
<p class="item_name">EXAMPLE</p>
<p>    Consider the following example:
</p>
<pre>     type(<a href="#robo4">json_value</a>),pointer :: p
     call <strong>json_parse</strong>(file='myfile.json', p=p)
</pre>
<p></p>
<p class="item_name">NOTES</p>
<p>    When calling this routine, any exceptions thrown from previous
    calls will automatically be cleared.
</p>
<p class="item_name">HISTORY</p>
<p>    Jacob Williams : 1/13/2015 : added read from string option.
</p>
<p class="item_name">SOURCE</p>
<pre class="source"><span class="line_number">4059 </span>    <span class="keyword">subroutine</span> <strong>json_parse</strong><span class="sign">(</span>file<span class="sign">,</span> p<span class="sign">,</span> unit<span class="sign">,</span> str<span class="sign">)</span>
<span class="line_number">4060 </span>
<span class="line_number">4061 </span>    <span class="keyword">implicit</span> <span class="keyword">none</span>
<span class="line_number">4062 </span>
<span class="line_number">4063 </span>    <span class="keyword">character</span><span class="sign">(</span><span class="keyword">kind</span><span class="sign">=</span>CK<span class="sign">,</span><span class="keyword">len</span><span class="sign">=</span><span class="sign">*</span><span class="sign">)</span><span class="sign">,</span><span class="keyword">intent</span><span class="sign">(</span>in<span class="sign">)</span><span class="sign">,</span><span class="keyword">optional</span> <span class="sign">:</span><span class="sign">:</span> file  <span class="comment">!JSON file name</span>
<span class="line_number">4064 </span>    <span class="keyword">type</span><span class="sign">(</span><a href="#robo4">json_value</a><span class="sign">)</span><span class="sign">,</span><span class="keyword">pointer</span>                     <span class="sign">:</span><span class="sign">:</span> p     <span class="comment">!output structure</span>
<span class="line_number">4065 </span>    <span class="keyword">integer</span><span class="sign">(</span>IK<span class="sign">)</span><span class="sign">,</span><span class="keyword">intent</span><span class="sign">(</span>in<span class="sign">)</span><span class="sign">,</span><span class="keyword">optional</span>              <span class="sign">:</span><span class="sign">:</span> unit  <span class="comment">!file unit number (/= 0)</span>
<span class="line_number">4066 </span>    <span class="keyword">character</span><span class="sign">(</span><span class="keyword">kind</span><span class="sign">=</span>CK<span class="sign">,</span><span class="keyword">len</span><span class="sign">=</span><span class="sign">*</span><span class="sign">)</span><span class="sign">,</span><span class="keyword">intent</span><span class="sign">(</span>in<span class="sign">)</span><span class="sign">,</span><span class="keyword">optional</span> <span class="sign">:</span><span class="sign">:</span> str   <span class="comment">!string with JSON data</span>
<span class="line_number">4067 </span>
<span class="line_number">4068 </span>    <span class="keyword">integer</span><span class="sign">(</span>IK<span class="sign">)</span> <span class="sign">:</span><span class="sign">:</span> iunit<span class="sign">,</span> istat<span class="sign">,</span> i<span class="sign">,</span> i_nl_prev<span class="sign">,</span> i_nl
<span class="line_number">4069 </span>    <span class="keyword">character</span><span class="sign">(</span><span class="keyword">kind</span><span class="sign">=</span>CK<span class="sign">,</span><span class="keyword">len</span><span class="sign">=</span><span class="sign">:</span><span class="sign">)</span><span class="sign">,</span><span class="keyword">allocatable</span> <span class="sign">:</span><span class="sign">:</span> line<span class="sign">,</span> arrow_str
<span class="line_number">4070 </span>    <span class="keyword">character</span><span class="sign">(</span><span class="keyword">kind</span><span class="sign">=</span>CK<span class="sign">,</span><span class="keyword">len</span><span class="sign">=</span>10<span class="sign">)</span> <span class="sign">:</span><span class="sign">:</span> line_str<span class="sign">,</span> char_str
<span class="line_number">4071 </span>    <span class="keyword">logical</span><span class="sign">(</span>LK<span class="sign">)</span> <span class="sign">:</span><span class="sign">:</span> is_open
<span class="line_number">4072 </span>    <span class="keyword">character</span><span class="sign">(</span><span class="keyword">len</span><span class="sign">=</span><span class="sign">:</span><span class="sign">)</span><span class="sign">,</span><span class="keyword">allocatable</span> <span class="sign">:</span><span class="sign">:</span> buffer
<span class="line_number">4073 </span>
<span class="line_number">4074 </span>    <span class="comment">!clear any exceptions and initialize:</span>
<span class="line_number">4075 </span>    <span class="keyword">call</span> <a href="#robo66">json_initialize</a><span class="sign">(</span><span class="sign">)</span>
<span class="line_number">4076 </span>
<span class="line_number">4077 </span>    <span class="keyword">if</span> <span class="sign">(</span><span class="keyword">present</span><span class="sign">(</span>unit<span class="sign">)</span> <span class="sign">.</span>and<span class="sign">.</span> <span class="keyword">present</span><span class="sign">(</span>file<span class="sign">)</span> <span class="sign">.</span>and<span class="sign">.</span> <span class="sign">.</span><span class="keyword">not</span><span class="sign">.</span> <span class="keyword">present</span><span class="sign">(</span>str<span class="sign">)</span><span class="sign">)</span> <span class="keyword">then</span>
<span class="line_number">4078 </span>
<span class="line_number">4079 </span>        <span class="keyword">if</span> <span class="sign">(</span>unit<span class="sign">=</span><span class="sign">=</span>0<span class="sign">)</span> <span class="keyword">then</span>
<span class="line_number">4080 </span>            <span class="keyword">call</span> throw_exception<span class="sign">(</span><span class="squote">'Error in <strong>json_parse</strong>: unit number must not be 0.'</span><span class="sign">)</span>
<span class="line_number">4081 </span>            <span class="keyword">return</span>
<span class="line_number">4082 </span>        <span class="keyword">end</span> <span class="keyword">if</span>
<span class="line_number">4083 </span>
<span class="line_number">4084 </span>        iunit <span class="sign">=</span> unit
<span class="line_number">4085 </span>
<span class="line_number">4086 </span>        <span class="comment">!check to see if the file is already open</span>
<span class="line_number">4087 </span>        <span class="comment">! if it is, then use it, otherwise open the file with the name given.</span>
<span class="line_number">4088 </span>        <span class="keyword">inquire</span><span class="sign">(</span>unit<span class="sign">=</span>iunit<span class="sign">,</span> opened<span class="sign">=</span>is_open<span class="sign">,</span> iostat<span class="sign">=</span>istat<span class="sign">)</span>
<span class="line_number">4089 </span>        <span class="keyword">if</span> <span class="sign">(</span>istat<span class="sign">=</span><span class="sign">=</span>0 <span class="sign">.</span>and<span class="sign">.</span> <span class="sign">.</span><span class="keyword">not</span><span class="sign">.</span> is_open<span class="sign">)</span> <span class="keyword">then</span>
<span class="line_number">4090 </span>           <span class="comment">! open the file</span>
<span class="line_number">4091 </span>            <span class="keyword">open</span> <span class="sign">(</span>  unit        <span class="sign">=</span> iunit<span class="sign">,</span> <span class="sign">&amp;</span>
<span class="line_number">4092 </span>                    file        <span class="sign">=</span> file<span class="sign">,</span> <span class="sign">&amp;</span>
<span class="line_number">4093 </span>                    status      <span class="sign">=</span> <span class="squote">'OLD'</span><span class="sign">,</span> <span class="sign">&amp;</span>
<span class="line_number">4094 </span>                    action      <span class="sign">=</span> <span class="squote">'READ'</span><span class="sign">,</span> <span class="sign">&amp;</span>
<span class="line_number">4095 </span>                    form        <span class="sign">=</span> <span class="squote">'FORMATTED'</span><span class="sign">,</span> <span class="sign">&amp;</span>
<span class="line_number">4096 </span>                    position    <span class="sign">=</span> <span class="squote">'REWIND'</span><span class="sign">,</span> <span class="sign">&amp;</span>
<span class="line_number">4097 </span>                    iostat      <span class="sign">=</span> istat<span class="sign">)</span>
<span class="line_number">4098 </span>        <span class="keyword">end</span> <span class="keyword">if</span>
<span class="line_number">4099 </span>
<span class="line_number">4100 </span>    elseif <span class="sign">(</span><span class="sign">.</span><span class="keyword">not</span><span class="sign">.</span> <span class="keyword">present</span><span class="sign">(</span>unit<span class="sign">)</span> <span class="sign">.</span>and<span class="sign">.</span> <span class="keyword">present</span><span class="sign">(</span>file<span class="sign">)</span> <span class="sign">.</span>and<span class="sign">.</span> <span class="sign">.</span><span class="keyword">not</span><span class="sign">.</span> <span class="keyword">present</span><span class="sign">(</span>str<span class="sign">)</span><span class="sign">)</span> <span class="keyword">then</span>
<span class="line_number">4101 </span>
<span class="line_number">4102 </span>        <span class="comment">! open the file with a new unit number:</span>
<span class="line_number">4103 </span>        <span class="keyword">open</span> <span class="sign">(</span>  newunit     <span class="sign">=</span> iunit<span class="sign">,</span> <span class="sign">&amp;</span>
<span class="line_number">4104 </span>                file        <span class="sign">=</span> file<span class="sign">,</span> <span class="sign">&amp;</span>
<span class="line_number">4105 </span>                status      <span class="sign">=</span> <span class="squote">'OLD'</span><span class="sign">,</span> <span class="sign">&amp;</span>
<span class="line_number">4106 </span>                action      <span class="sign">=</span> <span class="squote">'READ'</span><span class="sign">,</span> <span class="sign">&amp;</span>
<span class="line_number">4107 </span>                form        <span class="sign">=</span> <span class="squote">'FORMATTED'</span><span class="sign">,</span> <span class="sign">&amp;</span>
<span class="line_number">4108 </span>                position    <span class="sign">=</span> <span class="squote">'REWIND'</span><span class="sign">,</span> <span class="sign">&amp;</span>
<span class="line_number">4109 </span>                iostat      <span class="sign">=</span> istat<span class="sign">)</span>
<span class="line_number">4110 </span>
<span class="line_number">4111 </span>    elseif <span class="sign">(</span><span class="sign">.</span><span class="keyword">not</span><span class="sign">.</span> <span class="keyword">present</span><span class="sign">(</span>unit<span class="sign">)</span> <span class="sign">.</span>and<span class="sign">.</span> <span class="sign">.</span><span class="keyword">not</span><span class="sign">.</span> <span class="keyword">present</span><span class="sign">(</span>file<span class="sign">)</span> <span class="sign">.</span>and<span class="sign">.</span> <span class="keyword">present</span><span class="sign">(</span>str<span class="sign">)</span><span class="sign">)</span> <span class="keyword">then</span>
<span class="line_number">4112 </span>
<span class="line_number">4113 </span>        buffer <span class="sign">=</span> str
<span class="line_number">4114 </span>        iunit <span class="sign">=</span> 0    <span class="comment">!indicates that json data will be read from buffer</span>
<span class="line_number">4115 </span>        istat <span class="sign">=</span> 0
<span class="line_number">4116 </span>
<span class="line_number">4117 </span>    <span class="keyword">else</span>
<span class="line_number">4118 </span>        <span class="keyword">call</span> throw_exception<span class="sign">(</span><span class="squote">'Error in <strong>json_parse</strong>: Invalid inputs'</span><span class="sign">)</span>
<span class="line_number">4119 </span>        <span class="keyword">return</span>
<span class="line_number">4120 </span>    <span class="keyword">end</span> <span class="keyword">if</span>
<span class="line_number">4121 </span>
<span class="line_number">4122 </span>    <span class="keyword">if</span> <span class="sign">(</span>istat<span class="sign">=</span><span class="sign">=</span>0<span class="sign">)</span> <span class="keyword">then</span>
<span class="line_number">4123 </span>
<span class="line_number">4124 </span>        <span class="comment">! create the value and associate the pointer</span>
<span class="line_number">4125 </span>        <span class="keyword">call</span> json_value_create<span class="sign">(</span>p<span class="sign">)</span>
<span class="line_number">4126 </span>
<span class="line_number">4127 </span>        <span class="comment">! Note: the name of the root <a href="#robo4">json_value</a> doesn't really matter,</span>
<span class="line_number">4128 </span>        <span class="comment">!  but we'll allocate something here just in case.</span>
<span class="line_number">4129 </span>        <span class="keyword">if</span> <span class="sign">(</span><span class="keyword">present</span><span class="sign">(</span>file<span class="sign">)</span><span class="sign">)</span> <span class="keyword">then</span>
<span class="line_number">4130 </span>            p<span class="sign">%</span>name <span class="sign">=</span> <span class="keyword">trim</span><span class="sign">(</span>file<span class="sign">)</span>  <span class="comment">!use the file name</span>
<span class="line_number">4131 </span>        <span class="keyword">else</span>
<span class="line_number">4132 </span>            p<span class="sign">%</span>name <span class="sign">=</span> <span class="squote">''</span>          <span class="comment">!if reading it from the string</span>
<span class="line_number">4133 </span>        <span class="keyword">end</span> <span class="keyword">if</span>
<span class="line_number">4134 </span>
<span class="line_number">4135 </span>        <span class="comment">! parse as a value</span>
<span class="line_number">4136 </span>        <span class="keyword">call</span> parse_value<span class="sign">(</span>unit<span class="sign">=</span>iunit<span class="sign">,</span> str<span class="sign">=</span>buffer<span class="sign">,</span> <span class="keyword">value</span><span class="sign">=</span>p<span class="sign">)</span>
<span class="line_number">4137 </span>
<span class="line_number">4138 </span>        <span class="comment">! cleanup:</span>
<span class="line_number">4139 </span>        <span class="keyword">if</span> <span class="sign">(</span><span class="keyword">allocated</span><span class="sign">(</span>buffer<span class="sign">)</span><span class="sign">)</span> <span class="keyword">deallocate</span><span class="sign">(</span>buffer<span class="sign">)</span>
<span class="line_number">4140 </span>
<span class="line_number">4141 </span>        <span class="comment">!</span>
<span class="line_number">4142 </span>        <span class="comment">!  If there was an error reading the file, then</span>
<span class="line_number">4143 </span>        <span class="comment">!   print the line where the error occurred:</span>
<span class="line_number">4144 </span>        <span class="comment">!</span>
<span class="line_number">4145 </span>        <span class="keyword">if</span> <span class="sign">(</span>exception_thrown<span class="sign">)</span> <span class="keyword">then</span>
<span class="line_number">4146 </span>
<span class="line_number">4147 </span>            <span class="comment">!the counters for the current line and the last character read:</span>
<span class="line_number">4148 </span>            <span class="keyword">call</span> integer_to_string<span class="sign">(</span>line_count<span class="sign">,</span> line_str<span class="sign">)</span>
<span class="line_number">4149 </span>            <span class="keyword">call</span> integer_to_string<span class="sign">(</span>char_count<span class="sign">,</span> char_str<span class="sign">)</span>
<span class="line_number">4150 </span>
<span class="line_number">4151 </span>            <span class="comment">!draw the arrow string that points to the current character:</span>
<span class="line_number">4152 </span>            arrow_str <span class="sign">=</span> <span class="keyword">repeat</span><span class="sign">(</span><span class="squote">'-'</span><span class="sign">,</span><span class="keyword">max</span><span class="sign">(</span> 0<span class="sign">,</span> char_count <span class="sign">-</span> 1<span class="sign">)</span> <span class="sign">)</span><span class="sign">/</span><span class="sign">/</span><span class="squote">'^'</span>
<span class="line_number">4153 </span>
<span class="line_number">4154 </span>            <span class="keyword">if</span> <span class="sign">(</span>iunit<span class="sign">/</span><span class="sign">=</span>0<span class="sign">)</span> <span class="keyword">then</span>
<span class="line_number">4155 </span>
<span class="line_number">4156 </span>                <span class="keyword">call</span> get_current_line_from_file<span class="sign">(</span>iunit<span class="sign">,</span>line<span class="sign">)</span>
<span class="line_number">4157 </span>
<span class="line_number">4158 </span>            <span class="keyword">else</span>
<span class="line_number">4159 </span>
<span class="line_number">4160 </span>                <span class="comment">!get the current line from the string:</span>
<span class="line_number">4161 </span>                <span class="comment">! [this is done by counting the newline characters]</span>
<span class="line_number">4162 </span>                i_nl_prev <span class="sign">=</span> 0  <span class="comment">!index of previous newline character</span>
<span class="line_number">4163 </span>                <span class="keyword">do</span> i<span class="sign">=</span>1<span class="sign">,</span>line_count
<span class="line_number">4164 </span>                    i_nl <span class="sign">=</span> <span class="keyword">index</span><span class="sign">(</span>str<span class="sign">(</span>i_nl_prev<span class="sign">+</span>1<span class="sign">:</span><span class="sign">)</span><span class="sign">,</span>newline<span class="sign">)</span>
<span class="line_number">4165 </span>                    <span class="keyword">if</span> <span class="sign">(</span>i_nl<span class="sign">=</span><span class="sign">=</span>0<span class="sign">)</span> <span class="keyword">then</span>   <span class="comment">!last line - no newline character</span>
<span class="line_number">4166 </span>                        i_nl <span class="sign">=</span> <span class="keyword">len</span><span class="sign">(</span>str<span class="sign">)</span><span class="sign">+</span>1
<span class="line_number">4167 </span>                        <span class="keyword">exit</span>
<span class="line_number">4168 </span>                    <span class="keyword">end</span> <span class="keyword">if</span>
<span class="line_number">4169 </span>                    i_nl <span class="sign">=</span> i_nl <span class="sign">+</span> i_nl_prev   <span class="comment">!index of current newline character</span>
<span class="line_number">4170 </span>                    i_nl_prev <span class="sign">=</span> i_nl          <span class="comment">!update for next iteration</span>
<span class="line_number">4171 </span>                <span class="keyword">end</span> <span class="keyword">do</span>
<span class="line_number">4172 </span>                line <span class="sign">=</span> str<span class="sign">(</span>i_nl_prev<span class="sign">+</span>1 <span class="sign">:</span> i_nl<span class="sign">-</span>1<span class="sign">)</span>  <span class="comment">!extract current line</span>
<span class="line_number">4173 </span>
<span class="line_number">4174 </span>            <span class="keyword">end</span> <span class="keyword">if</span>
<span class="line_number">4175 </span>
<span class="line_number">4176 </span>            <span class="comment">!create the error message:</span>
<span class="line_number">4177 </span>            err_message <span class="sign">=</span> err_message<span class="sign">/</span><span class="sign">/</span>newline<span class="sign">/</span><span class="sign">/</span><span class="sign">&amp;</span>
<span class="line_number">4178 </span>                           <span class="squote">'line: '</span><span class="sign">/</span><span class="sign">/</span><span class="keyword">trim</span><span class="sign">(</span><span class="keyword">adjustl</span><span class="sign">(</span>line_str<span class="sign">)</span><span class="sign">)</span><span class="sign">/</span><span class="sign">/</span><span class="squote">', '</span><span class="sign">/</span><span class="sign">/</span><span class="sign">&amp;</span>
<span class="line_number">4179 </span>                           <span class="squote">'character: '</span><span class="sign">/</span><span class="sign">/</span><span class="keyword">trim</span><span class="sign">(</span><span class="keyword">adjustl</span><span class="sign">(</span>char_str<span class="sign">)</span><span class="sign">)</span><span class="sign">/</span><span class="sign">/</span>newline<span class="sign">/</span><span class="sign">/</span><span class="sign">&amp;</span>
<span class="line_number">4180 </span>                           <span class="keyword">trim</span><span class="sign">(</span>line<span class="sign">)</span><span class="sign">/</span><span class="sign">/</span>newline<span class="sign">/</span><span class="sign">/</span>arrow_str
<span class="line_number">4181 </span>
<span class="line_number">4182 </span>            <span class="keyword">if</span> <span class="sign">(</span><span class="keyword">allocated</span><span class="sign">(</span>line<span class="sign">)</span><span class="sign">)</span> <span class="keyword">deallocate</span><span class="sign">(</span>line<span class="sign">)</span>
<span class="line_number">4183 </span>
<span class="line_number">4184 </span>        <span class="keyword">end</span> <span class="keyword">if</span>
<span class="line_number">4185 </span>
<span class="line_number">4186 </span>        <span class="comment">! close the file if necessary</span>
<span class="line_number">4187 </span>        <span class="keyword">if</span> <span class="sign">(</span>iunit<span class="sign">/</span><span class="sign">=</span>0<span class="sign">)</span> <span class="keyword">close</span><span class="sign">(</span>unit<span class="sign">=</span>iunit<span class="sign">,</span> iostat<span class="sign">=</span>istat<span class="sign">)</span>
<span class="line_number">4188 </span>
<span class="line_number">4189 </span>    <span class="keyword">else</span>
<span class="line_number">4190 </span>
<span class="line_number">4191 </span>        <span class="keyword">call</span> throw_exception<span class="sign">(</span><span class="squote">'Error in <strong>json_parse</strong>: Error opening file: '</span><span class="sign">/</span><span class="sign">/</span><span class="keyword">trim</span><span class="sign">(</span>file<span class="sign">)</span><span class="sign">)</span>
<span class="line_number">4192 </span>        <span class="keyword">nullify</span><span class="sign">(</span>p<span class="sign">)</span>
<span class="line_number">4193 </span>
<span class="line_number">4194 </span>    <span class="keyword">end</span> <span class="keyword">if</span>
<span class="line_number">4195 </span>
<span class="line_number">4196 </span>    <span class="keyword">end</span> <span class="keyword">subroutine</span> <strong>json_parse</strong>
</pre>

<hr />
<a name="json5fmodule2fjson5fprint5f1"></a>
<a name="robo68"></a><h2>json_module/json_print_1 [ Functions ]</h2>

<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo0">json_module</a> ] [ <a href="./robo_functions.html#robo_top_of_doc">Functions</a> ]</p>
<p class="item_name">NAME</p>
<p>    <strong>json_print_1</strong>
</p>
<p class="item_name">DESCRIPTION</p>
<p>    Print the JSON structure to a file.
</p>
<p class="item_name">INPUT</p>
<p>    iunit is the nonzero file unit (the file must already have been opened).
</p>
<p class="item_name">AUTHOR</p>
<p>    Jacob Williams, 6/20/2014
</p>
<p class="item_name">SOURCE</p>
<pre class="source"><span class="line_number">2694 </span>    <span class="keyword">subroutine</span> <strong>json_print_1</strong><span class="sign">(</span>me<span class="sign">,</span>iunit<span class="sign">)</span>
<span class="line_number">2695 </span>
<span class="line_number">2696 </span>    <span class="keyword">implicit</span> <span class="keyword">none</span>
<span class="line_number">2697 </span>
<span class="line_number">2698 </span>    <span class="keyword">type</span><span class="sign">(</span><a href="#robo4">json_value</a><span class="sign">)</span><span class="sign">,</span><span class="keyword">pointer</span><span class="sign">,</span><span class="keyword">intent</span><span class="sign">(</span>in<span class="sign">)</span> <span class="sign">:</span><span class="sign">:</span> me
<span class="line_number">2699 </span>    <span class="keyword">integer</span><span class="sign">(</span>IK<span class="sign">)</span><span class="sign">,</span><span class="keyword">intent</span><span class="sign">(</span>in<span class="sign">)</span>              <span class="sign">:</span><span class="sign">:</span> iunit    <span class="comment">!must be non-zero</span>
<span class="line_number">2700 </span>
<span class="line_number">2701 </span>    <span class="keyword">character</span><span class="sign">(</span><span class="keyword">kind</span><span class="sign">=</span>CK<span class="sign">,</span><span class="keyword">len</span><span class="sign">=</span><span class="sign">:</span><span class="sign">)</span><span class="sign">,</span><span class="keyword">allocatable</span> <span class="sign">:</span><span class="sign">:</span> dummy
<span class="line_number">2702 </span>
<span class="line_number">2703 </span>    <span class="keyword">if</span> <span class="sign">(</span>iunit<span class="sign">/</span><span class="sign">=</span>0<span class="sign">)</span> <span class="keyword">then</span>
<span class="line_number">2704 </span>        <span class="keyword">call</span> json_value_print<span class="sign">(</span>me<span class="sign">,</span>iunit<span class="sign">,</span>str<span class="sign">=</span>dummy<span class="sign">,</span> indent<span class="sign">=</span>1<span class="sign">,</span> colon<span class="sign">=</span><span class="sign">.</span>true<span class="sign">.</span><span class="sign">)</span>
<span class="line_number">2705 </span>    <span class="keyword">else</span>
<span class="line_number">2706 </span>        <span class="keyword">call</span> throw_exception<span class="sign">(</span><span class="squote">'Error in <a href="#robo9">json_print</a>: iunit must be nonzero.'</span><span class="sign">)</span>
<span class="line_number">2707 </span>    <span class="keyword">end</span> <span class="keyword">if</span>
<span class="line_number">2708 </span>
<span class="line_number">2709 </span>    <span class="keyword">end</span> <span class="keyword">subroutine</span> <strong>json_print_1</strong>
</pre>

<hr />
<a name="json5fmodule2fjson5fprint5f2"></a>
<a name="robo69"></a><h2>json_module/json_print_2 [ Functions ]</h2>

<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo0">json_module</a> ] [ <a href="./robo_functions.html#robo_top_of_doc">Functions</a> ]</p>
<p class="item_name">NAME</p>
<p>    <strong>json_print_2</strong>
</p>
<p class="item_name">DESCRIPTION</p>
<p>    Print the JSON structure to a file.
</p>
<p class="item_name">INPUT</p>
<p>    Input is the filename.
</p>
<p class="item_name">AUTHOR</p>
<p>    Jacob Williams, 12/23/2014
</p>
<p class="item_name">SOURCE</p>
<pre class="source"><span class="line_number">2728 </span>    <span class="keyword">subroutine</span> <strong>json_print_2</strong><span class="sign">(</span>me<span class="sign">,</span>filename<span class="sign">)</span>
<span class="line_number">2729 </span>
<span class="line_number">2730 </span>    <span class="keyword">implicit</span> <span class="keyword">none</span>
<span class="line_number">2731 </span>
<span class="line_number">2732 </span>    <span class="keyword">type</span><span class="sign">(</span><a href="#robo4">json_value</a><span class="sign">)</span><span class="sign">,</span><span class="keyword">pointer</span><span class="sign">,</span><span class="keyword">intent</span><span class="sign">(</span>in<span class="sign">)</span> <span class="sign">:</span><span class="sign">:</span> me
<span class="line_number">2733 </span>    <span class="keyword">character</span><span class="sign">(</span><span class="keyword">kind</span><span class="sign">=</span>CK<span class="sign">,</span><span class="keyword">len</span><span class="sign">=</span><span class="sign">*</span><span class="sign">)</span><span class="sign">,</span><span class="keyword">intent</span><span class="sign">(</span>in<span class="sign">)</span> <span class="sign">:</span><span class="sign">:</span> filename
<span class="line_number">2734 </span>
<span class="line_number">2735 </span>    <span class="keyword">integer</span><span class="sign">(</span>IK<span class="sign">)</span> <span class="sign">:</span><span class="sign">:</span> iunit<span class="sign">,</span>istat
<span class="line_number">2736 </span>
<span class="line_number">2737 </span>    <span class="keyword">open</span><span class="sign">(</span>newunit<span class="sign">=</span>iunit<span class="sign">,</span>file<span class="sign">=</span>filename<span class="sign">,</span>status<span class="sign">=</span><span class="squote">'REPLACE'</span><span class="sign">,</span>iostat<span class="sign">=</span>istat<span class="sign">)</span>
<span class="line_number">2738 </span>    <span class="keyword">if</span> <span class="sign">(</span>istat<span class="sign">=</span><span class="sign">=</span>0<span class="sign">)</span> <span class="keyword">then</span>
<span class="line_number">2739 </span>        <span class="keyword">call</span> <a href="#robo9">json_print</a><span class="sign">(</span>me<span class="sign">,</span>iunit<span class="sign">)</span>
<span class="line_number">2740 </span>        <span class="keyword">close</span><span class="sign">(</span>iunit<span class="sign">,</span>iostat<span class="sign">=</span>istat<span class="sign">)</span>
<span class="line_number">2741 </span>    <span class="keyword">else</span>
<span class="line_number">2742 </span>        <span class="keyword">call</span> throw_exception<span class="sign">(</span><span class="squote">'Error in <a href="#robo9">json_print</a>: could not open file: '</span><span class="sign">/</span><span class="sign">/</span><span class="sign">&amp;</span>
<span class="line_number">2743 </span>                              <span class="keyword">trim</span><span class="sign">(</span>filename<span class="sign">)</span><span class="sign">)</span>
<span class="line_number">2744 </span>    <span class="keyword">end</span> <span class="keyword">if</span>
<span class="line_number">2745 </span>
<span class="line_number">2746 </span>    <span class="keyword">end</span> <span class="keyword">subroutine</span> <strong>json_print_2</strong>
</pre>

<hr />
<a name="json5fmodule2fjson5fupdate5fdouble"></a>
<a name="robo70"></a><h2>json_module/json_update_double [ Functions ]</h2>

<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo0">json_module</a> ] [ <a href="./robo_functions.html#robo_top_of_doc">Functions</a> ]</p>
<p class="item_name">NAME</p>
<p>    <strong>json_update_double</strong>
</p>
<p class="item_name">DESCRIPTION</p>
<p>    Given the path string, if the variable is present,
    and is a scalar, then update its value.
    If it is not present, then create it and set its value.
</p>
<p class="item_name">AUTHOR</p>
<p>    Jacob Williams : 12/6/2014
</p>
<p class="item_name">SOURCE</p>
<pre class="source"><span class="line_number">1901 </span>    <span class="keyword">subroutine</span> <strong>json_update_double</strong><span class="sign">(</span>p<span class="sign">,</span>name<span class="sign">,</span>val<span class="sign">,</span>found<span class="sign">)</span>
<span class="line_number">1902 </span>
<span class="line_number">1903 </span>    <span class="keyword">implicit</span> <span class="keyword">none</span>
<span class="line_number">1904 </span>
<span class="line_number">1905 </span>    <span class="keyword">type</span><span class="sign">(</span><a href="#robo4">json_value</a><span class="sign">)</span><span class="sign">,</span><span class="keyword">pointer</span>            <span class="sign">:</span><span class="sign">:</span> p
<span class="line_number">1906 </span>    <span class="keyword">character</span><span class="sign">(</span><span class="keyword">kind</span><span class="sign">=</span>CK<span class="sign">,</span><span class="keyword">len</span><span class="sign">=</span><span class="sign">*</span><span class="sign">)</span><span class="sign">,</span><span class="keyword">intent</span><span class="sign">(</span>in<span class="sign">)</span> <span class="sign">:</span><span class="sign">:</span> name
<span class="line_number">1907 </span>    <span class="keyword">real</span><span class="sign">(</span>RK<span class="sign">)</span><span class="sign">,</span><span class="keyword">intent</span><span class="sign">(</span>in<span class="sign">)</span>                 <span class="sign">:</span><span class="sign">:</span> val
<span class="line_number">1908 </span>    <span class="keyword">logical</span><span class="sign">(</span>LK<span class="sign">)</span><span class="sign">,</span><span class="keyword">intent</span><span class="sign">(</span>out<span class="sign">)</span>             <span class="sign">:</span><span class="sign">:</span> found
<span class="line_number">1909 </span>
<span class="line_number">1910 </span>    <span class="keyword">type</span><span class="sign">(</span><a href="#robo4">json_value</a><span class="sign">)</span><span class="sign">,</span><span class="keyword">pointer</span> <span class="sign">:</span><span class="sign">:</span> p_var
<span class="line_number">1911 </span>    <span class="keyword">integer</span><span class="sign">(</span>IK<span class="sign">)</span> <span class="sign">:</span><span class="sign">:</span> <a href="#robo2">var_type</a>
<span class="line_number">1912 </span>
<span class="line_number">1913 </span>    <span class="keyword">call</span> <a href="#robo7">json_get</a><span class="sign">(</span>p<span class="sign">,</span>name<span class="sign">,</span>p_var<span class="sign">,</span>found<span class="sign">)</span>
<span class="line_number">1914 </span>    <span class="keyword">if</span> <span class="sign">(</span>found<span class="sign">)</span> <span class="keyword">then</span>
<span class="line_number">1915 </span>
<span class="line_number">1916 </span>        <span class="keyword">call</span> <a href="#robo65">json_info</a><span class="sign">(</span>p_var<span class="sign">,</span><a href="#robo2">var_type</a><span class="sign">)</span>
<span class="line_number">1917 </span>        <span class="keyword">select</span> <span class="keyword">case</span> <span class="sign">(</span><a href="#robo2">var_type</a><span class="sign">)</span>
<span class="line_number">1918 </span>        <span class="keyword">case</span> <span class="sign">(</span>json_null<span class="sign">,</span>json_logical<span class="sign">,</span>json_integer<span class="sign">,</span>json_double<span class="sign">,</span>json_string<span class="sign">)</span>
<span class="line_number">1919 </span>            <span class="keyword">call</span> to_double<span class="sign">(</span>p_var<span class="sign">,</span>val<span class="sign">)</span>    <span class="comment">!update the value</span>
<span class="line_number">1920 </span>        <span class="keyword">case</span> default
<span class="line_number">1921 </span>            found <span class="sign">=</span> <span class="sign">.</span>false<span class="sign">.</span>
<span class="line_number">1922 </span>            <span class="keyword">call</span> throw_exception<span class="sign">(</span><span class="squote">'Error in <strong>json_update_double</strong>: '</span><span class="sign">/</span><span class="sign">/</span><span class="sign">&amp;</span>
<span class="line_number">1923 </span>                                 <span class="squote">'the variable is not a scalar value'</span><span class="sign">)</span>
<span class="line_number">1924 </span>        <span class="keyword">end</span> <span class="keyword">select</span>
<span class="line_number">1925 </span>
<span class="line_number">1926 </span>    <span class="keyword">else</span>
<span class="line_number">1927 </span>        <span class="keyword">call</span> <a href="#robo5">json_add</a><span class="sign">(</span>p<span class="sign">,</span>name<span class="sign">,</span>val<span class="sign">)</span>   <span class="comment">!add the new element</span>
<span class="line_number">1928 </span>    <span class="keyword">end</span> <span class="keyword">if</span>
<span class="line_number">1929 </span>
<span class="line_number">1930 </span>    <span class="keyword">end</span> <span class="keyword">subroutine</span> <strong>json_update_double</strong>
</pre>

<hr />
<a name="json5fmodule2fjson5fupdate5finteger"></a>
<a name="robo71"></a><h2>json_module/json_update_integer [ Functions ]</h2>

<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo0">json_module</a> ] [ <a href="./robo_functions.html#robo_top_of_doc">Functions</a> ]</p>
<p class="item_name">NAME</p>
<p>    <strong>json_update_integer</strong>
</p>
<p class="item_name">DESCRIPTION</p>
<p>    Given the path string, if the variable is present,
    and is a scalar, then update its value.
    If it is not present, then create it and set its value.
</p>
<p class="item_name">AUTHOR</p>
<p>    Jacob Williams : 12/6/2014
</p>
<p class="item_name">SOURCE</p>
<pre class="source"><span class="line_number">1949 </span>    <span class="keyword">subroutine</span> <strong>json_update_integer</strong><span class="sign">(</span>p<span class="sign">,</span>name<span class="sign">,</span>val<span class="sign">,</span>found<span class="sign">)</span>
<span class="line_number">1950 </span>
<span class="line_number">1951 </span>    <span class="keyword">implicit</span> <span class="keyword">none</span>
<span class="line_number">1952 </span>
<span class="line_number">1953 </span>    <span class="keyword">type</span><span class="sign">(</span><a href="#robo4">json_value</a><span class="sign">)</span><span class="sign">,</span><span class="keyword">pointer</span>            <span class="sign">:</span><span class="sign">:</span> p
<span class="line_number">1954 </span>    <span class="keyword">character</span><span class="sign">(</span><span class="keyword">kind</span><span class="sign">=</span>CK<span class="sign">,</span><span class="keyword">len</span><span class="sign">=</span><span class="sign">*</span><span class="sign">)</span><span class="sign">,</span><span class="keyword">intent</span><span class="sign">(</span>in<span class="sign">)</span> <span class="sign">:</span><span class="sign">:</span> name
<span class="line_number">1955 </span>    <span class="keyword">integer</span><span class="sign">(</span>IK<span class="sign">)</span><span class="sign">,</span><span class="keyword">intent</span><span class="sign">(</span>in<span class="sign">)</span>              <span class="sign">:</span><span class="sign">:</span> val
<span class="line_number">1956 </span>    <span class="keyword">logical</span><span class="sign">(</span>LK<span class="sign">)</span><span class="sign">,</span><span class="keyword">intent</span><span class="sign">(</span>out<span class="sign">)</span>             <span class="sign">:</span><span class="sign">:</span> found
<span class="line_number">1957 </span>
<span class="line_number">1958 </span>    <span class="keyword">type</span><span class="sign">(</span><a href="#robo4">json_value</a><span class="sign">)</span><span class="sign">,</span><span class="keyword">pointer</span> <span class="sign">:</span><span class="sign">:</span> p_var
<span class="line_number">1959 </span>    <span class="keyword">integer</span><span class="sign">(</span>IK<span class="sign">)</span> <span class="sign">:</span><span class="sign">:</span> <a href="#robo2">var_type</a>
<span class="line_number">1960 </span>
<span class="line_number">1961 </span>    <span class="keyword">call</span> <a href="#robo7">json_get</a><span class="sign">(</span>p<span class="sign">,</span>name<span class="sign">,</span>p_var<span class="sign">,</span>found<span class="sign">)</span>
<span class="line_number">1962 </span>    <span class="keyword">if</span> <span class="sign">(</span>found<span class="sign">)</span> <span class="keyword">then</span>
<span class="line_number">1963 </span>
<span class="line_number">1964 </span>        <span class="keyword">call</span> <a href="#robo65">json_info</a><span class="sign">(</span>p_var<span class="sign">,</span><a href="#robo2">var_type</a><span class="sign">)</span>
<span class="line_number">1965 </span>        <span class="keyword">select</span> <span class="keyword">case</span> <span class="sign">(</span><a href="#robo2">var_type</a><span class="sign">)</span>
<span class="line_number">1966 </span>        <span class="keyword">case</span> <span class="sign">(</span>json_null<span class="sign">,</span>json_logical<span class="sign">,</span>json_integer<span class="sign">,</span>json_double<span class="sign">,</span>json_string<span class="sign">)</span>
<span class="line_number">1967 </span>            <span class="keyword">call</span> to_integer<span class="sign">(</span>p_var<span class="sign">,</span>val<span class="sign">)</span>    <span class="comment">!update the value</span>
<span class="line_number">1968 </span>        <span class="keyword">case</span> default
<span class="line_number">1969 </span>            found <span class="sign">=</span> <span class="sign">.</span>false<span class="sign">.</span>
<span class="line_number">1970 </span>            <span class="keyword">call</span> throw_exception<span class="sign">(</span><span class="squote">'Error in <strong>json_update_integer</strong>: '</span><span class="sign">/</span><span class="sign">/</span><span class="sign">&amp;</span>
<span class="line_number">1971 </span>                                 <span class="squote">'the variable is not a scalar value'</span><span class="sign">)</span>
<span class="line_number">1972 </span>        <span class="keyword">end</span> <span class="keyword">select</span>
<span class="line_number">1973 </span>
<span class="line_number">1974 </span>    <span class="keyword">else</span>
<span class="line_number">1975 </span>        <span class="keyword">call</span> <a href="#robo5">json_add</a><span class="sign">(</span>p<span class="sign">,</span>name<span class="sign">,</span>val<span class="sign">)</span>   <span class="comment">!add the new element</span>
<span class="line_number">1976 </span>    <span class="keyword">end</span> <span class="keyword">if</span>
<span class="line_number">1977 </span>
<span class="line_number">1978 </span>    <span class="keyword">end</span> <span class="keyword">subroutine</span> <strong>json_update_integer</strong>
</pre>

<hr />
<a name="json5fmodule2fjson5fupdate5flogical"></a>
<a name="robo72"></a><h2>json_module/json_update_logical [ Functions ]</h2>

<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo0">json_module</a> ] [ <a href="./robo_functions.html#robo_top_of_doc">Functions</a> ]</p>
<p class="item_name">NAME</p>
<p>    <strong>json_update_logical</strong>
</p>
<p class="item_name">DESCRIPTION</p>
<p>    Given the path string, if the variable is present,
    and is a scalar, then update its value.
    If it is not present, then create it and set its value.
</p>
<p class="item_name">AUTHOR</p>
<p>    Jacob Williams : 12/6/2014
</p>
<p class="item_name">SOURCE</p>
<pre class="source"><span class="line_number">1853 </span>    <span class="keyword">subroutine</span> <strong>json_update_logical</strong><span class="sign">(</span>p<span class="sign">,</span>name<span class="sign">,</span>val<span class="sign">,</span>found<span class="sign">)</span>
<span class="line_number">1854 </span>
<span class="line_number">1855 </span>    <span class="keyword">implicit</span> <span class="keyword">none</span>
<span class="line_number">1856 </span>
<span class="line_number">1857 </span>    <span class="keyword">type</span><span class="sign">(</span><a href="#robo4">json_value</a><span class="sign">)</span><span class="sign">,</span><span class="keyword">pointer</span>            <span class="sign">:</span><span class="sign">:</span> p
<span class="line_number">1858 </span>    <span class="keyword">character</span><span class="sign">(</span><span class="keyword">kind</span><span class="sign">=</span>CK<span class="sign">,</span><span class="keyword">len</span><span class="sign">=</span><span class="sign">*</span><span class="sign">)</span><span class="sign">,</span><span class="keyword">intent</span><span class="sign">(</span>in<span class="sign">)</span> <span class="sign">:</span><span class="sign">:</span> name
<span class="line_number">1859 </span>    <span class="keyword">logical</span><span class="sign">(</span>LK<span class="sign">)</span><span class="sign">,</span><span class="keyword">intent</span><span class="sign">(</span>in<span class="sign">)</span>              <span class="sign">:</span><span class="sign">:</span> val
<span class="line_number">1860 </span>    <span class="keyword">logical</span><span class="sign">(</span>LK<span class="sign">)</span><span class="sign">,</span><span class="keyword">intent</span><span class="sign">(</span>out<span class="sign">)</span>             <span class="sign">:</span><span class="sign">:</span> found
<span class="line_number">1861 </span>
<span class="line_number">1862 </span>    <span class="keyword">type</span><span class="sign">(</span><a href="#robo4">json_value</a><span class="sign">)</span><span class="sign">,</span><span class="keyword">pointer</span> <span class="sign">:</span><span class="sign">:</span> p_var
<span class="line_number">1863 </span>    <span class="keyword">integer</span><span class="sign">(</span>IK<span class="sign">)</span> <span class="sign">:</span><span class="sign">:</span> <a href="#robo2">var_type</a>
<span class="line_number">1864 </span>
<span class="line_number">1865 </span>    <span class="keyword">call</span> <a href="#robo7">json_get</a><span class="sign">(</span>p<span class="sign">,</span>name<span class="sign">,</span>p_var<span class="sign">,</span>found<span class="sign">)</span>
<span class="line_number">1866 </span>    <span class="keyword">if</span> <span class="sign">(</span>found<span class="sign">)</span> <span class="keyword">then</span>
<span class="line_number">1867 </span>
<span class="line_number">1868 </span>        <span class="keyword">call</span> <a href="#robo65">json_info</a><span class="sign">(</span>p_var<span class="sign">,</span><a href="#robo2">var_type</a><span class="sign">)</span>
<span class="line_number">1869 </span>        <span class="keyword">select</span> <span class="keyword">case</span> <span class="sign">(</span><a href="#robo2">var_type</a><span class="sign">)</span>
<span class="line_number">1870 </span>        <span class="keyword">case</span> <span class="sign">(</span>json_null<span class="sign">,</span>json_logical<span class="sign">,</span>json_integer<span class="sign">,</span>json_double<span class="sign">,</span>json_string<span class="sign">)</span>
<span class="line_number">1871 </span>            <span class="keyword">call</span> to_logical<span class="sign">(</span>p_var<span class="sign">,</span>val<span class="sign">)</span>    <span class="comment">!update the value</span>
<span class="line_number">1872 </span>        <span class="keyword">case</span> default
<span class="line_number">1873 </span>            found <span class="sign">=</span> <span class="sign">.</span>false<span class="sign">.</span>
<span class="line_number">1874 </span>            <span class="keyword">call</span> throw_exception<span class="sign">(</span><span class="squote">'Error in <strong>json_update_logical</strong>: '</span><span class="sign">/</span><span class="sign">/</span><span class="sign">&amp;</span>
<span class="line_number">1875 </span>                                 <span class="squote">'the variable is not a scalar value'</span><span class="sign">)</span>
<span class="line_number">1876 </span>        <span class="keyword">end</span> <span class="keyword">select</span>
<span class="line_number">1877 </span>
<span class="line_number">1878 </span>    <span class="keyword">else</span>
<span class="line_number">1879 </span>        <span class="keyword">call</span> <a href="#robo5">json_add</a><span class="sign">(</span>p<span class="sign">,</span>name<span class="sign">,</span>val<span class="sign">)</span>   <span class="comment">!add the new element</span>
<span class="line_number">1880 </span>    <span class="keyword">end</span> <span class="keyword">if</span>
<span class="line_number">1881 </span>
<span class="line_number">1882 </span>    <span class="keyword">end</span> <span class="keyword">subroutine</span> <strong>json_update_logical</strong>
</pre>

<hr />
<a name="json5fmodule2fjson5fupdate5fstring"></a>
<a name="robo73"></a><h2>json_module/json_update_string [ Functions ]</h2>

<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo0">json_module</a> ] [ <a href="./robo_functions.html#robo_top_of_doc">Functions</a> ]</p>
<p class="item_name">NAME</p>
<p>    <strong>json_update_string</strong>
</p>
<p class="item_name">DESCRIPTION</p>
<p>    Given the path string, if the variable is present,
    and is a scalar, then update its value.
    If it is not present, then create it and set its value.
</p>
<p class="item_name">AUTHOR</p>
<p>    Jacob Williams : 12/6/2014
</p>
<p class="item_name">SOURCE</p>
<pre class="source"><span class="line_number">1997 </span>    <span class="keyword">subroutine</span> <strong>json_update_string</strong><span class="sign">(</span>p<span class="sign">,</span>name<span class="sign">,</span>val<span class="sign">,</span>found<span class="sign">)</span>
<span class="line_number">1998 </span>
<span class="line_number">1999 </span>    <span class="keyword">implicit</span> <span class="keyword">none</span>
<span class="line_number">2000 </span>
<span class="line_number">2001 </span>    <span class="keyword">type</span><span class="sign">(</span><a href="#robo4">json_value</a><span class="sign">)</span><span class="sign">,</span><span class="keyword">pointer</span>            <span class="sign">:</span><span class="sign">:</span> p
<span class="line_number">2002 </span>    <span class="keyword">character</span><span class="sign">(</span><span class="keyword">kind</span><span class="sign">=</span>CK<span class="sign">,</span><span class="keyword">len</span><span class="sign">=</span><span class="sign">*</span><span class="sign">)</span><span class="sign">,</span><span class="keyword">intent</span><span class="sign">(</span>in<span class="sign">)</span> <span class="sign">:</span><span class="sign">:</span> name
<span class="line_number">2003 </span>    <span class="keyword">character</span><span class="sign">(</span><span class="keyword">kind</span><span class="sign">=</span>CK<span class="sign">,</span><span class="keyword">len</span><span class="sign">=</span><span class="sign">*</span><span class="sign">)</span><span class="sign">,</span><span class="keyword">intent</span><span class="sign">(</span>in<span class="sign">)</span> <span class="sign">:</span><span class="sign">:</span> val
<span class="line_number">2004 </span>    <span class="keyword">logical</span><span class="sign">(</span>LK<span class="sign">)</span><span class="sign">,</span><span class="keyword">intent</span><span class="sign">(</span>out<span class="sign">)</span>             <span class="sign">:</span><span class="sign">:</span> found
<span class="line_number">2005 </span>
<span class="line_number">2006 </span>    <span class="keyword">type</span><span class="sign">(</span><a href="#robo4">json_value</a><span class="sign">)</span><span class="sign">,</span><span class="keyword">pointer</span> <span class="sign">:</span><span class="sign">:</span> p_var
<span class="line_number">2007 </span>    <span class="keyword">integer</span><span class="sign">(</span>IK<span class="sign">)</span> <span class="sign">:</span><span class="sign">:</span> <a href="#robo2">var_type</a>
<span class="line_number">2008 </span>
<span class="line_number">2009 </span>    <span class="keyword">call</span> <a href="#robo7">json_get</a><span class="sign">(</span>p<span class="sign">,</span>name<span class="sign">,</span>p_var<span class="sign">,</span>found<span class="sign">)</span>
<span class="line_number">2010 </span>    <span class="keyword">if</span> <span class="sign">(</span>found<span class="sign">)</span> <span class="keyword">then</span>
<span class="line_number">2011 </span>
<span class="line_number">2012 </span>        <span class="keyword">call</span> <a href="#robo65">json_info</a><span class="sign">(</span>p_var<span class="sign">,</span><a href="#robo2">var_type</a><span class="sign">)</span>
<span class="line_number">2013 </span>        <span class="keyword">select</span> <span class="keyword">case</span> <span class="sign">(</span><a href="#robo2">var_type</a><span class="sign">)</span>
<span class="line_number">2014 </span>        <span class="keyword">case</span> <span class="sign">(</span>json_null<span class="sign">,</span>json_logical<span class="sign">,</span>json_integer<span class="sign">,</span>json_double<span class="sign">,</span>json_string<span class="sign">)</span>
<span class="line_number">2015 </span>            <span class="keyword">call</span> to_string<span class="sign">(</span>p_var<span class="sign">,</span>val<span class="sign">)</span>    <span class="comment">!update the value</span>
<span class="line_number">2016 </span>        <span class="keyword">case</span> default
<span class="line_number">2017 </span>            found <span class="sign">=</span> <span class="sign">.</span>false<span class="sign">.</span>
<span class="line_number">2018 </span>            <span class="keyword">call</span> throw_exception<span class="sign">(</span><span class="squote">'Error in <strong>json_update_string</strong>: '</span><span class="sign">/</span><span class="sign">/</span><span class="sign">&amp;</span>
<span class="line_number">2019 </span>                                 <span class="squote">'the variable is not a scalar value'</span><span class="sign">)</span>
<span class="line_number">2020 </span>        <span class="keyword">end</span> <span class="keyword">select</span>
<span class="line_number">2021 </span>
<span class="line_number">2022 </span>    <span class="keyword">else</span>
<span class="line_number">2023 </span>        <span class="keyword">call</span> <a href="#robo5">json_add</a><span class="sign">(</span>p<span class="sign">,</span>name<span class="sign">,</span>val<span class="sign">)</span>   <span class="comment">!add the new element</span>
<span class="line_number">2024 </span>    <span class="keyword">end</span> <span class="keyword">if</span>
<span class="line_number">2025 </span>
<span class="line_number">2026 </span>    <span class="keyword">end</span> <span class="keyword">subroutine</span> <strong>json_update_string</strong>
</pre>

<hr />
<a name="json5fmodule2fjson5fvalue5fadd5fdouble"></a>
<a name="robo74"></a><h2>json_module/json_value_add_double [ Functions ]</h2>

<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo0">json_module</a> ] [ <a href="./robo_functions.html#robo_top_of_doc">Functions</a> ]</p>
<p class="item_name">NAME</p>
<p>    <strong>json_value_add_double</strong>
</p>
<p class="item_name">DESCRIPTION</p>
<p>    Add a real value to the structure.
</p>
<p class="item_name">NOTES</p>
<p>    This routine is part of the public API that can be
    used to build a JSON structure using data.
</p>
<p class="item_name">AUTHOR</p>
<p>    Jacob Williams : 1/19/2014
</p>
<p class="item_name">SOURCE</p>
<pre class="source"><span class="line_number">2091 </span>    <span class="keyword">subroutine</span> <strong>json_value_add_double</strong><span class="sign">(</span>me<span class="sign">,</span> name<span class="sign">,</span> val<span class="sign">)</span>
<span class="line_number">2092 </span>
<span class="line_number">2093 </span>    <span class="keyword">implicit</span> <span class="keyword">none</span>
<span class="line_number">2094 </span>
<span class="line_number">2095 </span>    <span class="keyword">type</span><span class="sign">(</span><a href="#robo4">json_value</a><span class="sign">)</span><span class="sign">,</span><span class="keyword">pointer</span>            <span class="sign">:</span><span class="sign">:</span> me
<span class="line_number">2096 </span>    <span class="keyword">character</span><span class="sign">(</span><span class="keyword">kind</span><span class="sign">=</span>CK<span class="sign">,</span><span class="keyword">len</span><span class="sign">=</span><span class="sign">*</span><span class="sign">)</span><span class="sign">,</span><span class="keyword">intent</span><span class="sign">(</span>in<span class="sign">)</span> <span class="sign">:</span><span class="sign">:</span> name
<span class="line_number">2097 </span>    <span class="keyword">real</span><span class="sign">(</span>RK<span class="sign">)</span><span class="sign">,</span><span class="keyword">intent</span><span class="sign">(</span>in<span class="sign">)</span>                 <span class="sign">:</span><span class="sign">:</span> val
<span class="line_number">2098 </span>
<span class="line_number">2099 </span>    <span class="keyword">type</span><span class="sign">(</span><a href="#robo4">json_value</a><span class="sign">)</span><span class="sign">,</span><span class="keyword">pointer</span> <span class="sign">:</span><span class="sign">:</span> var
<span class="line_number">2100 </span>
<span class="line_number">2101 </span>    <span class="comment">!create the variable:</span>
<span class="line_number">2102 </span>    <span class="keyword">call</span> json_value_create<span class="sign">(</span>var<span class="sign">)</span>
<span class="line_number">2103 </span>    <span class="keyword">call</span> to_double<span class="sign">(</span>var<span class="sign">,</span>val<span class="sign">,</span>name<span class="sign">)</span>
<span class="line_number">2104 </span>
<span class="line_number">2105 </span>    <span class="comment">!add it:</span>
<span class="line_number">2106 </span>    <span class="keyword">call</span> <a href="#robo5">json_add</a><span class="sign">(</span>me<span class="sign">,</span> var<span class="sign">)</span>
<span class="line_number">2107 </span>
<span class="line_number">2108 </span>    <span class="comment">!cleanup:</span>
<span class="line_number">2109 </span>    <span class="keyword">nullify</span><span class="sign">(</span>var<span class="sign">)</span>
<span class="line_number">2110 </span>
<span class="line_number">2111 </span>    <span class="keyword">end</span> <span class="keyword">subroutine</span> <strong>json_value_add_double</strong>
</pre>

<hr />
<a name="json5fmodule2fjson5fvalue5fadd5fdouble5fvec"></a>
<a name="robo75"></a><h2>json_module/json_value_add_double_vec [ Functions ]</h2>

<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo0">json_module</a> ] [ <a href="./robo_functions.html#robo_top_of_doc">Functions</a> ]</p>
<p class="item_name">NAME</p>
<p>    <strong>json_value_add_double_vec</strong>
</p>
<p class="item_name">DESCRIPTION</p>
<p>    Add a real vector to the structure.
</p>
<p class="item_name">NOTES</p>
<p>    This routine is part of the public API that can be
    used to build a JSON structure using data.
</p>
<p class="item_name">AUTHOR</p>
<p>    Jacob Williams : 1/20/2014
</p>
<p class="item_name">SOURCE</p>
<pre class="source"><span class="line_number">2132 </span>    <span class="keyword">subroutine</span> <strong>json_value_add_double_vec</strong><span class="sign">(</span>me<span class="sign">,</span> name<span class="sign">,</span> val<span class="sign">)</span>
<span class="line_number">2133 </span>
<span class="line_number">2134 </span>    <span class="keyword">implicit</span> <span class="keyword">none</span>
<span class="line_number">2135 </span>
<span class="line_number">2136 </span>    <span class="keyword">type</span><span class="sign">(</span><a href="#robo4">json_value</a><span class="sign">)</span><span class="sign">,</span><span class="keyword">pointer</span>            <span class="sign">:</span><span class="sign">:</span> me
<span class="line_number">2137 </span>    <span class="keyword">character</span><span class="sign">(</span><span class="keyword">kind</span><span class="sign">=</span>CK<span class="sign">,</span><span class="keyword">len</span><span class="sign">=</span><span class="sign">*</span><span class="sign">)</span><span class="sign">,</span><span class="keyword">intent</span><span class="sign">(</span>in<span class="sign">)</span> <span class="sign">:</span><span class="sign">:</span> name
<span class="line_number">2138 </span>    <span class="keyword">real</span><span class="sign">(</span>RK<span class="sign">)</span><span class="sign">,</span><span class="keyword">dimension</span><span class="sign">(</span><span class="sign">:</span><span class="sign">)</span><span class="sign">,</span><span class="keyword">intent</span><span class="sign">(</span>in<span class="sign">)</span>    <span class="sign">:</span><span class="sign">:</span> val
<span class="line_number">2139 </span>
<span class="line_number">2140 </span>    <span class="keyword">type</span><span class="sign">(</span><a href="#robo4">json_value</a><span class="sign">)</span><span class="sign">,</span><span class="keyword">pointer</span> <span class="sign">:</span><span class="sign">:</span> var
<span class="line_number">2141 </span>    <span class="keyword">integer</span><span class="sign">(</span>IK<span class="sign">)</span> <span class="sign">:</span><span class="sign">:</span> i
<span class="line_number">2142 </span>
<span class="line_number">2143 </span>    <span class="comment">!create the variable as an array:</span>
<span class="line_number">2144 </span>    <span class="keyword">call</span> json_value_create<span class="sign">(</span>var<span class="sign">)</span>
<span class="line_number">2145 </span>    <span class="keyword">call</span> to_array<span class="sign">(</span>var<span class="sign">,</span>name<span class="sign">)</span>
<span class="line_number">2146 </span>
<span class="line_number">2147 </span>    <span class="comment">!populate the array:</span>
<span class="line_number">2148 </span>    <span class="keyword">do</span> i<span class="sign">=</span>1<span class="sign">,</span><span class="keyword">size</span><span class="sign">(</span>val<span class="sign">)</span>
<span class="line_number">2149 </span>        <span class="keyword">call</span> <a href="#robo5">json_add</a><span class="sign">(</span>var<span class="sign">,</span> <span class="squote">''</span><span class="sign">,</span> val<span class="sign">(</span>i<span class="sign">)</span><span class="sign">)</span>
<span class="line_number">2150 </span>    <span class="keyword">end</span> <span class="keyword">do</span>
<span class="line_number">2151 </span>
<span class="line_number">2152 </span>    <span class="comment">!add it:</span>
<span class="line_number">2153 </span>    <span class="keyword">call</span> <a href="#robo5">json_add</a><span class="sign">(</span>me<span class="sign">,</span> var<span class="sign">)</span>
<span class="line_number">2154 </span>
<span class="line_number">2155 </span>    <span class="comment">!cleanup:</span>
<span class="line_number">2156 </span>    <span class="keyword">nullify</span><span class="sign">(</span>var<span class="sign">)</span>
<span class="line_number">2157 </span>
<span class="line_number">2158 </span>    <span class="keyword">end</span> <span class="keyword">subroutine</span> <strong>json_value_add_double_vec</strong>
</pre>

<hr />
<a name="json5fmodule2fjson5fvalue5fadd5finteger"></a>
<a name="robo76"></a><h2>json_module/json_value_add_integer [ Functions ]</h2>

<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo0">json_module</a> ] [ <a href="./robo_functions.html#robo_top_of_doc">Functions</a> ]</p>
<p class="item_name">NAME</p>
<p>    <strong>json_value_add_integer</strong>
</p>
<p class="item_name">DESCRIPTION</p>
<p>    Add an integer value to the structure.
</p>
<p class="item_name">NOTES</p>
<p>    This routine is part of the public API that can be
    used to build a JSON structure using data.
</p>
<p class="item_name">AUTHOR</p>
<p>    Jacob Williams : 1/20/2014
</p>
<p class="item_name">SOURCE</p>
<pre class="source"><span class="line_number">2179 </span>    <span class="keyword">subroutine</span> <strong>json_value_add_integer</strong><span class="sign">(</span>me<span class="sign">,</span> name<span class="sign">,</span> val<span class="sign">)</span>
<span class="line_number">2180 </span>
<span class="line_number">2181 </span>    <span class="keyword">implicit</span> <span class="keyword">none</span>
<span class="line_number">2182 </span>
<span class="line_number">2183 </span>    <span class="keyword">type</span><span class="sign">(</span><a href="#robo4">json_value</a><span class="sign">)</span><span class="sign">,</span><span class="keyword">pointer</span>            <span class="sign">:</span><span class="sign">:</span> me
<span class="line_number">2184 </span>    <span class="keyword">character</span><span class="sign">(</span><span class="keyword">kind</span><span class="sign">=</span>CK<span class="sign">,</span><span class="keyword">len</span><span class="sign">=</span><span class="sign">*</span><span class="sign">)</span><span class="sign">,</span><span class="keyword">intent</span><span class="sign">(</span>in<span class="sign">)</span> <span class="sign">:</span><span class="sign">:</span> name
<span class="line_number">2185 </span>    <span class="keyword">integer</span><span class="sign">(</span>IK<span class="sign">)</span><span class="sign">,</span><span class="keyword">intent</span><span class="sign">(</span>in<span class="sign">)</span>              <span class="sign">:</span><span class="sign">:</span> val
<span class="line_number">2186 </span>
<span class="line_number">2187 </span>    <span class="keyword">type</span><span class="sign">(</span><a href="#robo4">json_value</a><span class="sign">)</span><span class="sign">,</span><span class="keyword">pointer</span> <span class="sign">:</span><span class="sign">:</span> var
<span class="line_number">2188 </span>
<span class="line_number">2189 </span>    <span class="comment">!create the variable:</span>
<span class="line_number">2190 </span>    <span class="keyword">call</span> json_value_create<span class="sign">(</span>var<span class="sign">)</span>
<span class="line_number">2191 </span>    <span class="keyword">call</span> to_integer<span class="sign">(</span>var<span class="sign">,</span>val<span class="sign">,</span>name<span class="sign">)</span>
<span class="line_number">2192 </span>
<span class="line_number">2193 </span>    <span class="comment">!add it:</span>
<span class="line_number">2194 </span>    <span class="keyword">call</span> <a href="#robo5">json_add</a><span class="sign">(</span>me<span class="sign">,</span> var<span class="sign">)</span>
<span class="line_number">2195 </span>
<span class="line_number">2196 </span>    <span class="comment">!cleanup:</span>
<span class="line_number">2197 </span>    <span class="keyword">nullify</span><span class="sign">(</span>var<span class="sign">)</span>
<span class="line_number">2198 </span>
<span class="line_number">2199 </span>    <span class="keyword">end</span> <span class="keyword">subroutine</span> <strong>json_value_add_integer</strong>
</pre>

<hr />
<a name="json5fmodule2fjson5fvalue5fadd5finteger5fvec"></a>
<a name="robo77"></a><h2>json_module/json_value_add_integer_vec [ Functions ]</h2>

<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo0">json_module</a> ] [ <a href="./robo_functions.html#robo_top_of_doc">Functions</a> ]</p>
<p class="item_name">NAME</p>
<p>    <strong>json_value_add_integer_vec</strong>
</p>
<p class="item_name">DESCRIPTION</p>
<p>    Add an integer vector to the structure.
</p>
<p class="item_name">NOTES</p>
<p>    This routine is part of the public API that can be
    used to build a JSON structure using data.
</p>
<p class="item_name">AUTHOR</p>
<p>    Jacob Williams : 1/20/2014
</p>
<p class="item_name">SOURCE</p>
<pre class="source"><span class="line_number">2220 </span>    <span class="keyword">subroutine</span> <strong>json_value_add_integer_vec</strong><span class="sign">(</span>me<span class="sign">,</span> name<span class="sign">,</span> val<span class="sign">)</span>
<span class="line_number">2221 </span>
<span class="line_number">2222 </span>    <span class="keyword">implicit</span> <span class="keyword">none</span>
<span class="line_number">2223 </span>
<span class="line_number">2224 </span>    <span class="keyword">type</span><span class="sign">(</span><a href="#robo4">json_value</a><span class="sign">)</span><span class="sign">,</span><span class="keyword">pointer</span>            <span class="sign">:</span><span class="sign">:</span> me
<span class="line_number">2225 </span>    <span class="keyword">character</span><span class="sign">(</span><span class="keyword">kind</span><span class="sign">=</span>CK<span class="sign">,</span><span class="keyword">len</span><span class="sign">=</span><span class="sign">*</span><span class="sign">)</span><span class="sign">,</span><span class="keyword">intent</span><span class="sign">(</span>in<span class="sign">)</span> <span class="sign">:</span><span class="sign">:</span> name
<span class="line_number">2226 </span>    <span class="keyword">integer</span><span class="sign">(</span>IK<span class="sign">)</span><span class="sign">,</span><span class="keyword">dimension</span><span class="sign">(</span><span class="sign">:</span><span class="sign">)</span><span class="sign">,</span><span class="keyword">intent</span><span class="sign">(</span>in<span class="sign">)</span> <span class="sign">:</span><span class="sign">:</span> val
<span class="line_number">2227 </span>
<span class="line_number">2228 </span>    <span class="keyword">type</span><span class="sign">(</span><a href="#robo4">json_value</a><span class="sign">)</span><span class="sign">,</span><span class="keyword">pointer</span> <span class="sign">:</span><span class="sign">:</span> var
<span class="line_number">2229 </span>    <span class="keyword">integer</span><span class="sign">(</span>IK<span class="sign">)</span> <span class="sign">:</span><span class="sign">:</span> i    <span class="comment">!counter</span>
<span class="line_number">2230 </span>
<span class="line_number">2231 </span>    <span class="comment">!create the variable as an array:</span>
<span class="line_number">2232 </span>    <span class="keyword">call</span> json_value_create<span class="sign">(</span>var<span class="sign">)</span>
<span class="line_number">2233 </span>    <span class="keyword">call</span> to_array<span class="sign">(</span>var<span class="sign">,</span>name<span class="sign">)</span>
<span class="line_number">2234 </span>
<span class="line_number">2235 </span>    <span class="comment">!populate the array:</span>
<span class="line_number">2236 </span>    <span class="keyword">do</span> i<span class="sign">=</span>1<span class="sign">,</span><span class="keyword">size</span><span class="sign">(</span>val<span class="sign">)</span>
<span class="line_number">2237 </span>        <span class="keyword">call</span> <a href="#robo5">json_add</a><span class="sign">(</span>var<span class="sign">,</span> <span class="squote">''</span><span class="sign">,</span> val<span class="sign">(</span>i<span class="sign">)</span><span class="sign">)</span>
<span class="line_number">2238 </span>    <span class="keyword">end</span> <span class="keyword">do</span>
<span class="line_number">2239 </span>
<span class="line_number">2240 </span>    <span class="comment">!add it:</span>
<span class="line_number">2241 </span>    <span class="keyword">call</span> <a href="#robo5">json_add</a><span class="sign">(</span>me<span class="sign">,</span> var<span class="sign">)</span>
<span class="line_number">2242 </span>
<span class="line_number">2243 </span>    <span class="comment">!cleanup:</span>
<span class="line_number">2244 </span>    <span class="keyword">nullify</span><span class="sign">(</span>var<span class="sign">)</span>
<span class="line_number">2245 </span>
<span class="line_number">2246 </span>    <span class="keyword">end</span> <span class="keyword">subroutine</span> <strong>json_value_add_integer_vec</strong>
</pre>

<hr />
<a name="json5fmodule2fjson5fvalue5fadd5flogical"></a>
<a name="robo78"></a><h2>json_module/json_value_add_logical [ Functions ]</h2>

<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo0">json_module</a> ] [ <a href="./robo_functions.html#robo_top_of_doc">Functions</a> ]</p>
<p class="item_name">NAME</p>
<p>    <strong>json_value_add_logical</strong>
</p>
<p class="item_name">DESCRIPTION</p>
<p>    Add a logical value to the structure.
</p>
<p class="item_name">NOTES</p>
<p>    This routine is part of the public API that can be
    used to build a JSON structure using data.
</p>
<p class="item_name">AUTHOR</p>
<p>    Jacob Williams : 1/20/2014
</p>
<p class="item_name">SOURCE</p>
<pre class="source"><span class="line_number">2267 </span>    <span class="keyword">subroutine</span> <strong>json_value_add_logical</strong><span class="sign">(</span>me<span class="sign">,</span> name<span class="sign">,</span> val<span class="sign">)</span>
<span class="line_number">2268 </span>
<span class="line_number">2269 </span>    <span class="keyword">implicit</span> <span class="keyword">none</span>
<span class="line_number">2270 </span>
<span class="line_number">2271 </span>    <span class="keyword">type</span><span class="sign">(</span><a href="#robo4">json_value</a><span class="sign">)</span><span class="sign">,</span><span class="keyword">pointer</span>            <span class="sign">:</span><span class="sign">:</span> me
<span class="line_number">2272 </span>    <span class="keyword">character</span><span class="sign">(</span><span class="keyword">kind</span><span class="sign">=</span>CK<span class="sign">,</span><span class="keyword">len</span><span class="sign">=</span><span class="sign">*</span><span class="sign">)</span><span class="sign">,</span><span class="keyword">intent</span><span class="sign">(</span>in<span class="sign">)</span> <span class="sign">:</span><span class="sign">:</span> name
<span class="line_number">2273 </span>    <span class="keyword">logical</span><span class="sign">(</span>LK<span class="sign">)</span><span class="sign">,</span><span class="keyword">intent</span><span class="sign">(</span>in<span class="sign">)</span>              <span class="sign">:</span><span class="sign">:</span> val
<span class="line_number">2274 </span>
<span class="line_number">2275 </span>    <span class="keyword">type</span><span class="sign">(</span><a href="#robo4">json_value</a><span class="sign">)</span><span class="sign">,</span><span class="keyword">pointer</span> <span class="sign">:</span><span class="sign">:</span> var
<span class="line_number">2276 </span>
<span class="line_number">2277 </span>    <span class="comment">!create the variable:</span>
<span class="line_number">2278 </span>    <span class="keyword">call</span> json_value_create<span class="sign">(</span>var<span class="sign">)</span>
<span class="line_number">2279 </span>    <span class="keyword">call</span> to_logical<span class="sign">(</span>var<span class="sign">,</span>val<span class="sign">,</span>name<span class="sign">)</span>
<span class="line_number">2280 </span>
<span class="line_number">2281 </span>    <span class="comment">!add it:</span>
<span class="line_number">2282 </span>    <span class="keyword">call</span> <a href="#robo5">json_add</a><span class="sign">(</span>me<span class="sign">,</span> var<span class="sign">)</span>
<span class="line_number">2283 </span>
<span class="line_number">2284 </span>    <span class="comment">!cleanup:</span>
<span class="line_number">2285 </span>    <span class="keyword">nullify</span><span class="sign">(</span>var<span class="sign">)</span>
<span class="line_number">2286 </span>
<span class="line_number">2287 </span>    <span class="keyword">end</span> <span class="keyword">subroutine</span> <strong>json_value_add_logical</strong>
</pre>

<hr />
<a name="json5fmodule2fjson5fvalue5fadd5flogical5fvec"></a>
<a name="robo79"></a><h2>json_module/json_value_add_logical_vec [ Functions ]</h2>

<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo0">json_module</a> ] [ <a href="./robo_functions.html#robo_top_of_doc">Functions</a> ]</p>
<p class="item_name">NAME</p>
<p>    <strong>json_value_add_logical_vec</strong>
</p>
<p class="item_name">DESCRIPTION</p>
<p>    Add a logical vector to the structure.
</p>
<p class="item_name">NOTES</p>
<p>    This routine is part of the public API that can be
    used to build a JSON structure using data.
</p>
<p class="item_name">AUTHOR</p>
<p>    Jacob Williams : 1/20/2014
</p>
<p class="item_name">SOURCE</p>
<pre class="source"><span class="line_number">2308 </span>    <span class="keyword">subroutine</span> <strong>json_value_add_logical_vec</strong><span class="sign">(</span>me<span class="sign">,</span> name<span class="sign">,</span> val<span class="sign">)</span>
<span class="line_number">2309 </span>
<span class="line_number">2310 </span>    <span class="keyword">implicit</span> <span class="keyword">none</span>
<span class="line_number">2311 </span>
<span class="line_number">2312 </span>    <span class="keyword">type</span><span class="sign">(</span><a href="#robo4">json_value</a><span class="sign">)</span><span class="sign">,</span><span class="keyword">pointer</span>            <span class="sign">:</span><span class="sign">:</span> me
<span class="line_number">2313 </span>    <span class="keyword">character</span><span class="sign">(</span><span class="keyword">kind</span><span class="sign">=</span>CK<span class="sign">,</span><span class="keyword">len</span><span class="sign">=</span><span class="sign">*</span><span class="sign">)</span><span class="sign">,</span><span class="keyword">intent</span><span class="sign">(</span>in<span class="sign">)</span> <span class="sign">:</span><span class="sign">:</span> name
<span class="line_number">2314 </span>    <span class="keyword">logical</span><span class="sign">(</span>LK<span class="sign">)</span><span class="sign">,</span><span class="keyword">dimension</span><span class="sign">(</span><span class="sign">:</span><span class="sign">)</span><span class="sign">,</span><span class="keyword">intent</span><span class="sign">(</span>in<span class="sign">)</span> <span class="sign">:</span><span class="sign">:</span> val
<span class="line_number">2315 </span>
<span class="line_number">2316 </span>    <span class="keyword">type</span><span class="sign">(</span><a href="#robo4">json_value</a><span class="sign">)</span><span class="sign">,</span><span class="keyword">pointer</span> <span class="sign">:</span><span class="sign">:</span> var
<span class="line_number">2317 </span>    <span class="keyword">integer</span><span class="sign">(</span>IK<span class="sign">)</span> <span class="sign">:</span><span class="sign">:</span> i    <span class="comment">!counter</span>
<span class="line_number">2318 </span>
<span class="line_number">2319 </span>    <span class="comment">!create the variable as an array:</span>
<span class="line_number">2320 </span>    <span class="keyword">call</span> json_value_create<span class="sign">(</span>var<span class="sign">)</span>
<span class="line_number">2321 </span>    <span class="keyword">call</span> to_array<span class="sign">(</span>var<span class="sign">,</span>name<span class="sign">)</span>
<span class="line_number">2322 </span>
<span class="line_number">2323 </span>    <span class="comment">!populate the array:</span>
<span class="line_number">2324 </span>    <span class="keyword">do</span> i<span class="sign">=</span>1<span class="sign">,</span><span class="keyword">size</span><span class="sign">(</span>val<span class="sign">)</span>
<span class="line_number">2325 </span>        <span class="keyword">call</span> <a href="#robo5">json_add</a><span class="sign">(</span>var<span class="sign">,</span> <span class="squote">''</span><span class="sign">,</span> val<span class="sign">(</span>i<span class="sign">)</span><span class="sign">)</span>
<span class="line_number">2326 </span>    <span class="keyword">end</span> <span class="keyword">do</span>
<span class="line_number">2327 </span>
<span class="line_number">2328 </span>    <span class="comment">!add it:</span>
<span class="line_number">2329 </span>    <span class="keyword">call</span> <a href="#robo5">json_add</a><span class="sign">(</span>me<span class="sign">,</span> var<span class="sign">)</span>
<span class="line_number">2330 </span>
<span class="line_number">2331 </span>    <span class="comment">!cleanup:</span>
<span class="line_number">2332 </span>    <span class="keyword">nullify</span><span class="sign">(</span>var<span class="sign">)</span>
<span class="line_number">2333 </span>
<span class="line_number">2334 </span>    <span class="keyword">end</span> <span class="keyword">subroutine</span> <strong>json_value_add_logical_vec</strong>
</pre>

<hr />
<a name="json5fmodule2fjson5fvalue5fadd5fmember"></a>
<a name="robo80"></a><h2>json_module/json_value_add_member [ Functions ]</h2>

<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo0">json_module</a> ] [ <a href="./robo_functions.html#robo_top_of_doc">Functions</a> ]</p>
<p class="item_name">NAME</p>
<p>    <strong>json_value_add_member</strong>
</p>
<p class="item_name">DESCRIPTION</p>
<p>    Adds the member as a child of this.
</p>
<p class="item_name">SOURCE</p>
<pre class="source"><span class="line_number">2040 </span>    <span class="keyword">subroutine</span> <strong>json_value_add_member</strong><span class="sign">(</span>this<span class="sign">,</span> member<span class="sign">)</span>
<span class="line_number">2041 </span>
<span class="line_number">2042 </span>    <span class="keyword">implicit</span> <span class="keyword">none</span>
<span class="line_number">2043 </span>
<span class="line_number">2044 </span>    <span class="keyword">type</span><span class="sign">(</span><a href="#robo4">json_value</a><span class="sign">)</span><span class="sign">,</span><span class="keyword">pointer</span> <span class="sign">:</span><span class="sign">:</span> this<span class="sign">,</span> member
<span class="line_number">2045 </span>
<span class="line_number">2046 </span>    <span class="keyword">if</span> <span class="sign">(</span><span class="sign">.</span><span class="keyword">not</span><span class="sign">.</span> exception_thrown<span class="sign">)</span> <span class="keyword">then</span>
<span class="line_number">2047 </span>
<span class="line_number">2048 </span>        <span class="comment">! associate the parent</span>
<span class="line_number">2049 </span>        member<span class="sign">%</span>parent <span class="sign">=</span><span class="sign">&gt;</span> this
<span class="line_number">2050 </span>
<span class="line_number">2051 </span>        <span class="comment">! add to linked list</span>
<span class="line_number">2052 </span>        <span class="keyword">if</span> <span class="sign">(</span><span class="keyword">associated</span><span class="sign">(</span>this<span class="sign">%</span>children<span class="sign">)</span><span class="sign">)</span> <span class="keyword">then</span>
<span class="line_number">2053 </span>
<span class="line_number">2054 </span>            this<span class="sign">%</span>tail<span class="sign">%</span>next <span class="sign">=</span><span class="sign">&gt;</span> member
<span class="line_number">2055 </span>            member<span class="sign">%</span>previous <span class="sign">=</span><span class="sign">&gt;</span> this<span class="sign">%</span>tail
<span class="line_number">2056 </span>
<span class="line_number">2057 </span>        <span class="keyword">else</span>
<span class="line_number">2058 </span>
<span class="line_number">2059 </span>            this<span class="sign">%</span>children <span class="sign">=</span><span class="sign">&gt;</span> member
<span class="line_number">2060 </span>            member<span class="sign">%</span>previous <span class="sign">=</span><span class="sign">&gt;</span> <span class="keyword">null</span><span class="sign">(</span><span class="sign">)</span>  <span class="comment">!first in the list</span>
<span class="line_number">2061 </span>
<span class="line_number">2062 </span>        <span class="keyword">end</span> <span class="keyword">if</span>
<span class="line_number">2063 </span>
<span class="line_number">2064 </span>        <span class="comment">! new member is now the last one in the list</span>
<span class="line_number">2065 </span>        this<span class="sign">%</span>tail <span class="sign">=</span><span class="sign">&gt;</span> member
<span class="line_number">2066 </span>        this<span class="sign">%</span>n_children <span class="sign">=</span> this<span class="sign">%</span>n_children <span class="sign">+</span> 1
<span class="line_number">2067 </span>
<span class="line_number">2068 </span>    <span class="keyword">end</span> <span class="keyword">if</span>
<span class="line_number">2069 </span>
<span class="line_number">2070 </span>    <span class="keyword">end</span> <span class="keyword">subroutine</span> <strong>json_value_add_member</strong>
</pre>

<hr />
<a name="json5fmodule2fjson5fvalue5fadd5fstring"></a>
<a name="robo81"></a><h2>json_module/json_value_add_string [ Functions ]</h2>

<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo0">json_module</a> ] [ <a href="./robo_functions.html#robo_top_of_doc">Functions</a> ]</p>
<p class="item_name">NAME</p>
<p>    <strong>json_value_add_string</strong>
</p>
<p class="item_name">DESCRIPTION</p>
<p>    Add a character string the structure.
</p>
<p class="item_name">NOTES</p>
<p>    This routine is part of the public API that can be
    used to build a JSON structure using data.
</p>
<p class="item_name">AUTHOR</p>
<p>    Jacob Williams : 1/19/2014
</p>
<p class="item_name">SOURCE</p>
<pre class="source"><span class="line_number">2355 </span>    <span class="keyword">subroutine</span> <strong>json_value_add_string</strong><span class="sign">(</span>me<span class="sign">,</span> name<span class="sign">,</span> val<span class="sign">)</span>
<span class="line_number">2356 </span>
<span class="line_number">2357 </span>    <span class="keyword">implicit</span> <span class="keyword">none</span>
<span class="line_number">2358 </span>
<span class="line_number">2359 </span>    <span class="keyword">type</span><span class="sign">(</span><a href="#robo4">json_value</a><span class="sign">)</span><span class="sign">,</span><span class="keyword">pointer</span>            <span class="sign">:</span><span class="sign">:</span> me
<span class="line_number">2360 </span>    <span class="keyword">character</span><span class="sign">(</span><span class="keyword">kind</span><span class="sign">=</span>CK<span class="sign">,</span><span class="keyword">len</span><span class="sign">=</span><span class="sign">*</span><span class="sign">)</span><span class="sign">,</span><span class="keyword">intent</span><span class="sign">(</span>in<span class="sign">)</span> <span class="sign">:</span><span class="sign">:</span> name
<span class="line_number">2361 </span>    <span class="keyword">character</span><span class="sign">(</span><span class="keyword">kind</span><span class="sign">=</span>CK<span class="sign">,</span><span class="keyword">len</span><span class="sign">=</span><span class="sign">*</span><span class="sign">)</span><span class="sign">,</span><span class="keyword">intent</span><span class="sign">(</span>in<span class="sign">)</span> <span class="sign">:</span><span class="sign">:</span> val
<span class="line_number">2362 </span>
<span class="line_number">2363 </span>    <span class="keyword">type</span><span class="sign">(</span><a href="#robo4">json_value</a><span class="sign">)</span><span class="sign">,</span><span class="keyword">pointer</span> <span class="sign">:</span><span class="sign">:</span> var
<span class="line_number">2364 </span>    <span class="keyword">character</span><span class="sign">(</span><span class="keyword">kind</span><span class="sign">=</span>CK<span class="sign">,</span><span class="keyword">len</span><span class="sign">=</span><span class="sign">:</span><span class="sign">)</span><span class="sign">,</span><span class="keyword">allocatable</span> <span class="sign">:</span><span class="sign">:</span> str
<span class="line_number">2365 </span>
<span class="line_number">2366 </span>    <span class="comment">!add escape characters if necessary:</span>
<span class="line_number">2367 </span>    <span class="keyword">call</span> escape_string<span class="sign">(</span>val<span class="sign">,</span> str<span class="sign">)</span>
<span class="line_number">2368 </span>
<span class="line_number">2369 </span>    <span class="comment">!create the variable:</span>
<span class="line_number">2370 </span>    <span class="keyword">call</span> json_value_create<span class="sign">(</span>var<span class="sign">)</span>
<span class="line_number">2371 </span>    <span class="keyword">call</span> to_string<span class="sign">(</span>var<span class="sign">,</span>str<span class="sign">,</span>name<span class="sign">)</span>
<span class="line_number">2372 </span>
<span class="line_number">2373 </span>    <span class="comment">!add it:</span>
<span class="line_number">2374 </span>    <span class="keyword">call</span> <a href="#robo5">json_add</a><span class="sign">(</span>me<span class="sign">,</span> var<span class="sign">)</span>
<span class="line_number">2375 </span>
<span class="line_number">2376 </span>    <span class="comment">!cleanup:</span>
<span class="line_number">2377 </span>    <span class="keyword">nullify</span><span class="sign">(</span>var<span class="sign">)</span>
<span class="line_number">2378 </span>
<span class="line_number">2379 </span>    <span class="keyword">end</span> <span class="keyword">subroutine</span> <strong>json_value_add_string</strong>
</pre>

<hr />
<a name="json5fmodule2fjson5fvalue5fadd5fstring5fvec"></a>
<a name="robo82"></a><h2>json_module/json_value_add_string_vec [ Functions ]</h2>

<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo0">json_module</a> ] [ <a href="./robo_functions.html#robo_top_of_doc">Functions</a> ]</p>
<p class="item_name">NAME</p>
<p>    <strong>json_value_add_string_vec</strong>
</p>
<p class="item_name">DESCRIPTION</p>
<p>    Add an array of character strings to the structure.
</p>
<p class="item_name">NOTES</p>
<p>    This routine is part of the public API that can be
    used to build a JSON structure using data.
</p>
<p class="item_name">AUTHOR</p>
<p>    Jacob Williams : 1/19/2014
</p>
<p class="item_name">SOURCE</p>
<pre class="source"><span class="line_number">2453 </span>    <span class="keyword">subroutine</span> <strong>json_value_add_string_vec</strong><span class="sign">(</span>me<span class="sign">,</span> name<span class="sign">,</span> val<span class="sign">,</span> trim_str<span class="sign">,</span> adjustl_str<span class="sign">)</span>
<span class="line_number">2454 </span>
<span class="line_number">2455 </span>    <span class="keyword">implicit</span> <span class="keyword">none</span>
<span class="line_number">2456 </span>
<span class="line_number">2457 </span>    <span class="keyword">type</span><span class="sign">(</span><a href="#robo4">json_value</a><span class="sign">)</span><span class="sign">,</span><span class="keyword">pointer</span>                         <span class="sign">:</span><span class="sign">:</span> me
<span class="line_number">2458 </span>    <span class="keyword">character</span><span class="sign">(</span><span class="keyword">kind</span><span class="sign">=</span>CK<span class="sign">,</span><span class="keyword">len</span><span class="sign">=</span><span class="sign">*</span><span class="sign">)</span><span class="sign">,</span><span class="keyword">intent</span><span class="sign">(</span>in<span class="sign">)</span>              <span class="sign">:</span><span class="sign">:</span> name
<span class="line_number">2459 </span>    <span class="keyword">character</span><span class="sign">(</span><span class="keyword">kind</span><span class="sign">=</span>CK<span class="sign">,</span><span class="keyword">len</span><span class="sign">=</span><span class="sign">*</span><span class="sign">)</span><span class="sign">,</span><span class="keyword">dimension</span><span class="sign">(</span><span class="sign">:</span><span class="sign">)</span><span class="sign">,</span><span class="keyword">intent</span><span class="sign">(</span>in<span class="sign">)</span> <span class="sign">:</span><span class="sign">:</span> val
<span class="line_number">2460 </span>    <span class="keyword">logical</span><span class="sign">(</span>LK<span class="sign">)</span><span class="sign">,</span><span class="keyword">intent</span><span class="sign">(</span>in<span class="sign">)</span><span class="sign">,</span><span class="keyword">optional</span>                  <span class="sign">:</span><span class="sign">:</span> trim_str
<span class="line_number">2461 </span>    <span class="keyword">logical</span><span class="sign">(</span>LK<span class="sign">)</span><span class="sign">,</span><span class="keyword">intent</span><span class="sign">(</span>in<span class="sign">)</span><span class="sign">,</span><span class="keyword">optional</span>                  <span class="sign">:</span><span class="sign">:</span> adjustl_str
<span class="line_number">2462 </span>
<span class="line_number">2463 </span>    <span class="keyword">type</span><span class="sign">(</span><a href="#robo4">json_value</a><span class="sign">)</span><span class="sign">,</span><span class="keyword">pointer</span> <span class="sign">:</span><span class="sign">:</span> var
<span class="line_number">2464 </span>    <span class="keyword">integer</span><span class="sign">(</span>IK<span class="sign">)</span> <span class="sign">:</span><span class="sign">:</span> i
<span class="line_number">2465 </span>    <span class="keyword">logical</span><span class="sign">(</span>LK<span class="sign">)</span> <span class="sign">:</span><span class="sign">:</span> trim_string<span class="sign">,</span> adjustl_string
<span class="line_number">2466 </span>    <span class="keyword">character</span><span class="sign">(</span><span class="keyword">kind</span><span class="sign">=</span>CK<span class="sign">,</span><span class="keyword">len</span><span class="sign">=</span><span class="sign">:</span><span class="sign">)</span><span class="sign">,</span><span class="keyword">allocatable</span> <span class="sign">:</span><span class="sign">:</span> str
<span class="line_number">2467 </span>
<span class="line_number">2468 </span>    <span class="comment">!if the string is to be trimmed or not:</span>
<span class="line_number">2469 </span>    <span class="keyword">if</span> <span class="sign">(</span><span class="keyword">present</span><span class="sign">(</span>trim_str<span class="sign">)</span><span class="sign">)</span> <span class="keyword">then</span>
<span class="line_number">2470 </span>        trim_string <span class="sign">=</span> trim_str
<span class="line_number">2471 </span>    <span class="keyword">else</span>
<span class="line_number">2472 </span>        trim_string <span class="sign">=</span> <span class="sign">.</span>false<span class="sign">.</span>
<span class="line_number">2473 </span>    <span class="keyword">end</span> <span class="keyword">if</span>
<span class="line_number">2474 </span>    <span class="keyword">if</span> <span class="sign">(</span><span class="keyword">present</span><span class="sign">(</span>adjustl_str<span class="sign">)</span><span class="sign">)</span> <span class="keyword">then</span>
<span class="line_number">2475 </span>        adjustl_string <span class="sign">=</span> adjustl_str
<span class="line_number">2476 </span>    <span class="keyword">else</span>
<span class="line_number">2477 </span>        adjustl_string <span class="sign">=</span> <span class="sign">.</span>false<span class="sign">.</span>
<span class="line_number">2478 </span>    <span class="keyword">end</span> <span class="keyword">if</span>
<span class="line_number">2479 </span>
<span class="line_number">2480 </span>    <span class="comment">!create the variable as an array:</span>
<span class="line_number">2481 </span>    <span class="keyword">call</span> json_value_create<span class="sign">(</span>var<span class="sign">)</span>
<span class="line_number">2482 </span>    <span class="keyword">call</span> to_array<span class="sign">(</span>var<span class="sign">,</span>name<span class="sign">)</span>
<span class="line_number">2483 </span>
<span class="line_number">2484 </span>    <span class="comment">!populate the array:</span>
<span class="line_number">2485 </span>    <span class="keyword">do</span> i<span class="sign">=</span>1<span class="sign">,</span><span class="keyword">size</span><span class="sign">(</span>val<span class="sign">)</span>
<span class="line_number">2486 </span>
<span class="line_number">2487 </span>        <span class="comment">!the string to write:</span>
<span class="line_number">2488 </span>        str <span class="sign">=</span> val<span class="sign">(</span>i<span class="sign">)</span>
<span class="line_number">2489 </span>        <span class="keyword">if</span> <span class="sign">(</span>adjustl_string<span class="sign">)</span> str <span class="sign">=</span> <span class="keyword">adjustl</span><span class="sign">(</span>str<span class="sign">)</span>
<span class="line_number">2490 </span>        <span class="keyword">if</span> <span class="sign">(</span>trim_string<span class="sign">)</span>    str <span class="sign">=</span> <span class="keyword">trim</span><span class="sign">(</span>str<span class="sign">)</span>
<span class="line_number">2491 </span>
<span class="line_number">2492 </span>        <span class="comment">!write it:</span>
<span class="line_number">2493 </span>        <span class="keyword">call</span> <a href="#robo5">json_add</a><span class="sign">(</span>var<span class="sign">,</span> <span class="squote">''</span><span class="sign">,</span> str<span class="sign">)</span>
<span class="line_number">2494 </span>
<span class="line_number">2495 </span>        <span class="comment">!cleanup</span>
<span class="line_number">2496 </span>        <span class="keyword">deallocate</span><span class="sign">(</span>str<span class="sign">)</span>
<span class="line_number">2497 </span>
<span class="line_number">2498 </span>    <span class="keyword">end</span> <span class="keyword">do</span>
<span class="line_number">2499 </span>
<span class="line_number">2500 </span>    <span class="comment">!add it:</span>
<span class="line_number">2501 </span>    <span class="keyword">call</span> <a href="#robo5">json_add</a><span class="sign">(</span>me<span class="sign">,</span> var<span class="sign">)</span>
<span class="line_number">2502 </span>
<span class="line_number">2503 </span>    <span class="comment">!cleanup:</span>
<span class="line_number">2504 </span>    <span class="keyword">nullify</span><span class="sign">(</span>var<span class="sign">)</span>
<span class="line_number">2505 </span>
<span class="line_number">2506 </span>    <span class="keyword">end</span> <span class="keyword">subroutine</span> <strong>json_value_add_string_vec</strong>
</pre>

<hr />
<a name="json5fmodule2fjson5fvalue5fdestroy"></a>
<a name="robo83"></a><h2>json_module/json_value_destroy [ Functions ]</h2>

<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo0">json_module</a> ] [ <a href="./robo_functions.html#robo_top_of_doc">Functions</a> ]</p>
<p class="item_name">NAME</p>
<p>    <strong>json_value_destroy</strong>
</p>
<p class="item_name">DESCRIPTION</p>
<p>    Destroy a <a href="#robo4">json_value</a> linked-list structure.
</p>
<p class="item_name">NOTES</p>
<p>    This routine does not check for exceptions.
</p>

<p>    The original version of this routine was not
    properly freeing the memory.  It has been rewritten.
</p>
<p class="item_name">AUTHOR</p>
<p>    Jacob Williams : 1/22/2014
</p>
<p class="item_name">SOURCE</p>
<pre class="source"><span class="line_number">1541 </span>    <span class="keyword">recursive</span> <span class="keyword">subroutine</span> <strong>json_value_destroy</strong><span class="sign">(</span>this<span class="sign">)</span>
<span class="line_number">1542 </span>
<span class="line_number">1543 </span>    <span class="keyword">implicit</span> <span class="keyword">none</span>
<span class="line_number">1544 </span>
<span class="line_number">1545 </span>    <span class="keyword">type</span><span class="sign">(</span><a href="#robo4">json_value</a><span class="sign">)</span><span class="sign">,</span><span class="keyword">pointer</span> <span class="sign">:</span><span class="sign">:</span> this
<span class="line_number">1546 </span>
<span class="line_number">1547 </span>    <span class="keyword">if</span> <span class="sign">(</span><span class="keyword">associated</span><span class="sign">(</span>this<span class="sign">)</span><span class="sign">)</span> <span class="keyword">then</span>
<span class="line_number">1548 </span>
<span class="line_number">1549 </span>        <span class="keyword">if</span> <span class="sign">(</span><span class="keyword">allocated</span><span class="sign">(</span>this<span class="sign">%</span>name<span class="sign">)</span><span class="sign">)</span> <span class="keyword">deallocate</span><span class="sign">(</span>this<span class="sign">%</span>name<span class="sign">)</span>
<span class="line_number">1550 </span>
<span class="line_number">1551 </span>        <span class="keyword">call</span> destroy_json_data<span class="sign">(</span>this<span class="sign">)</span>
<span class="line_number">1552 </span>
<span class="line_number">1553 </span>        <span class="keyword">if</span> <span class="sign">(</span><span class="keyword">associated</span><span class="sign">(</span>this<span class="sign">%</span>children<span class="sign">)</span><span class="sign">)</span> <span class="keyword">call</span> <strong>json_value_destroy</strong><span class="sign">(</span>this<span class="sign">%</span>children<span class="sign">)</span>
<span class="line_number">1554 </span>        this<span class="sign">%</span>n_children <span class="sign">=</span> 0
<span class="line_number">1555 </span>
<span class="line_number">1556 </span>        <span class="keyword">if</span> <span class="sign">(</span><span class="keyword">associated</span><span class="sign">(</span>this<span class="sign">%</span>next<span class="sign">)</span><span class="sign">)</span> <span class="keyword">call</span> <strong>json_value_destroy</strong><span class="sign">(</span>this<span class="sign">%</span>next<span class="sign">)</span>
<span class="line_number">1557 </span>
<span class="line_number">1558 </span>        <span class="keyword">if</span> <span class="sign">(</span><span class="keyword">associated</span><span class="sign">(</span>this<span class="sign">%</span>previous<span class="sign">)</span><span class="sign">)</span> <span class="keyword">nullify</span><span class="sign">(</span>this<span class="sign">%</span>previous<span class="sign">)</span>
<span class="line_number">1559 </span>        <span class="keyword">if</span> <span class="sign">(</span><span class="keyword">associated</span><span class="sign">(</span>this<span class="sign">%</span>parent<span class="sign">)</span><span class="sign">)</span>   <span class="keyword">nullify</span><span class="sign">(</span>this<span class="sign">%</span>parent<span class="sign">)</span>
<span class="line_number">1560 </span>        <span class="keyword">if</span> <span class="sign">(</span><span class="keyword">associated</span><span class="sign">(</span>this<span class="sign">%</span>tail<span class="sign">)</span><span class="sign">)</span>     <span class="keyword">nullify</span><span class="sign">(</span>this<span class="sign">%</span>tail<span class="sign">)</span>
<span class="line_number">1561 </span>
<span class="line_number">1562 </span>        <span class="keyword">deallocate</span><span class="sign">(</span>this<span class="sign">)</span>
<span class="line_number">1563 </span>
<span class="line_number">1564 </span>        <span class="keyword">nullify</span><span class="sign">(</span>this<span class="sign">)</span>
<span class="line_number">1565 </span>
<span class="line_number">1566 </span>    <span class="keyword">end</span> <span class="keyword">if</span>
<span class="line_number">1567 </span>
<span class="line_number">1568 </span>    <span class="keyword">end</span> <span class="keyword">subroutine</span> <strong>json_value_destroy</strong>
</pre>

<hr />
<a name="json5fmodule2fjson5fvalue5fget5fby5findex"></a>
<a name="robo84"></a><h2>json_module/json_value_get_by_index [ Functions ]</h2>

<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo0">json_module</a> ] [ <a href="./robo_functions.html#robo_top_of_doc">Functions</a> ]</p>
<p class="item_name">NAME</p>
<p>    <strong>json_value_get_by_index</strong>
</p>
<p class="item_name">DESCRIPTION</p>
<p>    Returns a child in the object or array given the index.
</p>
<p class="item_name">SOURCE</p>
<pre class="source"><span class="line_number">2548 </span>    <span class="keyword">subroutine</span> <strong>json_value_get_by_index</strong><span class="sign">(</span>this<span class="sign">,</span> idx<span class="sign">,</span> p<span class="sign">)</span>
<span class="line_number">2549 </span>
<span class="line_number">2550 </span>    <span class="keyword">implicit</span> <span class="keyword">none</span>
<span class="line_number">2551 </span>
<span class="line_number">2552 </span>    <span class="keyword">type</span><span class="sign">(</span><a href="#robo4">json_value</a><span class="sign">)</span><span class="sign">,</span><span class="keyword">pointer</span><span class="sign">,</span><span class="keyword">intent</span><span class="sign">(</span>in<span class="sign">)</span> <span class="sign">:</span><span class="sign">:</span> this
<span class="line_number">2553 </span>    <span class="keyword">integer</span><span class="sign">(</span>IK<span class="sign">)</span><span class="sign">,</span><span class="keyword">intent</span><span class="sign">(</span>in<span class="sign">)</span>              <span class="sign">:</span><span class="sign">:</span> idx
<span class="line_number">2554 </span>    <span class="keyword">type</span><span class="sign">(</span><a href="#robo4">json_value</a><span class="sign">)</span><span class="sign">,</span><span class="keyword">pointer</span>            <span class="sign">:</span><span class="sign">:</span> p
<span class="line_number">2555 </span>
<span class="line_number">2556 </span>    <span class="keyword">integer</span><span class="sign">(</span>IK<span class="sign">)</span> <span class="sign">:</span><span class="sign">:</span> i
<span class="line_number">2557 </span>
<span class="line_number">2558 </span>    <span class="keyword">nullify</span><span class="sign">(</span>p<span class="sign">)</span>
<span class="line_number">2559 </span>
<span class="line_number">2560 </span>    <span class="keyword">if</span> <span class="sign">(</span><span class="sign">.</span><span class="keyword">not</span><span class="sign">.</span> exception_thrown<span class="sign">)</span> <span class="keyword">then</span>
<span class="line_number">2561 </span>
<span class="line_number">2562 </span>        <span class="keyword">if</span> <span class="sign">(</span><span class="keyword">associated</span><span class="sign">(</span>this<span class="sign">%</span>children<span class="sign">)</span><span class="sign">)</span> <span class="keyword">then</span>
<span class="line_number">2563 </span>
<span class="line_number">2564 </span>            p <span class="sign">=</span><span class="sign">&gt;</span> this<span class="sign">%</span>children
<span class="line_number">2565 </span>
<span class="line_number">2566 </span>            <span class="keyword">do</span> i <span class="sign">=</span> 1<span class="sign">,</span> idx <span class="sign">-</span> 1
<span class="line_number">2567 </span>
<span class="line_number">2568 </span>                <span class="keyword">if</span> <span class="sign">(</span><span class="keyword">associated</span><span class="sign">(</span>p<span class="sign">%</span>next<span class="sign">)</span><span class="sign">)</span> <span class="keyword">then</span>
<span class="line_number">2569 </span>                    p <span class="sign">=</span><span class="sign">&gt;</span> p<span class="sign">%</span>next
<span class="line_number">2570 </span>                <span class="keyword">else</span>
<span class="line_number">2571 </span>                    <span class="keyword">call</span> throw_exception<span class="sign">(</span><span class="squote">'Error in <strong>json_value_get_by_index</strong>:'</span><span class="sign">/</span><span class="sign">/</span><span class="sign">&amp;</span>
<span class="line_number">2572 </span>                                         <span class="squote">' p%next is not associated.'</span><span class="sign">)</span>
<span class="line_number">2573 </span>                    <span class="keyword">nullify</span><span class="sign">(</span>p<span class="sign">)</span>
<span class="line_number">2574 </span>                    <span class="keyword">return</span>
<span class="line_number">2575 </span>                <span class="keyword">end</span> <span class="keyword">if</span>
<span class="line_number">2576 </span>
<span class="line_number">2577 </span>            <span class="keyword">end</span> <span class="keyword">do</span>
<span class="line_number">2578 </span>
<span class="line_number">2579 </span>        <span class="keyword">else</span>
<span class="line_number">2580 </span>
<span class="line_number">2581 </span>            <span class="keyword">call</span> throw_exception<span class="sign">(</span><span class="squote">'Error in <strong>json_value_get_by_index</strong>:'</span><span class="sign">/</span><span class="sign">/</span><span class="sign">&amp;</span>
<span class="line_number">2582 </span>                                 <span class="squote">' this%children is not associated.'</span><span class="sign">)</span>
<span class="line_number">2583 </span>
<span class="line_number">2584 </span>        <span class="keyword">end</span> <span class="keyword">if</span>
<span class="line_number">2585 </span>
<span class="line_number">2586 </span>    <span class="keyword">end</span> <span class="keyword">if</span>
<span class="line_number">2587 </span>
<span class="line_number">2588 </span>    <span class="keyword">end</span> <span class="keyword">subroutine</span> <strong>json_value_get_by_index</strong>
</pre>

<hr />
<a name="json5fmodule2fjson5fvalue5fget5fby5fname5fchars"></a>
<a name="robo85"></a><h2>json_module/json_value_get_by_name_chars [ Functions ]</h2>

<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo0">json_module</a> ] [ <a href="./robo_functions.html#robo_top_of_doc">Functions</a> ]</p>
<p class="item_name">NAME</p>
<p>    <strong>json_value_get_by_name_chars</strong>
</p>
<p class="item_name">DESCRIPTION</p>
<p>    Returns a child in the object or array given the name string.
</p>
<p class="item_name">NOTES</p>
<p>    It is a case-sensitive search, and the name string is not trimmed,
    So, for example,
</p>
<pre>     'a ' /= 'A ' /= 'a  '
</pre>
<p>    Note that the name is not parsed like it is in <a href="#robo56">json_get_by_path</a>.
</p>
<p class="item_name">SOURCE</p>
<pre class="source"><span class="line_number">2608 </span>    <span class="keyword">subroutine</span> <strong>json_value_get_by_name_chars</strong><span class="sign">(</span>this<span class="sign">,</span> name<span class="sign">,</span> p<span class="sign">)</span>
<span class="line_number">2609 </span>
<span class="line_number">2610 </span>    <span class="keyword">implicit</span> <span class="keyword">none</span>
<span class="line_number">2611 </span>
<span class="line_number">2612 </span>    <span class="keyword">type</span><span class="sign">(</span><a href="#robo4">json_value</a><span class="sign">)</span><span class="sign">,</span><span class="keyword">pointer</span><span class="sign">,</span><span class="keyword">intent</span><span class="sign">(</span>in<span class="sign">)</span> <span class="sign">:</span><span class="sign">:</span> this
<span class="line_number">2613 </span>    <span class="keyword">character</span><span class="sign">(</span><span class="keyword">kind</span><span class="sign">=</span>CK<span class="sign">,</span><span class="keyword">len</span><span class="sign">=</span><span class="sign">*</span><span class="sign">)</span><span class="sign">,</span><span class="keyword">intent</span><span class="sign">(</span>in<span class="sign">)</span> <span class="sign">:</span><span class="sign">:</span> name
<span class="line_number">2614 </span>    <span class="keyword">type</span><span class="sign">(</span><a href="#robo4">json_value</a><span class="sign">)</span><span class="sign">,</span><span class="keyword">pointer</span>            <span class="sign">:</span><span class="sign">:</span> p
<span class="line_number">2615 </span>
<span class="line_number">2616 </span>    <span class="keyword">integer</span><span class="sign">(</span>IK<span class="sign">)</span> <span class="sign">:</span><span class="sign">:</span> i<span class="sign">,</span>n_children
<span class="line_number">2617 </span>
<span class="line_number">2618 </span>    <span class="keyword">nullify</span><span class="sign">(</span>p<span class="sign">)</span>
<span class="line_number">2619 </span>
<span class="line_number">2620 </span>    <span class="keyword">if</span> <span class="sign">(</span><span class="sign">.</span><span class="keyword">not</span><span class="sign">.</span> exception_thrown<span class="sign">)</span> <span class="keyword">then</span>
<span class="line_number">2621 </span>
<span class="line_number">2622 </span>        <span class="keyword">if</span> <span class="sign">(</span><span class="keyword">associated</span><span class="sign">(</span>this<span class="sign">)</span><span class="sign">)</span> <span class="keyword">then</span>
<span class="line_number">2623 </span>
<span class="line_number">2624 </span>            <span class="keyword">if</span> <span class="sign">(</span>this<span class="sign">%</span><a href="#robo2">var_type</a><span class="sign">=</span><span class="sign">=</span>json_object<span class="sign">)</span> <span class="keyword">then</span>
<span class="line_number">2625 </span>                n_children <span class="sign">=</span> <a href="#robo24">json_count</a><span class="sign">(</span>this<span class="sign">)</span>
<span class="line_number">2626 </span>                p <span class="sign">=</span><span class="sign">&gt;</span> this<span class="sign">%</span>children    <span class="comment">!start with first one</span>
<span class="line_number">2627 </span>                <span class="keyword">do</span> i<span class="sign">=</span>1<span class="sign">,</span> n_children
<span class="line_number">2628 </span>                    <span class="keyword">if</span> <span class="sign">(</span><span class="keyword">allocated</span><span class="sign">(</span>p<span class="sign">%</span>name<span class="sign">)</span><span class="sign">)</span> <span class="keyword">then</span>
<span class="line_number">2629 </span>                        <span class="keyword">if</span> <span class="sign">(</span>p<span class="sign">%</span>name <span class="sign">=</span><span class="sign">=</span> name<span class="sign">)</span> <span class="keyword">return</span>
<span class="line_number">2630 </span>                    <span class="keyword">end</span> <span class="keyword">if</span>
<span class="line_number">2631 </span>                    p <span class="sign">=</span><span class="sign">&gt;</span> p<span class="sign">%</span>next
<span class="line_number">2632 </span>                <span class="keyword">end</span> <span class="keyword">do</span>
<span class="line_number">2633 </span>            <span class="keyword">end</span> <span class="keyword">if</span>
<span class="line_number">2634 </span>
<span class="line_number">2635 </span>            <span class="comment">!did not find anything:</span>
<span class="line_number">2636 </span>            <span class="keyword">call</span> throw_exception<span class="sign">(</span><span class="squote">'Error in <strong>json_value_get_by_name_chars</strong>: '</span><span class="sign">/</span><span class="sign">/</span><span class="sign">&amp;</span>
<span class="line_number">2637 </span>                                 <span class="squote">'child variable '</span><span class="sign">/</span><span class="sign">/</span><span class="keyword">trim</span><span class="sign">(</span>name<span class="sign">)</span><span class="sign">/</span><span class="sign">/</span><span class="squote">' was not found.'</span><span class="sign">)</span>
<span class="line_number">2638 </span>            <span class="keyword">nullify</span><span class="sign">(</span>p<span class="sign">)</span>
<span class="line_number">2639 </span>
<span class="line_number">2640 </span>        <span class="keyword">else</span>
<span class="line_number">2641 </span>            <span class="keyword">call</span> throw_exception<span class="sign">(</span><span class="squote">'Error in <strong>json_value_get_by_name_chars</strong>: '</span><span class="sign">/</span><span class="sign">/</span><span class="sign">&amp;</span>
<span class="line_number">2642 </span>                                 <span class="squote">'pointer is not associated.'</span><span class="sign">)</span>
<span class="line_number">2643 </span>        <span class="keyword">end</span> <span class="keyword">if</span>
<span class="line_number">2644 </span>
<span class="line_number">2645 </span>    <span class="keyword">end</span> <span class="keyword">if</span>
<span class="line_number">2646 </span>
<span class="line_number">2647 </span>    <span class="keyword">end</span> <span class="keyword">subroutine</span> <strong>json_value_get_by_name_chars</strong>
</pre>

<hr />
<a name="json5fmodule2fjson5fvalue5fremove"></a>
<a name="robo86"></a><h2>json_module/json_value_remove [ Functions ]</h2>

<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo0">json_module</a> ] [ <a href="./robo_functions.html#robo_top_of_doc">Functions</a> ]</p>
<p class="item_name">NAME</p>
<p>    <strong>json_value_remove</strong>
</p>
<p class="item_name">DESCRIPTION</p>
<p>    Remove a <a href="#robo4">json_value</a> (and all its children)
    from a linked-list structure, preserving the rest of the structure.
</p>
<p class="item_name">INPUT</p>
<ul><li>    If destroy is not present, it is also destroyed.
</li>
<li>    If destroy is present and true, it is destroyed.
</li>
<li>    If destroy is present and false, it is not destroyed.
</li>
</ul>
<p></p>
<p class="item_name">EXAMPLE</p>
<p>    To extract an object from one json structure, and add it to another:
</p>
<pre>     type(<a href="#robo4">json_value</a>),pointer :: json1,json2,p
     logical :: found
     [create and populate json1 and json2]
     call <a href="#robo7">json_get</a>(json1,'name',p,found)  ! get pointer to name element of json1
     call <a href="#robo11">json_remove</a>(p,destroy=.false.)  ! remove it from json1 (don't destroy)
     call <a href="#robo5">json_add</a>(json2,p)               ! add it to json2
</pre>
<p>
    To remove an object from a json structure (and destroy it):
</p>
<pre>     type(<a href="#robo4">json_value</a>),pointer :: json1,p
     logical :: found
     [create and populate json1]
     call <a href="#robo7">json_get</a>(json1,'name',p,found)  ! get pointer to name element of json1
     call <a href="#robo11">json_remove</a>(p)                  ! remove and destroy it
</pre>
<p></p>
<p class="item_name">AUTHOR</p>
<p>    Jacob Williams : 9/9/2014
</p>
<p class="item_name">HISTORY</p>
<p>    JW : 12/28/2014 : added destroy optional argument.
</p>
<p class="item_name">SOURCE</p>
<pre class="source"><span class="line_number">1611 </span>    <span class="keyword">subroutine</span> <strong>json_value_remove</strong><span class="sign">(</span>me<span class="sign">,</span>destroy<span class="sign">)</span>
<span class="line_number">1612 </span>
<span class="line_number">1613 </span>    <span class="keyword">implicit</span> <span class="keyword">none</span>
<span class="line_number">1614 </span>
<span class="line_number">1615 </span>    <span class="keyword">type</span><span class="sign">(</span><a href="#robo4">json_value</a><span class="sign">)</span><span class="sign">,</span><span class="keyword">pointer</span>        <span class="sign">:</span><span class="sign">:</span> me
<span class="line_number">1616 </span>    <span class="keyword">logical</span><span class="sign">(</span>LK<span class="sign">)</span><span class="sign">,</span><span class="keyword">intent</span><span class="sign">(</span>in<span class="sign">)</span><span class="sign">,</span><span class="keyword">optional</span> <span class="sign">:</span><span class="sign">:</span> destroy
<span class="line_number">1617 </span>
<span class="line_number">1618 </span>    <span class="keyword">type</span><span class="sign">(</span><a href="#robo4">json_value</a><span class="sign">)</span><span class="sign">,</span><span class="keyword">pointer</span> <span class="sign">:</span><span class="sign">:</span> parent<span class="sign">,</span>previous<span class="sign">,</span>next
<span class="line_number">1619 </span>    <span class="keyword">logical</span><span class="sign">(</span>LK<span class="sign">)</span> <span class="sign">:</span><span class="sign">:</span> destroy_it
<span class="line_number">1620 </span>
<span class="line_number">1621 </span>    <span class="keyword">if</span> <span class="sign">(</span><span class="keyword">associated</span><span class="sign">(</span>me<span class="sign">)</span><span class="sign">)</span> <span class="keyword">then</span>
<span class="line_number">1622 </span>
<span class="line_number">1623 </span>        <span class="comment">!optional input argument:</span>
<span class="line_number">1624 </span>        <span class="keyword">if</span> <span class="sign">(</span><span class="keyword">present</span><span class="sign">(</span>destroy<span class="sign">)</span><span class="sign">)</span> <span class="keyword">then</span>
<span class="line_number">1625 </span>            destroy_it <span class="sign">=</span> destroy
<span class="line_number">1626 </span>        <span class="keyword">else</span>
<span class="line_number">1627 </span>            destroy_it <span class="sign">=</span> <span class="sign">.</span>true<span class="sign">.</span>
<span class="line_number">1628 </span>        <span class="keyword">end</span> <span class="keyword">if</span>
<span class="line_number">1629 </span>
<span class="line_number">1630 </span>        <span class="keyword">if</span> <span class="sign">(</span><span class="keyword">associated</span><span class="sign">(</span>me<span class="sign">%</span>parent<span class="sign">)</span><span class="sign">)</span> <span class="keyword">then</span>
<span class="line_number">1631 </span>
<span class="line_number">1632 </span>            parent <span class="sign">=</span><span class="sign">&gt;</span> me<span class="sign">%</span>parent
<span class="line_number">1633 </span>
<span class="line_number">1634 </span>            <span class="keyword">if</span> <span class="sign">(</span><span class="keyword">associated</span><span class="sign">(</span>me<span class="sign">%</span>next<span class="sign">)</span><span class="sign">)</span> <span class="keyword">then</span>
<span class="line_number">1635 </span>
<span class="line_number">1636 </span>                <span class="comment">!there are later items in the list:</span>
<span class="line_number">1637 </span>
<span class="line_number">1638 </span>                next <span class="sign">=</span><span class="sign">&gt;</span> me<span class="sign">%</span>next
<span class="line_number">1639 </span>                <span class="keyword">nullify</span><span class="sign">(</span>me<span class="sign">%</span>next<span class="sign">)</span>
<span class="line_number">1640 </span>
<span class="line_number">1641 </span>                <span class="keyword">if</span> <span class="sign">(</span><span class="keyword">associated</span><span class="sign">(</span>me<span class="sign">%</span>previous<span class="sign">)</span><span class="sign">)</span> <span class="keyword">then</span>
<span class="line_number">1642 </span>                    <span class="comment">!there are earlier items in the list</span>
<span class="line_number">1643 </span>                    previous <span class="sign">=</span><span class="sign">&gt;</span> me<span class="sign">%</span>previous
<span class="line_number">1644 </span>                    previous<span class="sign">%</span>next <span class="sign">=</span><span class="sign">&gt;</span> next
<span class="line_number">1645 </span>                    next<span class="sign">%</span>previous <span class="sign">=</span><span class="sign">&gt;</span> previous
<span class="line_number">1646 </span>                <span class="keyword">else</span>
<span class="line_number">1647 </span>                    <span class="comment">!this is the first item in the list</span>
<span class="line_number">1648 </span>                    parent<span class="sign">%</span>children <span class="sign">=</span><span class="sign">&gt;</span> next
<span class="line_number">1649 </span>                    <span class="keyword">nullify</span><span class="sign">(</span>next<span class="sign">%</span>previous<span class="sign">)</span>
<span class="line_number">1650 </span>                <span class="keyword">end</span> <span class="keyword">if</span>
<span class="line_number">1651 </span>
<span class="line_number">1652 </span>            <span class="keyword">else</span>
<span class="line_number">1653 </span>
<span class="line_number">1654 </span>                <span class="keyword">if</span> <span class="sign">(</span><span class="keyword">associated</span><span class="sign">(</span>me<span class="sign">%</span>previous<span class="sign">)</span><span class="sign">)</span> <span class="keyword">then</span>
<span class="line_number">1655 </span>                    <span class="comment">!there are earlier items in the list:</span>
<span class="line_number">1656 </span>                    previous <span class="sign">=</span><span class="sign">&gt;</span> me<span class="sign">%</span>previous
<span class="line_number">1657 </span>                    <span class="keyword">nullify</span><span class="sign">(</span>previous<span class="sign">%</span>next<span class="sign">)</span>
<span class="line_number">1658 </span>                    parent<span class="sign">%</span>tail <span class="sign">=</span><span class="sign">&gt;</span> previous
<span class="line_number">1659 </span>                <span class="keyword">else</span>
<span class="line_number">1660 </span>                    <span class="comment">!this is the only item in the list:</span>
<span class="line_number">1661 </span>                    <span class="keyword">nullify</span><span class="sign">(</span>parent<span class="sign">%</span>children<span class="sign">)</span>
<span class="line_number">1662 </span>                    <span class="keyword">nullify</span><span class="sign">(</span>parent<span class="sign">%</span>tail<span class="sign">)</span>
<span class="line_number">1663 </span>                <span class="keyword">end</span> <span class="keyword">if</span>
<span class="line_number">1664 </span>
<span class="line_number">1665 </span>            <span class="keyword">end</span> <span class="keyword">if</span>
<span class="line_number">1666 </span>
<span class="line_number">1667 </span>            parent<span class="sign">%</span>n_children <span class="sign">=</span> parent<span class="sign">%</span>n_children <span class="sign">-</span> 1
<span class="line_number">1668 </span>
<span class="line_number">1669 </span>        <span class="keyword">end</span> <span class="keyword">if</span>
<span class="line_number">1670 </span>
<span class="line_number">1671 </span>        <span class="keyword">if</span> <span class="sign">(</span>destroy_it<span class="sign">)</span> <span class="keyword">call</span> <a href="#robo83">json_value_destroy</a><span class="sign">(</span>me<span class="sign">)</span>
<span class="line_number">1672 </span>
<span class="line_number">1673 </span>    <span class="keyword">end</span> <span class="keyword">if</span>
<span class="line_number">1674 </span>
<span class="line_number">1675 </span>    <span class="keyword">end</span> <span class="keyword">subroutine</span> <strong>json_value_remove</strong>
</pre>

<hr />
<a name="json5fmodule2fjson5fvalue5fremove5fif5fpresent"></a>
<a name="robo87"></a><h2>json_module/json_value_remove_if_present [ Functions ]</h2>

<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo0">json_module</a> ] [ <a href="./robo_functions.html#robo_top_of_doc">Functions</a> ]</p>
<p class="item_name">NAME</p>
<p>    <strong>json_value_remove_if_present</strong>
</p>
<p class="item_name">DESCRIPTION</p>
<p>    Given the path string, remove the variable from
    the <a href="#robo4">json_value</a> structure, if it exists.
</p>
<p class="item_name">AUTHOR</p>
<p>    Jacob Williams : 12/6/2014
</p>
<p class="item_name">SOURCE</p>
<pre class="source"><span class="line_number">1693 </span>    <span class="keyword">subroutine</span> <strong>json_value_remove_if_present</strong><span class="sign">(</span>p<span class="sign">,</span>name<span class="sign">)</span>
<span class="line_number">1694 </span>
<span class="line_number">1695 </span>    <span class="keyword">implicit</span> <span class="keyword">none</span>
<span class="line_number">1696 </span>
<span class="line_number">1697 </span>    <span class="keyword">type</span><span class="sign">(</span><a href="#robo4">json_value</a><span class="sign">)</span><span class="sign">,</span><span class="keyword">pointer</span>            <span class="sign">:</span><span class="sign">:</span> p
<span class="line_number">1698 </span>    <span class="keyword">character</span><span class="sign">(</span><span class="keyword">kind</span><span class="sign">=</span>CK<span class="sign">,</span><span class="keyword">len</span><span class="sign">=</span><span class="sign">*</span><span class="sign">)</span><span class="sign">,</span><span class="keyword">intent</span><span class="sign">(</span>in<span class="sign">)</span> <span class="sign">:</span><span class="sign">:</span> name
<span class="line_number">1699 </span>
<span class="line_number">1700 </span>    <span class="keyword">type</span><span class="sign">(</span><a href="#robo4">json_value</a><span class="sign">)</span><span class="sign">,</span><span class="keyword">pointer</span> <span class="sign">:</span><span class="sign">:</span> p_var
<span class="line_number">1701 </span>    <span class="keyword">logical</span><span class="sign">(</span>LK<span class="sign">)</span> <span class="sign">:</span><span class="sign">:</span> found
<span class="line_number">1702 </span>
<span class="line_number">1703 </span>    <span class="keyword">call</span> <a href="#robo7">json_get</a><span class="sign">(</span>p<span class="sign">,</span>name<span class="sign">,</span>p_var<span class="sign">,</span>found<span class="sign">)</span>
<span class="line_number">1704 </span>    <span class="keyword">if</span> <span class="sign">(</span>found<span class="sign">)</span> <span class="keyword">call</span> <a href="#robo11">json_remove</a><span class="sign">(</span>p_var<span class="sign">)</span>
<span class="line_number">1705 </span>
<span class="line_number">1706 </span>    <span class="keyword">end</span> <span class="keyword">subroutine</span> <strong>json_value_remove_if_present</strong>
</pre>

<hr />
<a name="json5fmodule2fjson5fvalue5fto5fstring"></a>
<a name="robo88"></a><h2>json_module/json_value_to_string [ Functions ]</h2>

<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo0">json_module</a> ] [ <a href="./robo_functions.html#robo_top_of_doc">Functions</a> ]</p>
<p class="item_name">NAME</p>
<p>    <strong>json_value_to_string</strong>
</p>
<p class="item_name">DESCRIPTION</p>
<p>    Print the JSON structure to an allocatable string.
</p>
<p class="item_name">AUTHOR</p>
<p>    Jacob Williams : 2/12/2014
</p>
<p class="item_name">SOURCE</p>
<pre class="source"><span class="line_number">2664 </span>    <span class="keyword">subroutine</span> <strong>json_value_to_string</strong><span class="sign">(</span>me<span class="sign">,</span>str<span class="sign">)</span>
<span class="line_number">2665 </span>
<span class="line_number">2666 </span>    <span class="keyword">implicit</span> <span class="keyword">none</span>
<span class="line_number">2667 </span>
<span class="line_number">2668 </span>    <span class="keyword">type</span><span class="sign">(</span><a href="#robo4">json_value</a><span class="sign">)</span><span class="sign">,</span><span class="keyword">pointer</span><span class="sign">,</span><span class="keyword">intent</span><span class="sign">(</span>in<span class="sign">)</span>              <span class="sign">:</span><span class="sign">:</span> me
<span class="line_number">2669 </span>    <span class="keyword">character</span><span class="sign">(</span><span class="keyword">kind</span><span class="sign">=</span>CK<span class="sign">,</span><span class="keyword">len</span><span class="sign">=</span><span class="sign">:</span><span class="sign">)</span><span class="sign">,</span><span class="keyword">intent</span><span class="sign">(</span>out<span class="sign">)</span><span class="sign">,</span><span class="keyword">allocatable</span> <span class="sign">:</span><span class="sign">:</span> str
<span class="line_number">2670 </span>
<span class="line_number">2671 </span>    str <span class="sign">=</span> <span class="squote">''</span>
<span class="line_number">2672 </span>    <span class="keyword">call</span> json_value_print<span class="sign">(</span>me<span class="sign">,</span> iunit<span class="sign">=</span>0<span class="sign">,</span> str<span class="sign">=</span>str<span class="sign">,</span> indent<span class="sign">=</span>1<span class="sign">,</span> colon<span class="sign">=</span><span class="sign">.</span>true<span class="sign">.</span><span class="sign">)</span>
<span class="line_number">2673 </span>
<span class="line_number">2674 </span>    <span class="keyword">end</span> <span class="keyword">subroutine</span> <strong>json_value_to_string</strong>
</pre>

</div> <!-- content -->
<div id="footer">
<p>Generated from ./src/json_module.f90 with <a href="http://www.xs4all.nl/~rfsber/Robo/robodoc.html">ROBODoc</a> V4.99.41 on Sun Mar 01 2015 22:41:35
</p>
</div> <!-- footer -->
</body>
</html>
